!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.EasylogicStudio=e():t.EasylogicStudio=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"randomNumber",(function(){return b})),n.d(r,"randomByCount",(function(){return m})),n.d(r,"random",(function(){return g})),n.d(r,"randomRGBA",(function(){return w}));var o={};n.r(o),n.d(o,"round",(function(){return M})),n.d(o,"degreeToRadian",(function(){return z})),n.d(o,"div",(function(){return B})),n.d(o,"radianToDegree",(function(){return F})),n.d(o,"getXInCircle",(function(){return G})),n.d(o,"getYInCircle",(function(){return H})),n.d(o,"getXYInCircle",(function(){return X})),n.d(o,"getDist",(function(){return Y})),n.d(o,"calculateAngle",(function(){return N})),n.d(o,"calculateAngleByPoints",(function(){return K})),n.d(o,"calculateAnglePointDistance",(function(){return U})),n.d(o,"calculateAngle360",(function(){return W})),n.d(o,"uuid",(function(){return q})),n.d(o,"uuidShort",(function(){return J})),n.d(o,"cubicBezier",(function(){return nt})),n.d(o,"getGradientLine",(function(){return rt})),n.d(o,"CCW",(function(){return ot})),n.d(o,"incircle",(function(){return it})),n.d(o,"initPolygon",(function(){return at})),n.d(o,"Deluanay",(function(){return ut})),n.d(o,"generate_sample_points",(function(){return st})),n.d(o,"getCenterInTriangle",(function(){return lt})),n.d(o,"normalize",(function(){return pt}));var i={};n.r(i),n.d(i,"debounce",(function(){return Zt})),n.d(i,"throttle",(function(){return qt})),n.d(i,"keyEach",(function(){return Jt})),n.d(i,"keyMap",(function(){return Qt})),n.d(i,"keyMapJoin",(function(){return te})),n.d(i,"get",(function(){return ee})),n.d(i,"defaultValue",(function(){return ne})),n.d(i,"isUndefined",(function(){return re})),n.d(i,"isNotUndefined",(function(){return oe})),n.d(i,"isArray",(function(){return ie})),n.d(i,"isBoolean",(function(){return ae})),n.d(i,"isString",(function(){return ce})),n.d(i,"isNotString",(function(){return ue})),n.d(i,"isObject",(function(){return se})),n.d(i,"isFunction",(function(){return le})),n.d(i,"isNumber",(function(){return fe})),n.d(i,"clone",(function(){return pe})),n.d(i,"cleanObject",(function(){return ye})),n.d(i,"combineKeyArray",(function(){return he})),n.d(i,"repeat",(function(){return de})),n.d(i,"randomItem",(function(){return ve})),n.d(i,"html",(function(){return me})),n.d(i,"CSS_TO_STRING",(function(){return ge})),n.d(i,"STRING_TO_CSS",(function(){return we})),n.d(i,"OBJECT_TO_PROPERTY",(function(){return Oe})),n.d(i,"OBJECT_TO_CLASS",(function(){return ke})),n.d(i,"TAG_TO_STRING",(function(){return Se})),n.d(i,"mapjoin",(function(){return je})),n.d(i,"isArrayEquals",(function(){return Pe})),n.d(i,"splitMethodByKeyword",(function(){return xe})),n.d(i,"curveToPath",(function(){return Re}));var a={};n.r(a),n.d(a,"format",(function(){return $e})),n.d(a,"hex",(function(){return Ee})),n.d(a,"rgb",(function(){return _e})),n.d(a,"hsl",(function(){return Ce}));var c={};n.r(c),n.d(c,"ReverseXyz",(function(){return Te})),n.d(c,"ReverseRGB",(function(){return De})),n.d(c,"XYZtoRGB",(function(){return Ae})),n.d(c,"LABtoXYZ",(function(){return Ie})),n.d(c,"PivotXyz",(function(){return Ve})),n.d(c,"XYZtoLAB",(function(){return Le})),n.d(c,"LABtoRGB",(function(){return Me}));var u={};n.r(u),n.d(u,"RGBtoHSV",(function(){return ze})),n.d(u,"RGBtoCMYK",(function(){return Be})),n.d(u,"RGBtoHSL",(function(){return Fe})),n.d(u,"c",(function(){return Ge})),n.d(u,"gray",(function(){return He})),n.d(u,"RGBtoSimpleGray",(function(){return Xe})),n.d(u,"RGBtoGray",(function(){return Ye})),n.d(u,"brightness",(function(){return Ne})),n.d(u,"RGBtoYCrCb",(function(){return Ke})),n.d(u,"PivotRGB",(function(){return Ue})),n.d(u,"RGBtoXYZ",(function(){return We})),n.d(u,"RGBtoLAB",(function(){return Ze}));var s={};n.r(s),n.d(s,"CMYKtoRGB",(function(){return qe}));var l={};n.r(l),n.d(l,"HSVtoRGB",(function(){return Je})),n.d(l,"HSVtoHSL",(function(){return Qe}));var f={};n.r(f),n.d(f,"HUEtoRGB",(function(){return tn})),n.d(f,"HSLtoHSV",(function(){return en})),n.d(f,"HSLtoRGB",(function(){return nn}));var p={};n.r(p),n.d(p,"YCrCbtoRGB",(function(){return rn}));var h={};n.r(h),n.d(h,"getColorIndexString",(function(){return yn})),n.d(h,"isColor",(function(){return hn})),n.d(h,"matches",(function(){return dn})),n.d(h,"convertMatches",(function(){return vn})),n.d(h,"convertMatchesArray",(function(){return bn})),n.d(h,"reverseMatches",(function(){return mn})),n.d(h,"trim",(function(){return wn})),n.d(h,"parse",(function(){return On})),n.d(h,"parseGradient",(function(){return kn}));var d={};n.r(d),n.d(d,"interpolateRGB",(function(){return Sn})),n.d(d,"interpolateRGBObject",(function(){return jn})),n.d(d,"scale",(function(){return Pn})),n.d(d,"blend",(function(){return xn})),n.d(d,"mix",(function(){return Rn})),n.d(d,"contrast",(function(){return $n})),n.d(d,"contrastColor",(function(){return En})),n.d(d,"gradient",(function(){return _n})),n.d(d,"scaleHSV",(function(){return Cn})),n.d(d,"scaleH",(function(){return Tn})),n.d(d,"scaleS",(function(){return Dn})),n.d(d,"scaleV",(function(){return An}));var v={};n.r(v),n.d(v,"start",(function(){return uy}));n(0);function b(t,e){return Math.floor(Math.random()*(e-t+1))+t}function m(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],n=0;n<t;n++)e[e.length]=g();return e}function g(){return _e({r:b(0,255),g:b(0,255),b:b(0,255)})}function w(){return _e({r:b(0,255),g:b(0,255),b:b(0,255),a:b(0,1e3)/1e3})}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var S={center:50,top:0,left:0,right:100,bottom:100},j=function t(){k(this,t)};j.CENTER="center",j.TOP="top",j.RIGHT="right",j.LEFT="left",j.BOTTOM="bottom";var P=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(k(this,t),this.value=e,fe(this.value)&&isNaN(this.value))throw new Error("NaN is not able to set");this.unit=n}var e,n,r;return e=t,n=[{key:Symbol.toPrimitive,value:function(t){return"number"==t?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--".concat(this.value,")");case"calc":return"calc(".concat(this.value,")");default:return this.value+this.unit}}},{key:"isUnitType",value:function(t){return this.unit===t}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isRad",value:function(){return this.isUnitType("rad")}},{key:"isTurn",value:function(){return this.isUnitType("turn")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"isNaN",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return fe(this.value)&&isNaN(this.value)}))},{key:"set",value:function(t){return this.value=t,this}},{key:"add",value:function(t){return this.value+=+t,this}},{key:"sub",value:function(t){return this.add(-1*t)}},{key:"mul",value:function(t){return this.value*=+t,this}},{key:"div",value:function(t){return this.value/=+t,this}},{key:"mod",value:function(t){return this.value%=+t,this}},{key:"clone",value:function(){return new t(this.value,this.unit)}},{key:"getUnitName",value:function(){return"%"===this.unit?"percent":this.unit}},{key:"toJSON",value:function(){return this.toString()}},{key:"rate",value:function(t){return t/this.value}},{key:"stringToPercent",value:function(){return oe(S[this.value])?t.percent(S[this.value]):t.percent(0)}},{key:"stringToEm",value:function(t){return this.stringToPercent().toEm(t)}},{key:"stringToPx",value:function(t){return this.stringToPercent().toPx(t)}},{key:"toPercent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?this.clone():this.isPx()?t.percent(100*this.value/e):this.isEm()?t.percent(this.value*n*100/e):this.isString()?this.stringToPercent(e):this.isDeg()?t.percent(this.value/360*100):void 0}},{key:"toEm",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return this.isPercent()?t.em(this.value/100*e/n):this.isPx()?t.em(this.value/n):this.isEm()?this.clone():this.isString()?this.stringToEm(e):void 0}},{key:"toPx",value:function(e){return this.isPercent()?t.px(this.value/100*e):this.isPx()?this.clone():this.isEm()?t.px(this.value/100*e/16):this.isString()?this.stringToPx(e):void 0}},{key:"toDeg",value:function(){return this.isDeg()?this.clone():this.isTurn()?t.deg(360*this.value):this.isRad()?t.deg(this.value*(180/Math.PI)):void 0}},{key:"toTurn",value:function(){return this.isTurn()?this.clone():this.isDeg()?t.turn(this.value/360):void 0}},{key:"toSecond",value:function(){return this.isSecond()?this:this.isMs()?t.second(this.value/1e3):void 0}},{key:"toMs",value:function(){return this.isSecond()?t.ms(1e3*this.value):this.isMs()?this:void 0}},{key:"to",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return"px"===t?this.toPx(e,n):"%"===t||"percent"===t?this.toPercent(e,n):"em"===t?this.toEm(e,n):"deg"===t?this.toDeg():"turn"===t?this.toTurn():void 0}},{key:"toUnit",value:function(e){return new t(this.value,e)}},{key:"calculate",value:function(t,e){var n=this[t];return n?n.call(this,e):this}},{key:"includes",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.includes(this.value)}},{key:"round",value:function(e){return new t(M(this.value,e),this.unit)}},{key:"floor",value:function(){return new t(Math.floor(this.value),this.unit)}},{key:"equals",value:function(t){return this.is(t.value)&&this.isUnitType(t.unit)}},{key:"is",value:function(t){return this.value===t}},{key:"clamp",value:function(e,n){return new t(Math.max(e,Math.min(n,this.value)),this.unit)}}],r=[{key:"min",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value>e[o].value&&(r=e[o]);return r}},{key:"max",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.shift(),o=0,i=e.length;o<i;o++)r.value<e[o].value&&(r=e[o]);return r}},{key:"string",value:function(e){return new t(e+"","")}},{key:"number",value:function(e){return new t(+e,"number")}},{key:"px",value:function(e){return new t(+e,"px")}},{key:"em",value:function(e){return new t(+e,"em")}},{key:"percent",value:function(e){return new t(+e,"%")}},{key:"deg",value:function(e){return new t(+e,"deg")}},{key:"rad",value:function(e){return new t(+e,"rad")}},{key:"turn",value:function(e){return new t(+e,"turn")}},{key:"fr",value:function(e){return new t(+e,"fr")}},{key:"second",value:function(e){return new t(+e,"s")}},{key:"ms",value:function(e){return new t(+e,"ms")}},{key:"var",value:function(e){return new t(e+"","--")}},{key:"z",value:function(){return t.px(0)}},{key:"calc",value:function(e){return new t(e,"calc")}},{key:"parse",value:function(e){if(ce(e=e||t.number(0))){var n=(e=e.trim()).replace(P,"$1 $2").split(" ");return+n[0]==n[0]?new t(+n[0],n[1]):new t(n[0])}if(e instanceof t)return e;if(e.unit){if("%"==e.unit||"percent"==e.unit){var r=0;return oe(e.percent)?r=e.percent:oe(e.value)&&(r=e.value),t.percent(r)}if("px"==e.unit)return r=0,oe(e.px)?r=e.px:oe(e.value)&&(r=e.value),t.px(r);if("em"==e.unit)return r=0,oe(e.em)?r=e.em:oe(e.value)&&(r=e.value),t.em(r);if("deg"==e.unit)return r=0,oe(e.deg)?r=e.deg:oe(e.value)&&(r=e.value),t.deg(r);if("turn"==e.unit)return r=0,oe(e.deg)?r=e.turn:oe(e.value)&&(r=e.value),t.turn(r);if("s"==e.unit)return r=0,oe(e.second)?r=e.second:oe(e.value)&&(r=e.value),t.second(r);if("ms"==e.unit)return r=0,oe(e.ms)?r=e.ms:oe(e.value)&&(r=e.value),t.ms(r);if("number"==e.unit)return r=0,oe(e.value)&&(r=e.value),t.number(r);if("--"==e.unit)return r=0,oe(e.value)&&(r=e.value),t.var(r);if(""===e.unit||"string"===e.unit)return r="",oe(e.str)?r=e.str:oe(e.value)&&(r=e.value),t.string(r)}return t.string(e)}}],n&&O(e.prototype,n),r&&O(e,r),t}();function $(t,e,n){return function(t,e){return n}}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}R.auto=R.string("auto");var C={create:function(t,e,n){return{x:t||0,y:e||0,z:n||0}},add:function(t,e){return{x:t.x+e.x,y:t.y+e.y,z:t.z+e.z}},sub:function(t,e){return{x:t.x-e.x,y:t.y-e.y,z:t.z-e.z}},mul:function(t,e){return{x:t.x*e.x,y:t.y*e.y,z:t.z*e.z}},div:function(t,e){return{x:t.x/e.x,y:t.y/e.y,z:t.z/e.z}},muls:function(t,e){return{x:t.x*e,y:t.y*e,z:t.z*e}},divs:function(t,e){return{x:t.x/e,y:t.y/e,z:t.z/e}},len:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},cross2d:function(t,e){return t.x*e.y-t.y*e.x},cross:function(t,e){return{x:t.y*e.z-t.z*e.y,y:t.z*e.x-t.x*e.z,z:t.x*e.y-t.y*e.x}},normalize:function(t){return C.divs(t,C.len(t))},ang:function(t,e){return Math.acos(C.dot(t,e)/(C.len(t)*C.len(e)))},copy:function(t){return{x:t.x,y:t.y,z:t.z}},equal:function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z},rotate:function(t,e){var n=t.x,r=t.y,o=t.z,i=e.x/2,a=e.y/2,c=e.z/2,u=Math.cos(i),s=Math.cos(a),l=Math.cos(c),f=Math.sin(i),p=Math.sin(a),y=Math.sin(c),h=u*s*l+-f*p*y,d=f*s*l- -u*p*y,v=u*p*l+f*s*-y,b=u*s*y- -f*p*l;return{x:n*(1-2*(v*v+b*b))+r*(2*(d*v-b*h))+o*(2*(d*b+v*h)),y:n*(2*(d*v+b*h))+r*(1-2*(d*d+b*b))+o*(2*(v*b-d*h)),z:n*(2*(d*b-v*h))+r*(2*(b*v+d*h))+o*(1-2*(d*d+v*v))}}};function T(t,e){var n=t.m11,r=t.m21,o=t.m31,i=t.m41,a=t.m12,c=t.m22,u=t.m32,s=t.m42,l=t.m13,f=t.m23,p=t.m33,y=t.m43,h=t.m14,d=t.m24,v=t.m34,b=t.m44,m=e[0],g=e[1],w=e[2],O=e[3];return[m*n+g*a+w*l+O*h,m*r+g*c+w*f+O*d,m*o+g*u+w*p+O*v,m*i+g*s+w*y+O*b]}var D=function(t,e){return C.add(t,e)},A=function(t){var e=E(t,3);return{x:e[0],y:e[1],z:e[2]}};function I(t,e){for(var n=V(t),r=n.origin[0].toPx(t.offsetWidth).value,o=n.origin[1].toPx(t.offsetHeight).value,i={a:{x:-r,y:-o,z:0},b:{x:r,y:-o,z:0},c:{x:r,y:o,z:0},d:{x:-r,y:o,z:0}},a=[],c={x:0,y:0};1===t.nodeType;){var u=V(t);if(a.unshift({elem:t,matrix:u.matrix}),c.x+=u.position.x,c.y+=u.position.y,(t=t.parentNode)===e)break}console.log(n);var s=function(t){if(0===t.length)return{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1};for(var e,n,r,o,i,a,c,u,s,l,f=t[0],p=1,y=t.length;p<y;p++)e=f,n=t[p],r=void 0,o=void 0,i=void 0,a=void 0,c=void 0,u=void 0,s=void 0,l=void 0,r=[n.m11,n.m21,n.m31,n.m41],o=[n.m12,n.m22,n.m32,n.m42],i=[n.m13,n.m23,n.m33,n.m43],a=[n.m14,n.m24,n.m34,n.m44],c=T(e,r),u=T(e,o),s=T(e,i),l=T(e,a),f={m11:c[0],m21:c[1],m31:c[2],m41:c[3],m12:u[0],m22:u[1],m32:u[2],m42:u[3],m13:s[0],m23:s[1],m33:s[2],m43:s[3],m14:l[0],m24:l[1],m34:l[2],m44:l[3]};return f}(a.map((function(t){return t.matrix})));return console.log(s),i.a=A(T(s,[i.a.x,i.a.y,0,1])),i.b=A(T(s,[i.b.x,i.b.y,0,1])),i.c=A(T(s,[i.c.x,i.c.y,0,1])),i.d=A(T(s,[i.d.x,i.d.y,0,1])),i.a=D(i.a,{x:c.x+r,y:c.y+o,z:0}),i.b=D(i.b,{x:c.x+r,y:c.y+o,z:0}),i.c=D(i.c,{x:c.x+r,y:c.y+o,z:0}),i.d=D(i.d,{x:c.x+r,y:c.y+o,z:0}),i.center={x:(i.a.x+i.c.x)/2,y:(i.a.y+i.c.y)/2,z:0},console.log(JSON.stringify(i)),i}function V(t){var e,n,r=getComputedStyle(t,null),o=R.parse(r.left).value,i=R.parse(r.top).value,a=E(r["transform-origin"].split(" ").map((function(t){return R.parse(t)})),3),c=a[0],u=a[1],s=a[2],l=function(t){var e=t.split(/\s*[(),]\s*/).slice(1,-1);if(6===e.length)return{m11:+e[0],m21:+e[2],m31:0,m41:+e[4],m12:+e[1],m22:+e[3],m32:0,m42:+e[5],m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1};if(16===e.length)return{m11:+e[0],m21:+e[4],m31:+e[8],m41:+e[12],m12:+e[1],m22:+e[5],m32:+e[9],m42:+e[13],m13:+e[2],m23:+e[6],m33:+e[10],m43:+e[14],m14:+e[3],m24:+e[7],m34:+e[11],m44:+e[15]};return{m11:1,m21:0,m31:0,m41:0,m12:0,m22:1,m32:0,m42:0,m13:0,m23:0,m33:1,m43:0,m14:0,m24:0,m34:0,m44:1}}(r.transform),f=Math.asin(-l.m13);return 0!==Math.cos(f)?(e=Math.atan2(l.m23,l.m33),n=Math.atan2(l.m12,l.m11)):(e=Math.atan2(-l.m31,l.m22),n=0),{matrix:l,origin:[c,u,s],position:{x:o,y:i,z:0},rotate:{x:e,y:f,z:n},translate:{x:l.m41,y:l.m42,z:l.m43}}}var L={matrix2d:{multiply:function(t){return function(e,n){var r=+e[n],o=+e[n+1];return[t[0][0]*r+t[0][1]*o+t[0][2],t[1][0]*r+t[1][1]*o+t[1][2],1]}},translate:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]])},rotate:function(t){return this.multiply([[Math.cos(t),Math.sin(t),0],[-Math.sin(t),Math.cos(t),0],[0,0,1]])},scale:function(t,e){return this.multiply([[t,0,0],[0,e,0],[0,0,1]])},skewX:function(t){return this.multiply([[1,Math.tan(t),0],[0,1,0],[0,0,1]])},skewY:function(t){return this.multiply([[1,0,0],[Math.tan(t),1,0],[0,0,1]])},flip:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},flipX:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])},flipY:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])}},Vect3:C,addVector:D,rotateVector:function(t,e){return C.rotate(t,e)}};function M(t,e){return e=re(e)?1:e,Math.round(t*e)/e}function z(t){return t*Math.PI/180}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 0===t?0:t/e}function F(t){var e=180*t/Math.PI;return e<0&&(e=360+e),e}function G(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.cos(z(t))}function H(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n+e*Math.sin(z(t))}function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:G(t,e,n),y:H(t,e,r)}}function Y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function N(t,e){return F(Math.atan2(e,t))}function K(t,e){return N(t.x,t.y)-N(e.x,e.y)}function U(t,e,n){var r=N(t.x-e.x,t.y-e.y);return N(t.x+n.dx-e.x,t.y+n.dy-e.y)-r}function W(t,e){return(F(Math.atan2(e,t))+180)%360}var Z=/[xy]/g;function q(){var t=(new Date).getTime();return"xxx12-xx-34xx".replace(Z,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}function J(){var t=(new Date).getTime();return"idxxxxxxx".replace(Z,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}var Q=function(t){return 3*t*t*(1-t)},tt=function(t){return 3*t*(1-t)*(1-t)},et=function(t){return(1-t)*(1-t)*(1-t)};function nt(t,e,n,r){var o=e,i=r;return function(t){return 1-(o*Q(t)+i*tt(t)+et(t))}}function rt(t,e){var n=Math.abs(e.width*Math.sin(t))+Math.abs(e.height*Math.cos(t)),r={x:e.x+e.width/2,y:e.y+e.height/2},o=Math.sin(t-Math.PI/2)*n/2,i=Math.cos(t-Math.PI/2)*n/2;return{length:n,center:r,start:{x:r.x-i,y:r.y-o},end:{x:r.x+i,y:r.y+o}}}function ot(t,e,n){return re(n)?C.cross2d(t,e):C.cross2d(C.sub(e,t),C.sub(n,t))}function it(t,e,n,r){var o=ot(t,e,n),i=t.x-r.x,a=t.y-r.y,c=e.x-r.x,u=e.y-r.y,s=n.x-r.x,l=n.y-r.y,f=(i*i+a*a)*(c*l-s*u)+(c*c+u*u)*(s*a-i*l)+(s*s+l*l)*(i*u-c*a);return o>0?f>=0:f<=0}function at(t,e,n){for(var r=C.create(Math.min(e,n),Math.max(e,n)),o=-1,i=0,a=t.length;i<a;i++)if(C.equal(t[i],r)){o=i;break}o>-1?t.splice(o,1):t.push(r)}function ct(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ut(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.length;t[e]=C.create(-2e9,-2e9),t[e+1]=C.create(2e9,-2e9),t[e+2]=C.create(0,2e9);for(var n=[C.create(e,e+1,e+2)],r=0;r<e;r++){for(var o=[],i=new Array(n.length),a=0;a<n.length;a++){if(!i[a])if(f=n[a]){var c=t[f.x],u=t[f.y],s=t[f.z],l=t[r];it(c,u,s,l)?(at(o,f.x,f.y),at(o,f.y,f.z),at(o,f.z,f.x),ct(i,a,n.length-1),ct(n,a,n.length-1),n.pop(),a--):i[a]=!0}}o.forEach((function(e){0===ot(t[e.x],t[e.y],t[r])||n.push(C.create(e.x,e.y,r))}))}for(r=0;r<n.length;r++){var f;((f=n[r]).x>=e||f.y>=e||f.z>=e)&&(ct(n,r,n.length-1),n.pop(),r--)}return n.map((function(e){return{a:t[e.x],b:t[e.y],c:t[e.z]}}))}function st(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){return Math.random()},c=[],u=-n,s=t+n,l=-r,f=e+r,p=u;p<s;p+=o)for(var y=l;y<f;y+=o){var h=Math.floor(p+o/2*(a()*i*2-i)),d=Math.floor(y+o/2*(a()*i*2-i));c[c.length]={x:h,y:d}}return c}function lt(t,e,n){return{x:(t.x+e.x+n.x)/3,y:(t.y+e.y+n.y)/3}}var ft=/[\b\t \,\n]/g;function pt(t){return t.trim().split(ft).filter((function(t){return t})).map((function(t){return+t}))}function yt(t){return function(t){if(Array.isArray(t))return ht(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ht(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dt,vt={linear:!0,ease:!0,"ease-in":!0,"ease-out":!0,"ease-in-out":!0},bt={ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"},mt=[[0,0,1,1,"linear",!0],[.25,.1,.25,1,"ease",!0],[.42,0,1,1,"ease-in",!0],[0,0,.58,1,"ease-out",!0],[.47,0,.745,.715,"ease-in-sine"],[.39,.575,.565,1,"ease-out-sine"],[.445,.05,.55,.95,"ease-in-out-sine"],[.55,.085,.68,.53,"ease-in-quad"],[.25,.46,.45,.94,"ease-out-quad"],[.455,.03,.515,.955,"ease-in-out-quad"],[.55,.055,.675,.19,"ease-in-cubic"],[.215,.61,.355,1,"ease-out-cubic"],[.645,.045,.355,1,"ease-in-out-cubic"],[.895,.03,.685,.22,"ease-in-quart"],[.165,.84,.44,1,"ease-out-quart"],[.77,0,.175,1,"ease-in-out-quart"],[.6,.04,.98,.335,"ease-in-circ"],[.075,.82,.165,1,"ease-out-circ"],[.785,.135,.15,.86,"ease-in-out-circ"],[.95,.05,.795,.035,"ease-in-expo"],[.19,1,.22,1,"ease-out-expo"],[1,0,0,1,"ease-in-out-expo"],[.755,.05,.855,.06,"ease-in-quint"],[.23,1,.32,1,"ease-out-quint"],[.86,0,.07,1,"ease-in-out-quint"],[.6,-.28,.735,.045,"ease-in-back"],[.175,.885,.32,1.275,"ease-out-back"],[.68,-.55,.265,1.55,"ease-in-out-back"]],gt=function(t){return yt(Ot(bt[t]||t))},wt=function(t){t=t.map((function(t){return Math.floor(100*t)/100}));for(var e=0,n=mt.length;e<n;e++){var r=mt[e];if(r[0]==t[0]&&r[1]==t[1]&&r[2]==t[2]&&r[3]==t[3]&&r[5])return r[4]}return"cubic-bezier( ".concat(t.filter((function(t,e){return e<4})).join(",")," )")},Ot=function(t){if("string"==typeof t){if(vt[t])return mt.filter((function(e){return e[4]===t}))[0];var e=t.replace("cubic-bezier","").replace("(","").replace(")","").split(",");return e=e.map((function(t){return parseFloat(t.trim())}))}return t},kt=function(t,e,n,r){var o=[t,e,n,r];return function(t){return At(o,t)}},St=function(t,e,n){var r=[t,e,n];return function(t){return It(r,t)}},jt=function(t,e){var n=[t,e];return function(t){return Vt(n,t)}},Pt=function(t,e,n,r,o){var i=e(n),a=Y(r,o,i.x,i.y);a<t.minDist&&(t.minDist=a,t.minT=n)},xt=function(t,e,n,r,o,i,a,c){for(var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e3,s=kt({x:t,y:e},{x:n,y:r},{x:o,y:i},{x:a,y:c}),l=0,f=s(0),p=0;p<=u;p++){var y=p/u,h=s(y);l+=Y(f.x,f.y,h.x,h.y),f=h}return l},Rt=function(t,e,n,r,o,i){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,c=St({x:t,y:e},{x:n,y:r},{x:o,y:i}),u=0,s=c(0),l=0;l<=a;l++){var f=l/a,p=c(f);u+=Y(s.x,s.y,p.x,p.y),s=p}return u},$t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n={minDist:1/0,minT:0};return function(r,o){for(var i=0;i<=e;i++)Pt(n,t,i/e,r,o);var a=1/(2*e),c=n.minT;for(i=0;i<e;i++)Pt(n,t,c-a,r,o),Pt(n,t,c+a,r,o),a/=2;return n.minT}},Et=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return $t(kt(t,e,n,r),o)},_t=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return $t(St(t,e,n),r)},Ct=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return $t(jt(t,e),n)},Tt=function(t){if("linear"===t)return jt(n={x:0,y:0},r={x:1,y:1});var e=Ot(t),n={x:0,y:0},r={x:e[0],y:e[1]},o={x:e[2],y:e[3]};return kt(n,r,o,{x:1,y:1})},Dt=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}},At=function(t,e){var n=Dt(t[0],t[1],e),r=Dt(t[1],t[2],e),o=Dt(t[2],t[3],e),i=Dt(n,r,e),a=Dt(r,o,e);return Dt(i,a,e)},It=function(t,e){var n=Dt(t[0],t[1],e),r=Dt(t[1],t[2],e);return Dt(n,r,e)},Vt=function(t,e){return Dt(t[0],t[1],e)},Lt=function(t,e){var n=Dt(t[0],t[1],e),r=Dt(t[1],t[2],e),o=Dt(t[2],t[3],e),i=Dt(n,r,e),a=Dt(r,o,e),c=Dt(i,a,e);return{first:[t[0],n,i,c],second:[c,a,o,t[3]]}},Mt=function(t,e){var n=Dt(t[0],t[1],e),r=Dt(t[1],t[2],e),o=Dt(n,r,e);return{first:[t[0],n,o],second:[o,r,t[2]]}},zt=function(t,e){var n=Dt(t[0],t[1],e);return{first:[t[0],n],second:[n,t[1]]}};function Bt(t,e){return Ht(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Nt(t,e)||Gt()}function Ft(t){return Ht(t)||Kt(t)||Nt(t)||Gt()}function Gt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ht(t){if(Array.isArray(t))return t}function Xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yt(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||Kt(t)||Nt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(t,e){if(t){if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,e):void 0}}function Kt(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===e)return t;var n=void 0;return function(r,o,i,a,c){n&&clearTimeout(n),n=setTimeout((function(){t(r,o,i,a,c)}),e||300)}}function qt(t,e){var n=void 0;return function(r,o,i,a,c){n||(n=setTimeout((function(){t(r,o,i,a,c),n=null}),e||300))}}function Jt(t,e){Object.keys(t).forEach((function(n,r){e(n,t[n],r)}))}function Qt(t,e){return Object.keys(t).map((function(n,r){return e(n,t[n],r)}))}function te(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Qt(t,e).join(n)}function ee(t,e,n){var r=ne(t[e],e);return le(n)?n(r):r}function ne(t,e){return void 0===t?e:t}function re(t){return null==t}function oe(t){return!1===re(t)}function ie(t){return Array.isArray(t)}function ae(t){return"boolean"==typeof t}function ce(t){return"string"==typeof t}function ue(t){return!1===ce(t)}function se(t){return"object"==Wt(t)&&!ie(t)&&!fe(t)&&!ce(t)&&null!==t}function le(t){return"function"==typeof t}function fe(t){return"number"==typeof t}function pe(t){return JSON.parse(JSON.stringify(t))}function ye(t){var e={};return Object.keys(t).filter((function(e){return!!t[e]})).forEach((function(n){e[n]=t[n]})),e}function he(t){return Object.keys(t).forEach((function(e){Array.isArray(t[e])&&(t[e]=t[e].join(", "))})),t}function de(t){return Yt(Array(t))}function ve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[b(0,e.length-1)]}var be=(Xt(dt={image:!0,input:!0,br:!0,path:!0,line:!0,circle:!0,rect:!0},"path",!0),Xt(dt,"polygon",!0),Xt(dt,"polyline",!0),Xt(dt,"use",!0),dt),me=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=t.map((function(t,e){var r=n[e]||"";return le(r)&&(r=r()),ie(r)||(r=[r]),t+(r=r.join(""))})).join("");return o=o.replace(/\<(\w*)([^\>]*)\/\>/gim,(function(t,e){return be[e.toLowerCase()]?t:t.replace("/>","></".concat(e,">"))}))};function ge(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t;return Object.keys(n).filter((function(t){return n[t]})).map((function(t){return"".concat(t,": ").concat(n[t])})).join(";"+e)}function we(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":",r={};return""===(t+="")||t.split(e).forEach((function(t){var e=Ft(t.split(n).map((function(t){return t.trim()}))),o=e[0],i=e.slice(1);""!=o&&(r[o]=i.join(n))})),r}function Oe(t){return Object.keys(t).map((function(e){return"class"===e&&se(t[e])?"".concat(e,'="').concat(ke(t[e]),'"'):ae(t[e])||re(t[e])||"undefined"===t[e]?t[e]?e:"":"".concat(e,'="').concat(t[e],'"')})).join(" ")}function ke(t){return Object.keys(t).filter((function(e){return t[e]})).map((function(t){return t})).join(" ")}function Se(t){return t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}function je(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.map(e).join(n)}function Pe(t,e){var n=new Set([].concat(Yt(t),Yt(e)));return n.size===t.length&&n.size===e.length}var xe=function(t,e){var n=t.filter((function(t){return t.indexOf("".concat(e,"("))>-1})),r=n.map((function(t){var n=Bt(t.split("".concat(e,"("))[1].split(")")[0].trim().split(" "),2);return{target:n[0],param:n[1]}}));return[n,r]},Re=function(t,e,n){var r=gt(t);return"\n        M0 30 \n        C \n        ".concat(r[0]*e," ").concat(0==r[1]?n:(1-r[1])*n,",\n        ").concat(r[2]*e," ").concat(1==r[3]?0:(1-r[3])*n,",\n        ").concat(e," 0\n    ")};function $e(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),"hex"==e?Ee(t):"rgb"==e?_e(t,n):"hsl"==e?Ce(t):t}function Ee(t){Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]});var e=t.r.toString(16);t.r<16&&(e="0"+e);var n=t.g.toString(16);t.g<16&&(n="0"+n);var r=t.b.toString(16);return t.b<16&&(r="0"+r),"#".concat(e).concat(n).concat(r)}function _e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(ie(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),!re(t))return 1==t.a||re(t.a)?isNaN(t.r)?e:"rgb(".concat(t.r,",").concat(t.g,",").concat(t.b,")"):"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat(t.a,")")}function Ce(t){return ie(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),1==t.a||re(t.a)?"hsl(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%)"):"hsla(".concat(t.h,",").concat(t.s,"%,").concat(t.l,"%,").concat(t.a,")")}function Te(t){return Math.pow(t,3)>.008856?Math.pow(t,3):(t-16/116)/7.787}function De(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function Ae(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/100,i=e/100,a=n/100,c=3.2406*o+-1.5372*i+-.4986*a,u=-.9689*o+1.8758*i+.0415*a,s=.0557*o+-.204*i+1.057*a;c=De(c),u=De(u),s=De(s);var l=M(255*c),f=M(255*u),p=M(255*s);return{r:l,g:f,b:p}}function Ie(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}var o=(t+16)/116,i=e/500+o,a=o-n/200;o=Te(o);var c=95.047*(i=Te(i)),u=100*o,s=108.883*(a=Te(a));return{x:c,y:u,z:s}}function Ve(t){return t>.008856?Math.pow(t,1/3):(7.787*t+16)/116}function Le(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,n=r.z}var o=t/95.047,i=e/100,a=n/108.883;o=Ve(o);var c=116*(i=Ve(i))-16,u=500*(o-i),s=200*(i-(a=Ve(a)));return{l:c,a:u,b:s}}function Me(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,n=r.b}return Ae(Ie(t,e,n))}function ze(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=Math.max(o,i,a),u=Math.min(o,i,a),s=c-u,l=0;0==s?l=0:c==o?l=(i-a)/s%6*60:c==i?l=60*((a-o)/s+2):c==a&&(l=60*((o-i)/s+4)),l<0&&(l=360+l);return{h:l,s:0==c?0:s/c,v:c}}function Be(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=1-Math.max(o,i,a),u=(1-o-c)/(1-c),s=(1-i-c)/(1-c),l=(1-a-c)/(1-c);return{c:u,m:s,y:l,k:c}}function Fe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}t/=255,e/=255,n/=255;var o,i,a=Math.max(t,e,n),c=Math.min(t,e,n),u=(a+c)/2;if(a==c)o=i=0;else{var s=a-c;switch(i=u>.5?s/(2-a-c):s/(a+c),a){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4}o/=6}return{h:M(360*o),s:M(100*i),l:M(100*u)}}function Ge(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return He((t+e+n)/3>90?0:255)}function He(t){return{r:t,g:t,b:t}}function Xe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return He(Math.ceil((t+e+n)/3))}function Ye(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return He(Ke(t,e,n).y)}function Ne(t,e,n){return Math.ceil(.2126*t+.7152*e+.0722*n)}function Ke(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=Ne(t,e,n),i=.564*(n-o),a=.713*(t-o);return{y:o,cr:a,cb:i}}function Ue(t){return 100*(t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)}function We(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}var o=t/255,i=e/255,a=n/255,c=.4124*(o=Ue(o))+.3576*(i=Ue(i))+.1805*(a=Ue(a)),u=.2126*o+.7152*i+.0722*a,s=.0193*o+.1192*i+.9505*a;return{x:c,y:u,z:s}}function Ze(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,n=r.b}return Le(We(t,e,n))}function qe(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.c,e=o.m,n=o.y,r=o.k}var i=255*(1-t)*(1-r),a=255*(1-e)*(1-r),c=255*(1-n)*(1-r);return{r:i,g:a,b:c}}function Je(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=t,i=e,a=n;o>=360&&(o=0);var c=i*a,u=c*(1-Math.abs(o/60%2-1)),s=a-c,l=[];return 0<=o&&o<60?l=[c,u,0]:60<=o&&o<120?l=[u,c,0]:120<=o&&o<180?l=[0,c,u]:180<=o&&o<240?l=[0,u,c]:240<=o&&o<300?l=[u,0,c]:300<=o&&o<360&&(l=[c,0,u]),{r:M(255*(l[0]+s)),g:M(255*(l[1]+s)),b:M(255*(l[2]+s))}}function Qe(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.v}var o=Je(t,e,n);return Fe(o.r,o.g,o.b)}function tn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function en(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o=nn(t,e,n);return ze(o.r,o.g,o.b)}function nn(t,e,n){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,n=r.l}var o,i,a;if(t/=360,n/=100,0==(e/=100))o=i=a=n;else{var c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;o=tn(u,c,t+1/3),i=tn(u,c,t),a=tn(u,c,t-1/3)}return{r:M(255*o),g:M(255*i),b:M(255*a)}}function rn(t,e,n,r){if(1==arguments.length){var o=arguments[0];t=o.y,e=o.cr,n=o.cb;r=(r=o.bit)||0}var i=t+1.402*(e-r),a=t-.344*(n-r)-.714*(e-r),c=t+1.772*(n-r);return{r:Math.ceil(i),g:Math.ceil(a),b:Math.ceil(c)}}var on={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)",currentColor:"currentColor"};var an={isColorName:function(t){return!!on[t]},getColorByName:function(t){return on[t]}};function cn(t){return function(t){if(Array.isArray(t))return un(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return un(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sn(Object(n),!0).forEach((function(e){fn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pn=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function yn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@";return"".concat(e).concat(t.startIndex).padEnd(10,"0")}function hn(t){return!!dn(t).length}function dn(t){var e=t.match(pn),n=[];if(!e)return n;for(var r=0,o=e.length;r<o;r++)if(e[r].indexOf("#")>-1||e[r].indexOf("rgb")>-1||e[r].indexOf("hsl")>-1)n.push({color:e[r]});else{var i=an.getColorByName(e[r]);i&&n.push({color:e[r],nameColor:i})}var a={next:0};return n.forEach((function(e){var n=t.indexOf(e.color,a.next);e.startIndex=n,e.endIndex=n+e.color.length,a.next=e.endIndex})),n}function vn(t){var e=dn(t);return e.forEach((function(e){t=t.replace(e.color,yn(e))})),{str:t,matches:e}}function bn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=vn(t);return n.str.split(e).map((function(t,e){return t=wn(t),n.matches[e]&&(t=t.replace(yn(n.matches[e]),n.matches[e].color)),t}))}function mn(t,e){return e.forEach((function(e){t=t.replace(yn(e),e.color)})),t}var gn=/^\s+|\s+$/g;function wn(t){return t.replace(gn,"")}function On(t){if(ce(t)){if(an.isColorName(t)&&(t=an.getColorByName(t)),t.indexOf("rgb(")>-1){for(var e=0,n=(r=t.replace("rgb(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseInt(wn(r[e]),10);return i=ln(ln({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:1}),Fe(i))}if(t.indexOf("rgba(")>-1){for(e=0,n=(r=t.replace("rgba(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(wn(r[e])):parseInt(wn(r[e]),10);return i=ln(ln({},i={type:"rgb",r:r[0],g:r[1],b:r[2],a:r[3]}),Fe(i))}if(t.indexOf("hsl(")>-1){for(e=0,n=(r=t.replace("hsl(","").replace(")","").split(",")).length;e<n;e++)r[e]=parseFloat(wn(r[e]));return i=ln(ln({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:1}),nn(i))}if(t.indexOf("hsla(")>-1){for(e=0,n=(r=t.replace("hsla(","").replace(")","").split(",")).length;e<n;e++)r[e]=n-1==e?parseFloat(wn(r[e])):parseInt(wn(r[e]),10);return i=ln(ln({},i={type:"hsl",h:r[0],s:r[1],l:r[2],a:r[3]}),nn(i))}if(0==t.indexOf("#")){var r=[];if(3==(t=t.replace("#","")).length)for(e=0,n=t.length;e<n;e++){var o=t.substr(e,1);r.push(parseInt(o+o,16))}else for(e=0,n=t.length;e<n;e+=2)r.push(parseInt(t.substr(e,2),16));return i=ln(ln({},i={type:"hex",r:r[0],g:r[1],b:r[2],a:1}),Fe(i))}}else if(fe(t)){var i;if(0<=t&&t<=16777215)return i=ln(ln({},i={type:"hex",r:(16711680&t)>>16,g:(65280&t)>>8,b:(255&t)>>0,a:1}),Fe(i));if(0<=t&&t<=4294967295)return i=ln(ln({},i={type:"hex",r:(4278190080&t)>>24,g:(16711680&t)>>16,b:(65280&t)>>8,a:(255&t)/255}),Fe(i))}return t}function kn(t){ce(t)&&(t=bn(t));var e=(t=t.map((function(t){if(ce(t)){var e=vn(t),n=wn(e.str).split(" ");return n[1]?n[1].indexOf("%")>-1?n[1]=parseFloat(n[1].replace(/%/,""))/100:n[1]=parseFloat(n[1]):n[1]="*",n[0]=mn(n[0],e.matches),n}if(Array.isArray(t))return t[1]?ce(t[1])&&(t[1].indexOf("%")>-1?t[1]=parseFloat(t[1].replace(/%/,""))/100:t[1]=+t[1]):t[1]="*",cn(t)}))).filter((function(t){return"*"===t[1]})).length;if(e>0){var n=(1-t.filter((function(t){return"*"!=t[1]&&1!=t[1]})).map((function(t){return t[1]})).reduce((function(t,e){return t+e}),0))/e;t.forEach((function(e,r){"*"==e[1]&&r>0&&(t.length-1==r||(e[1]=n))}))}return t}function Sn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=jn(t,e,n);return $e(o,o.a<1?"rgb":r)}function jn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return{r:M(t.r+(e.r-t.r)*n),g:M(t.g+(e.g-t.g)*n),b:M(t.b+(e.b-t.b)*n),a:M(t.a+(e.a-t.a)*n,100)}}function Pn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!t)return[];ce(t)&&(t=bn(t));for(var n=(t=t||[]).length,r=[],o=0;o<n-1;o++)for(var i=0;i<e;i++)r.push(xn(t[o],t[o+1],i/e));return r}function xn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",o=On(t),i=On(e);return Sn(o,i,n,r)}function Rn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return xn(t,e,n,r)}function $n(t){return t=On(t),(Math.round(299*t.r)+Math.round(587*t.g)+Math.round(114*t.b))/1e3}function En(t){return $n(t)>=128?"black":"white"}function _n(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],r=e-((t=kn(t)).length-1),o=r,i=1,a=t.length;i<a;i++){var c=t[i-1][0],u=t[i][0],s=1==i?t[i][1]:t[i][1]-t[i-1][1],l=i==t.length-1?o:Math.floor(s*r);n=n.concat(Pn([c,u],l),[u]),o-=l}return n}function Cn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,c=On(t),u=ze(c),s=(i-o)*a/n,l=[],f=1;f<=n;f++)u[e]=Math.abs((a-s*f)/a),l.push($e(Je(u),r));return l}function Tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:360;return Cn(t,"h",e,n,r,o,1)}function Dn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return Cn(t,"s",e,n,r,o,100)}function An(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return Cn(t,"v",e,n,r,o,100)}function In(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){Ln(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Pn.parula=function(t){return Pn(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},Pn.jet=function(t){return Pn(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},Pn.hsv=function(t){return Pn(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},Pn.hot=function(t){return Pn(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},Pn.pink=function(t){return Pn(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},Pn.bone=function(t){return Pn(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},Pn.copper=function(t){return Pn(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)};var Mn=Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn(Vn({},r),a),o),d),h),p),u),s),l),f),c),i),zn=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];!function(){for(var t=0,e=zn.length;t<e;t++){var n=zn[t],r=Mn.parse(n.rgb);n.r=r.r,n.g=r.g,n.b=r.b}}();var Bn={colors:zn,checkHueColor:function(t){for(var e,n,r=0;r<zn.length;r++)if(zn[r].start>=t){e=zn[r-1],n=zn[r];break}return e&&n?Mn.interpolateRGB(e,n,(t-e.start)/(n.start-e.start)):zn[0].rgb}};function Fn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Gn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hn(Object(n),!0).forEach((function(e){Yn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nn=function(t,e,n,r){n?r&&n===r||function(t,e,n){"boolean"==typeof n?function(t,e,n){n?(t.setAttribute(e,e),t[e]=n):(t.removeAttribute(e),t[e]=n)}(t,e,n):t.setAttribute(e,n)}(t,e,n):function(t,e,n){"boolean"==typeof n?function(t,e){t.removeAttribute(e),t[e]=!1}(t,e):e&&function(t,e){t.removeAttribute(e)}(t,e)}(t,e,r)};function Kn(t){var e,n={},r=Fn(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o.name]=o.value}}catch(t){r.e(t)}finally{r.f()}return n}function Un(t,e,n,r){if(e)if(n){if(u=e,(c=n).nodeType===Node.TEXT_NODE&&c!==u||c.nodeName!==u.nodeName)t.replaceChild(n.cloneNode(!0),e);else if(n.nodeType!==Node.TEXT_NODE){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Xn(Xn({},e),n);Object.keys(r).forEach((function(r){Nn(t,r,e[r],n[r])}))}(e,Kn(n.attributes),Kn(e.attributes));var o=Wn(e),i=Wn(n),a=Math.max(o.length,i.length);for(r=0;r<a;r++)Un(e,o[r],i[r],r)}}else t.removeChild(e);else t.appendChild(n.cloneNode(!0));var c,u}var Wn=function(t){var e=t.firstChild;if(!e)return[];var n=[];do{n.push(e),e=e.nextSibling}while(e);return n};function Zn(t,e){t=t.el||t,e=e.el||e;for(var n=Wn(t),r=Wn(e),o=Math.max(n.length,r.length),i=0;i<o;i++)Un(t,n[i],r[i],i)}function qn(t){return function(t){if(Array.isArray(t))return Jn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var er=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ue(e))this.el=e;else{var o=document.createElement(e);for(var i in n&&(o.className=n),r=r||{})o.setAttribute(i,r[i]);this.el=o}}var e,n,r;return e=t,n=[{key:"setAttr",value:function(t){var e=this;return Object.keys(t).forEach((function(n){e.attr(n,t[n])})),this}},{key:"attr",value:function(t,e){return 1==arguments.length?this.el.getAttribute(t):(this.el.setAttribute(t,e),this)}},{key:"attrKeyValue",value:function(t){return Qn({},this.el.getAttribute(t),this.val())}},{key:"attrs",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.getAttribute(e)}))}},{key:"styles",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.el.style[e]}))}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"removeStyle",value:function(t){return this.el.style.removeProperty(t),this}},{key:"is",value:function(t){return this.el===(t.el||t)}},{key:"isTag",value:function(t){return this.el.tagName.toLowerCase()===t.toLowerCase()}},{key:"closest",value:function(e){for(var n=this,r=!1;!(r=n.hasClass(e));){if(!n.el.parentNode)return null;n=t.create(n.el.parentNode)}return r?n:null}},{key:"parent",value:function(){return t.create(this.el.parentNode)}},{key:"hasParent",value:function(){return!!this.el.parentNode}},{key:"removeClass",value:function(){var t;return(t=this.el.classList).remove.apply(t,arguments),this}},{key:"hasClass",value:function(t){return!!this.el.classList&&this.el.classList.contains(t)}},{key:"addClass",value:function(){var t;return(t=this.el.classList).add.apply(t,arguments),this}},{key:"onlyOneClass",value:function(t){this.parent().children().forEach((function(e){e.removeClass(t)})),this.addClass(t)}},{key:"toggleClass",value:function(t,e){this.el.classList.toggle(t,e)}},{key:"html",value:function(t){return re(t)?this.el.innerHTML:(ce(t)?this.el.innerHTML=t:this.empty().append(t),this)}},{key:"htmlDiff",value:function(t){Zn(this,t)}},{key:"updateDiff",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";Zn(this,t.create(n).html(e))}},{key:"updateSVGDiff",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";Zn(this,t.create(n).html("<svg>".concat(e,"</svg>")).firstChild)}},{key:"find",value:function(t){return this.el.querySelector(t)}},{key:"$",value:function(e){var n=this.find(e);return n?t.create(n):null}},{key:"findAll",value:function(t){return qn(this.el.querySelectorAll(t))}},{key:"$$",value:function(e){return this.findAll(e).map((function(e){return t.create(e)}))}},{key:"empty",value:function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this}},{key:"append",value:function(t){return ce(t)?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}},{key:"prepend",value:function(t){return ce(t)?this.el.prepend(document.createTextNode(t)):this.el.prepend(t.el||t),this}},{key:"prependHTML",value:function(e){var n=t.create("div").html(e);return this.prepend(n.createChildrenFragment()),n}},{key:"appendHTML",value:function(e){var n=t.create("div").html(e);return this.append(n.createChildrenFragment()),n}},{key:"createChildrenFragment",value:function(){var t=this.children(),e=document.createDocumentFragment();return t.forEach((function(t){return e.appendChild(t.el)})),e}},{key:"appendTo",value:function(t){return(t.el?t.el:t).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"removeChild",value:function(t){return this.el.removeChild(t.el||t),this}},{key:"text",value:function(e){if(re(e))return this.el.textContent;var n=e;return e instanceof t&&(n=e.text()),this.el.textContent=n,this}},{key:"css",value:function(t,e){if(oe(t)&&oe(e))Object.assign(this.el.style,Qn({},t,e));else if(oe(t)){if(ce(t))return getComputedStyle(this.el)[t];Object.assign(this.el.style,t)}return this}},{key:"getComputedStyle",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){for(var t=getComputedStyle(this.el),e={},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.forEach((function(n){e[n]=t[n]})),e}))},{key:"getStyleList",value:function(){for(var t=this,e={},n=this.el.style.length,r=0;r<n;r++){var o=this.el.style[r];e[o]=this.el.style[o]}for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return a.forEach((function(n){e[n]=t.css(n)})),e}},{key:"cssText",value:function(t){return re(t)?this.el.style.cssText:(t!=this.el.tempCssText&&(this.el.style.cssText=t,this.el.tempCssText=t),this)}},{key:"cssArray",value:function(t){return t[0]&&(this.el.style[t[0]]=t[1]),t[2]&&(this.el.style[t[2]]=t[3]),t[4]&&(this.el.style[t[4]]=t[5]),t[6]&&(this.el.style[t[6]]=t[7]),t[8]&&(this.el.style[t[8]]=t[9]),this}},{key:"cssFloat",value:function(t){return parseFloat(this.css(t))}},{key:"cssInt",value:function(t){return parseInt(this.css(t))}},{key:"px",value:function(t,e){return this.css(t,R.px(e))}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"isSVG",value:function(){return"SVG"===this.el.tagName.toUpperCase()}},{key:"offsetRect",value:function(){if(this.isSVG()){var t=this.parent().rect(),e=this.rect();return{x:e.x-t.x,y:e.y-t.y,top:e.x-t.x,left:e.y-t.y,width:e.width,height:e.height}}return{x:this.el.offsetLeft,y:this.el.offsetTop,top:this.el.offsetTop,left:this.el.offsetLeft,width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"offset",value:function(){var e=this.rect(),n=t.getScrollTop(),r=t.getScrollLeft();return{top:e.top+n,left:e.left+r}}},{key:"offsetLeft",value:function(){return this.offset().left}},{key:"offsetTop",value:function(){return this.offset().top}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.rect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.rect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.rect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"val",value:function(e){if(re(e))return this.el.value;if(oe(e)){var n=e;e instanceof t&&(n=e.val()),this.el.value=n}return this}},{key:"matches",value:function(t){return this.el&&this.el.matches?this.el.matches(t)?this:this.parent().matches(t):null}},{key:"realVal",value:function(){switch(this.el.nodeType){case"INPUT":var t=this.attr("type");if("checkbox"==t||"radio"==t)return this.checked();case"SELECT":case"TEXTAREA":return this.el.value}return""}},{key:"int",value:function(){return parseInt(this.val(),10)}},{key:"float",value:function(){return parseFloat(this.val())}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"block";return this.css("display","none"!=t?t:"block")}},{key:"hide",value:function(){return this.css("display","none")}},{key:"isHide",value:function(){return"none"==this.css("display")}},{key:"isShow",value:function(){return!this.isHide()}},{key:"toggle",value:function(t){var e=this.isHide();return 1==arguments.length?t?this.show():this.hide():e?this.show():this.hide()}},{key:"scrollIntoView",value:function(){this.el.scrollIntoView()}},{key:"addScrollLeft",value:function(t){return this.el.scrollLeft+=t,this}},{key:"addScrollTop",value:function(t){return this.el.scrollTop+=t,this}},{key:"setScrollTop",value:function(t){return this.el.scrollTop=t,this}},{key:"setScrollLeft",value:function(t){return this.el.scrollLeft=t,this}},{key:"scrollTop",value:function(){return this.el===document.body?t.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?t.getScrollLeft():this.el.scrollLeft}},{key:"scrollHeight",value:function(){return this.el.scrollHeight}},{key:"scrollWidth",value:function(){return this.el.scrollWidth}},{key:"on",value:function(t,e,n,r){return this.el.addEventListener(t,e,n,r),this}},{key:"off",value:function(t,e){return this.el.removeEventListener(t,e),this}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.create(e,n,r);return i.css(o),this.append(i),i}},{key:"children",value:function(){var e=this.el.firstElementChild;if(!e)return[];var n=[];do{n.push(t.create(e)),e=e.nextElementSibling}while(e);return n}},{key:"childLength",value:function(){return this.el.children.length}},{key:"replace",value:function(t){return this.el.parentNode&&this.el.parentNode.replaceChild(t.el||t,this.el),this}},{key:"replaceChild",value:function(t,e){return this.el.replaceChild(e.el||e,t.el||t),this}},{key:"checked",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return 0==arguments.length?!!this.el.checked:(this.el.checked=!!t,this)}},{key:"click",value:function(){return this.el.click(),this}},{key:"focus",value:function(){return this.el.focus(),this}},{key:"select",value:function(){return this.el.select(),this}},{key:"blur",value:function(){return this.el.blur(),this}},{key:"select",value:function(){return this.el.select(),this}},{key:"context",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2d";return this._initContext||(this._initContext=this.el.getContext(t)),this._initContext}},{key:"resize",value:function(t){var e=t.width,n=t.height;this._initContext=null;var r=this.context(),o=window.devicePixelRatio||1;this.px("width",+e),this.px("height",+n),this.el.width=e*o,this.el.height=n*o,r.scale(o,o)}},{key:"toDataURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.el.toDataURL(t,e)}},{key:"clear",value:function(){this.context().clearRect(0,0,this.el.width,this.el.height)}},{key:"update",value:function(t){this.clear(),t.call(this,this)}},{key:"drawImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.context(),o=window.devicePixelRatio||1;r.drawImage(t,e,n,t.width,t.height,0,0,this.el.width/o,this.el.height/o)}},{key:"drawOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.context();Object.assign(e,t)}},{key:"drawLine",value:function(t,e,n,r){var o=this.context();o.beginPath(),o.moveTo(t,e),o.lineTo(n,r),o.stroke(),o.closePath()}},{key:"drawPath",value:function(){var t=this.context();t.beginPath();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach((function(e,n){0==n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.stroke(),t.fill(),t.closePath()}},{key:"drawCircle",value:function(t,e,n){var r=this.context();r.beginPath(),r.arc(t,e,n,0,2*Math.PI),r.stroke(),r.fill()}},{key:"drawText",value:function(t,e,n){this.context().fillText(n,t,e)}},{key:"fullscreen",value:function(){var t=this.el;t.requestFullscreen?t.requestFullscreen():t.wekitRequestFullscreen&&t.wekitRequestFullscreen()}},{key:"value",get:function(){return this.el.value}},{key:"naturalWidth",get:function(){return this.el.naturalWidth}},{key:"naturalHeight",get:function(){return this.el.naturalHeight}},{key:"files",get:function(){return this.el.files?qn(this.el.files):[]}},{key:"totalLength",get:function(){return this.el.getTotalLength()}},{key:"firstChild",get:function(){return t.create(this.el.firstElementChild)}}],r=[{key:"create",value:function(e,n,r){return new t(e,n,r)}},{key:"createByHTML",value:function(e){var n=t.create("div").html(e).children();return n.length?t.create(n[0].el):null}},{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}},{key:"parse",value:function(t){return DOMParser().parseFromString(t,"text/htmll")}},{key:"body",value:function(){return t.create(document.body)}}],n&&tr(e.prototype,n),r&&tr(e,r),t}(),nr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ar;return" ".concat(e," ").concat(t)},rr=/^dom (.*)/gi,or=/^load (.*)/gi,ir=/^bind (.*)/gi,ar="|",cr={},ur=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.join(":");return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"dom "+[r].concat(e).join(" ")}},sr=ur,lr=ur("click"),fr=ur("dblclick"),pr=(ur("mousedown"),ur("mouseup")),yr=(ur("mousemove"),ur("mouseover"),ur("mouseout"),ur("mouseenter"),ur("mouseleave"),ur("touchstart"),ur("touchmove"),ur("touchend"),ur("keydown")),hr=ur("keyup"),dr=(ur("keypress"),ur("drag"),ur("dragstart")),vr=ur("drop"),br=ur("dragover"),mr=(ur("dragenter"),ur("dragleave"),ur("dragexit"),ur("dragout"),ur("dragend")),gr=ur("contextmenu"),wr=ur("change"),Or=ur("input"),kr=ur("focus"),Sr=ur("focusin"),jr=ur("focusout"),Pr=ur("blur"),xr=(ur("paste"),ur("resize")),Rr=ur("scroll"),$r=ur("submit"),Er=sr("pointerdown"),_r=sr("pointermove"),Cr=sr("pointerup"),Tr=sr("change","input"),Dr=(sr("wheel","mousewheel","DOMMouseScroll"),ur("animationstart"),ur("animationend"),ur("animationiteration"),ur("transitionstart"),ur("transitionend")),Ar=(ur("transitionrun"),ur("transitioncancel"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ar;return nr(t,e)}),Ir=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ar;return nr("after(".concat(t,")"),e)},Vr=Ar,Lr=Ar,Mr=(Ar("ArrowUp"),Ar("ArrowDown"),Ar("ArrowLeft"),Ar("ArrowRight"),Ar("Enter")),zr=(Ar("Space"),Ar("Escape")),Br=Ar("isAltKey"),Fr=(Ar("isShiftKey"),Ar("isMetaKey"),Ar("isCtrlKey"),Ar("self"),Ar("fit"),Ar("passive"),Ar("vdom")),Gr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Ar("debounce(".concat(t,")"))},Hr=(Gr(1e3),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Ar("throttle(".concat(t,")"))}),Xr=(Ar("capture()"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"move";return Ir("bodyMouseMove ".concat(t))}),Yr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end";return Ir("bodyMouseUp ".concat(t))},Nr=Ir("preventDefault"),Kr=Ir("stopPropagation"),Ur=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$el";return"load "+t},Wr=function(t){if(""===t)return"";var e=q();return cr[e]=t,e},Zr=function(t){return function(){return this.prevState[t]!=this.state[t]}},qr=function(){return!0},Jr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$el",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"bind "+t+(e?ar+Wr(e):"")},Qr={addEvent:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t&&t.addEventListener(e,n,r)},removeEvent:function(t,e,n){t&&t.removeEventListener(e,n)},pos:function(t){return t.touches&&t.touches[0]?t.touches[0]:t},posXY:function(t){var e=this.pos(t);return{x:e.pageX,y:e.pageY}}};function to(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var no,ro=function(){function t(){to(this,t),this.cachedCallback={},this.callbacks={},this.commandes=[]}var e,n,r;return e=t,(n=[{key:"getCallbacks",value:function(t){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t]}},{key:"setCallbacks",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.callbacks[t]=e}},{key:"on",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e;r>0?i=Zt(e,r):o>0&&(i=qt(e,o)),this.getCallbacks(t).push({event:t,callback:i,context:n,originalCallback:e})}},{key:"off",value:function(t,e){1==arguments.length?this.setCallbacks(t):2==arguments.length&&this.setCallbacks(t,this.getCallbacks(t).filter((function(t){return t.originalCallback!==e})))}},{key:"offAll",value:function(t){var e=this;Object.keys(this.callbacks).forEach((function(n){e.setCallbacks(n,e.getCallbacks(n).filter((function(e){return e.context!==t})))}))}},{key:"getCachedCallbacks",value:function(t){return this.getCallbacks(t)}},{key:"sendMessage",value:function(t,e,n,r,o,i){var a=this;Promise.resolve().then((function(){var c=a.getCachedCallbacks(e);c&&c.filter((function(e){return e.originalCallback.source!==t})).forEach((function(t){t.callback(n,r,o,i)}))}))}},{key:"nextSendMessage",value:function(t,e,n,r,o,i){Promise.resolve().then((function(){e(n,r,o,i)}))}},{key:"triggerMessage",value:function(t,e,n,r,o,i){var a=this;Promise.resolve().then((function(){var c=a.getCachedCallbacks(e);c?c.filter((function(e){return e.originalCallback.source===t})).forEach((function(t){t.callback(n,r,o,i)})):console.warn(e," is not valid event")}))}},{key:"emit",value:function(t,e,n,r,o){this.sendMessage(this.source,t,e,n,r,o)}},{key:"nextTick",value:function(t,e,n,r,o){this.nextSendMessage(this.source,t,e,n,r,o)}},{key:"trigger",value:function(t,e,n,r,o){this.triggerMessage(this.source,t,e,n,r,o)}},{key:"execute",value:function(t,e,n,r,o){this.runCommand(this.source,t,e,n,r,o)}}])&&eo(e.prototype,n),r&&eo(e,r),t}();function oo(t){return function(t){if(Array.isArray(t))return co(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||ao(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||ao(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(t,e){if(t){if("string"==typeof t)return co(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?co(t,e):void 0}}function co(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function so(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fo=(lo(no={constructor:!0,initState:!0,refresh:!0,updateData:!0},"constructor",!0),lo(no,"initializeProperty",!0),lo(no,"created",!0),lo(no,"getRealEventName",!0),lo(no,"initializeStoreEvent",!0),lo(no,"destoryStoreEvent",!0),lo(no,"destroy",!0),lo(no,"emit",!0),lo(no,"trigger",!0),lo(no,"on",!0),lo(no,"off",!0),lo(no,"setState",!0),lo(no,"_reload",!0),lo(no,"render",!0),lo(no,"initialize",!0),lo(no,"afterRender",!0),lo(no,"components",!0),lo(no,"getRef",!0),lo(no,"parseTemplate",!0),lo(no,"childrenIds",!0),lo(no,"exists",!0),lo(no,"parseProperty",!0),lo(no,"parseSourceName",!0),lo(no,"parseComponent",!0),lo(no,"clean",!0),lo(no,"refresh",!0),lo(no,"template",!0),lo(no,"eachChildren",!0),lo(no,"initializeEvent",!0),lo(no,"destroy",!0),lo(no,"self",!0),lo(no,"isAltKey",!0),lo(no,"isCtrlKey",!0),lo(no,"isShiftKey",!0),lo(no,"isMetaKey",!0),lo(no,"preventDefault",!0),lo(no,"stopPropagation",!0),lo(no,"bodyMouseMove",!0),lo(no,"bodyMouseUp",!0),no),po=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};uo(this,t),this.context=e,this.options=n}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){}},{key:"load",value:function(){}},{key:"refresh",value:function(){}},{key:"render",value:function(){}},{key:"getRef",value:function(t){return this.context.getRef(t)}},{key:"splitMethodByKeyword",value:function(t,e){var n=t.filter((function(t){return t.indexOf("".concat(e,"("))>-1})),r=n.map((function(t){var n=io(t.split("".concat(e,"("))[1].split(")")[0].trim().split(" "),2);return{target:n[0],param:n[1]}}));return[n,r]}},{key:"collectProps",value:function(){var t=this.context,e=t.__proto__,n=[];do{if(!1==e instanceof Object)break;var r=Object.getOwnPropertyNames(e).filter((function(e){return t&&le(t[e])&&!fo[e]}));n.push.apply(n,oo(r)),e=e.__proto__}while(e);return n}},{key:"filterProps",value:function(t){return this.collectProps().filter((function(e){return e.match(t)}))}},{key:"run",value:function(){}},{key:"destroy",value:function(){}}])&&so(e.prototype,n),r&&so(e,r),t}();function yo(t){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ho(t){return function(t){if(Array.isArray(t))return wo(t)}(t)||vo(t)||go(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function bo(t,e){return Oo(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||go(t,e)||mo()}function mo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function go(t,e){if(t){if("string"==typeof t)return wo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wo(t,e):void 0}}function wo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oo(t){if(Array.isArray(t))return t}function ko(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function So(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jo(t,e){return(jo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ro(t);if(e){var o=Ro(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xo(this,n)}}function xo(t,e){return!e||"object"!==yo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ro(t){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $o={touchstart:!0,touchmove:!0,mousedown:!0,mouseup:!0,mousemove:!0,wheel:!0,mousewheel:!0},Eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jo(t,e)}(i,t);var e,n,r,o=Po(i);function i(){return ko(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){var t=this;this.destroy(),this._domEvents||(this._domEvents=this.filterProps(rr)),this._domEvents.forEach((function(e){return t.parseEvent(e)}))}},{key:"destroy",value:function(){this.removeEventAll()}},{key:"removeEventAll",value:function(){var t=this;this.getBindings().forEach((function(e){t.removeEvent(e)})),this.initBindings()}},{key:"removeEvent",value:function(t){var e=t.eventName,n=t.dom,r=t.callback;Qr.removeEvent(n,e,r)}},{key:"getBindings",value:function(){return this._bindings||this.initBindings(),this._bindings}},{key:"addBinding",value:function(t){this.getBindings().push(t)}},{key:"initBindings",value:function(){this._bindings=[]}},{key:"matchPath",value:function(t,e){return t?t.matches(e)?t:this.matchPath(t.parentElement,e):null}},{key:"hasDelegate",value:function(t,e){return this.matchPath(t.target||t.srcElement,e.delegate)}},{key:"makeCallback",value:function(t,e){return t.delegate?this.makeDelegateCallback(t,e):this.makeDefaultCallback(t,e)}},{key:"makeDefaultCallback",value:function(t,e){var n=this;return function(r){var o=n.runEventCallback(r,t,e);if(oe(o))return o}}},{key:"makeDelegateCallback",value:function(t,e){var n=this;return function(r){var o=n.hasDelegate(r,t);if(o){r.$dt=er.create(o);var i=n.runEventCallback(r,t,e);if(oe(i))return i}}}},{key:"runEventCallback",value:function(t,e,n){var r=this.context;if(t.xy=Qr.posXY(t),e.beforeMethods.length&&e.beforeMethods.every((function(e){return r[e.target].call(r,t,e.param)})),this.checkEventType(t,e)){var o=n(t,t.$dt,t.xy);return!1!==o&&e.afterMethods.length&&e.afterMethods.forEach((function(e){return r[e.target].call(r,t,e.param)})),o}}},{key:"checkEventType",value:function(t,e){var n=this.context,r=!0;e.codes.length&&(r=!!t.code&&e.codes.indexOf(t.code.toLowerCase())>-1||!!t.key&&e.codes.indexOf(t.key.toLowerCase())>-1);var o=!0;return e.checkMethodList.length&&(o=e.checkMethodList.every((function(e){var r=n[e];return le(r)&&r?r.call(n,t):!oe(r)||!!r}))),r&&o}},{key:"getDefaultDomElement",value:function(t){var e,n=this.context;return(e=t?n.refs[t]||n[t]||window[t]:n.el||n.$el||n.$root)instanceof er?e.getElement():e}},{key:"getDefaultEventObject",value:function(t,e){var n=this.context,r=e,o=r.filter((function(t){return!!n[t]})),i=bo(this.splitMethodByKeyword(r,"after"),2),a=i[0],c=i[1],u=bo(this.splitMethodByKeyword(r,"before"),2),s=u[0],l=u[1],f=bo(this.splitMethodByKeyword(r,"debounce"),2),p=f[0],y=f[1],h=bo(this.splitMethodByKeyword(r,"throttle"),2),d=h[0],v=h[1],b=bo(this.splitMethodByKeyword(r,"capture"),1)[0],m=[].concat(ho(o),ho(a),ho(s),ho(p),ho(d),ho(b));return{eventName:t,codes:r.filter((function(t){return-1===m.indexOf(t)})).map((function(t){return t.toLowerCase()})),captures:b,afterMethods:c,beforeMethods:l,debounceMethods:y,throttleMethods:v,checkMethodList:o}}},{key:"addEvent",value:function(t,e){t.callback=this.makeCallback(t,e),this.addBinding(t);var n=!!t.captures.length;$o[t.eventName]&&(n={passive:!0,capture:n}),Qr.addEvent(t.dom,t.eventName,t.callback,n)}},{key:"bindingEvent",value:function(t,e,n){var r,o=Oo(r=t)||vo(r)||go(r)||mo(),i=o[0],a=o[1],c=o.slice(2),u=(this.context,this.getDefaultEventObject(i,e));u.dom=this.getDefaultDomElement(a),u.delegate=c.join(" "),u.debounceMethods.length?n=Zt(n,+u.debounceMethods[0].target):u.throttleMethods.length&&(n=qt(n,+u.throttleMethods[0].target)),this.addEvent(u,n)}},{key:"getEventNames",value:function(t){var e=[];return t.split(":").forEach((function(t){var n=t.split(":");e.push.apply(e,ho(n))})),e}},{key:"parseEvent",value:function(t){var e=this,n=this.context,r=t.split(ar).map((function(t){return t.trim()})),o=r.shift().split("dom ")[1].split(" "),i=this.getEventNames(o[0]),a=n[t].bind(n);i.forEach((function(t){o[0]=t,e.bindingEvent(o,r,a)}))}}])&&So(e.prototype,n),r&&So(e,r),i}(po);function _o(t){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Co(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||zo(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Do(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ao(t,e){return(Ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lo(t);if(e){var o=Lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vo(this,n)}}function Vo(t,e){return!e||"object"!==_o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mo(t){return function(t){if(Array.isArray(t))return Bo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||zo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(t,e){if(t){if("string"==typeof t)return Bo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bo(t,e):void 0}}function Bo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fo,Go=function(t,e,n){"cssText"!==e?"style"!==e?"class"!==e?re(n)?t.removeAttr(e):"TEXTAREA"===t.el.nodeName&&"value"===e||"text"===e||"textContent"===e?t.text(n):"innerHTML"===e||"html"===e?t.html(n):"value"===e?t.val(n):t.attr(e,n):ie(n)?t.addClass.apply(t,Mo(n)):se(n)?Jt(n,(function(e,n){return t.toggleClass(e,n)})):t.addClass(n):ue(n)&&t.css(n):t.cssText(n)},Ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ao(t,e)}(i,t);var e,n,r,o=Io(i);function i(){return To(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"load",value:function(){this.bindData.apply(this,arguments)}},{key:"bindData",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._bindMethods||(this._bindMethods=this.filterProps(ir)),this._bindMethods.filter((function(t){if(!n.length)return!0;var e=Co(t.split(ar),2),r=e[0],o=(e[1],Co(r.split(" "),2)),i=(o[0],o[1]);return n.indexOf(i)>-1})).forEach((function(e){var r=t.context[e],o=Co(e.split(ar),2),i=(e=o[0],o[1]),a=t.getRef(i),c=qr;""!=a&&ce(a)?c=Zr(a):le(a)&&(c=a);var u=e.split("bind ")[1],s=t.context.refs[u],l=le(c)&&c.call(t.context);if(s&&l){var f=r.call.apply(r,[t.context].concat(n));if(!f)return;Jt(f,(function(t,e){Go(s,t,e)}))}}))}},{key:"destroy",value:function(){this._bindMethods=void 0}}])&&Do(e.prototype,n),r&&Do(e,r),i}(po);function Xo(){var t=Zo(["",""]);return Xo=function(){return t},t}function Yo(t){return Uo(t)||Qo(t)||Jo(t)||Ko()}function No(t,e){return Uo(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Jo(t,e)||Ko()}function Ko(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Uo(t){if(Array.isArray(t))return t}function Wo(){var t=Zo(["\n        ","\n      "]);return Wo=function(){return t},t}function Zo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function qo(t){return function(t){if(Array.isArray(t))return ti(t)}(t)||Qo(t)||Jo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(t,e){if(t){if("string"==typeof t)return ti(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ti(t,e):void 0}}function Qo(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ri=er.create("div"),oi="[".concat("ref","]"),ii=(ni(Fo={constructor:!0,initState:!0,refresh:!0,updateData:!0},"constructor",!0),ni(Fo,"initializeProperty",!0),ni(Fo,"created",!0),ni(Fo,"getRealEventName",!0),ni(Fo,"initializeStoreEvent",!0),ni(Fo,"destoryStoreEvent",!0),ni(Fo,"destroy",!0),ni(Fo,"emit",!0),ni(Fo,"trigger",!0),ni(Fo,"on",!0),ni(Fo,"off",!0),ni(Fo,"setState",!0),ni(Fo,"_reload",!0),ni(Fo,"render",!0),ni(Fo,"initialize",!0),ni(Fo,"afterRender",!0),ni(Fo,"components",!0),ni(Fo,"getRef",!0),ni(Fo,"parseTemplate",!0),ni(Fo,"childrenIds",!0),ni(Fo,"exists",!0),ni(Fo,"parseProperty",!0),ni(Fo,"parseSourceName",!0),ni(Fo,"parseComponent",!0),ni(Fo,"clean",!0),ni(Fo,"refresh",!0),ni(Fo,"loadTemplate",!0),ni(Fo,"load",!0),ni(Fo,"bindData",!0),ni(Fo,"template",!0),ni(Fo,"eachChildren",!0),ni(Fo,"initializeEvent",!0),ni(Fo,"destroy",!0),ni(Fo,"collectProps",!0),ni(Fo,"filterProps",!0),ni(Fo,"self",!0),ni(Fo,"isAltKey",!0),ni(Fo,"isCtrlKey",!0),ni(Fo,"isShiftKey",!0),ni(Fo,"isMetaKey",!0),ni(Fo,"preventDefault",!0),ni(Fo,"stopPropagation",!0),ni(Fo,"bodyMouseMove",!0),ni(Fo,"bodyMouseUp",!0),Fo),ai=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.prevState={},this.refs={},this.children={},this._bindings=[],this.id=q(),this.handlers=this.initializeHandler(),this.initializeProperty(e,n),this.initComponents()}var e,n,r;return e=t,(n=[{key:"initComponents",value:function(){var t=this;this.childComponents=this.components(),this.childComponentKeys=Object.keys(this.childComponents),this.childComponentSet=new Map,this.childComponentKeys.forEach((function(e){t.childComponentSet.set(e.toLowerCase(),e)})),this.childComponentKeysString=qo(this.childComponentSet.keys()).join(",")}},{key:"initializeHandler",value:function(){return[new Ho(this),new Eo(this)]}},{key:"initState",value:function(){return{}}},{key:"setState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.prevState=this.state,this.state=Object.assign({},this.state,t),e&&this.load()}},{key:"toggleState",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState(ni({},t,!this.state[t]),e)}},{key:"_reload",value:function(t){this.props=t,this.state={},this.setState(this.initState(),!1),this.refresh(!0)}},{key:"render",value:function(t){this.$el=this.parseTemplate(me(Wo(),this.template())),this.refs.$el=this.$el,t&&t.append(this.$el),this.load(),this.afterRender()}},{key:"initialize",value:function(){this.state=this.initState()}},{key:"afterRender",value:function(){}},{key:"components",value:function(){return{}}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.join("");return this.refs[r]}},{key:"parseTemplate",value:function(t,e){var n=this;ie(t)&&(t=t.join("")),t=t.trim();var r=ri.html(t).children();return r.forEach((function(t){var e=t.attr("ref");e&&(n.refs[e]=t);var r=t.$$(oi),o={};r.forEach((function(t){var r=t.attr("ref");o[r]?console.warn("".concat(e," is duplicated. - ").concat(n.sourceName),n):o[r]=!0,n.refs[r]=t}))})),e?ri.createChildrenFragment():r[0]}},{key:"childrenIds",value:function(){return Qt(this.children,(function(t,e){return e.id}))}},{key:"exists",value:function(){return!this.parent||!le(this.parent.childrenIds)||this.parent.childrenIds().indexOf(this.id)>-1}},{key:"parseProperty",value:function(t){var e,n={},r=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Jo(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t.el.attributes);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o.nodeName]=o.nodeValue}}catch(t){r.e(t)}finally{r.f()}return t.$$("property").forEach((function(t){var e=No(t.attrs("name","value","type"),3),r=e[0],o=e[1],i=e[2],a=o||t.text();"json"===i&&(a=JSON.parse(a)),n[r]=a})),n}},{key:"parseSourceName",value:function(t){return t.parent?[t.sourceName].concat(qo(this.parseSourceName(t.parent))):[t.sourceName]}},{key:"parseComponent",value:function(){var t=this,e=this.$el,n=[];this.childComponentKeysString&&(n=e.$$(this.childComponentKeysString)),n.forEach((function(e){var n=e.el.tagName.toLowerCase(),r=t.childComponentSet.get(n),o=t.childComponents[r],i=t.parseProperty(e),a=e.attr("ref"),c=null;t.children[a]?(c=t.children[a])._reload(i):(c=new o(t,i),t.children[a||c.id]=c,c.render()),e.replace(c.$el)})),Jt(this.children,(function(e,n){n&&n.clean()&&delete t.children[e]}))}},{key:"clean",value:function(){if(this.$el&&!this.$el.hasParent())return Jt(this.children,(function(t,e){e.clean()})),this.destroy(),this.$el=null,!0}},{key:"refresh",value:function(){this.load()}},{key:"loadTemplate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this[Ur(e.join(""))].call(this)}},{key:"load",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._loadMethods||(this._loadMethods=this.filterProps(or)),this._loadMethods.filter((function(t){var e=t.split("load ")[1].split(ar).map((function(t){return t.trim()}))[0];return!n.length||n.indexOf(e)>-1})).forEach((function(e){var r=Yo(e.split("load ")[1].split(ar).map((function(t){return t.trim()}))),o=r[0],i=r.slice(1);i=i.map((function(t){return t.trim()}));var a=Boolean(i.filter((function(t){return Fr.includes(t)})).length);if(t.refs[o]){var c,u=(c=t[e]).call.apply(c,[t].concat(n));ie(u)&&(u=u.join(""));var s=t.parseTemplate(me(Xo(),u),!0);a?t.refs[o].htmlDiff(s):t.refs[o].html(s)}})),this.runHandlers("initialize"),this.bindData(),this.parseComponent()}},{key:"runHandlers",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"run",e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.handlers.forEach((function(e){return e[t].apply(e,n)}))}},{key:"bindData",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.runHandlers.apply(this,["load"].concat(e))}},{key:"template",value:function(){return"<div></div>"}},{key:"eachChildren",value:function(t){le(t)&&Jt(this.children,(function(e,n){t(n)}))}},{key:"rerender",value:function(){var t=this.$el.parent();this.destroy(),this.render(t)}},{key:"destroy",value:function(){this.eachChildren((function(t){t.destroy()})),this.runHandlers("destroy"),this.$el.remove(),this.$el=null,this.refs={},this.children={}}},{key:"collectProps",value:function(){var t=this,e=this.__proto__,n=[];do{if(!1==e instanceof Object)break;var r=Object.getOwnPropertyNames(e).filter((function(e){return t&&le(t[e])&&!ii[e]}));n.push.apply(n,qo(r)),e=e.__proto__}while(e);return n}},{key:"filterProps",value:function(t){return this.collectProps().filter((function(e){return e.match(t)}))}},{key:"self",value:function(t){return t&&t.$dt&&t.$dt.is(t.target)}},{key:"isAltKey",value:function(t){return t.altKey}},{key:"isCtrlKey",value:function(t){return t.ctrlKey}},{key:"isShiftKey",value:function(t){return t.shiftKey}},{key:"isMetaKey",value:function(t){return t.metaKey||"Meta"==t.key||t.code.indexOf("Meta")>-1}},{key:"preventDefault",value:function(t){return t.preventDefault(),!0}},{key:"stopPropagation",value:function(t){return t.stopPropagation(),!0}},{key:"bodyMouseMove",value:function(t,e){this[e]&&this.emit("add/body/mousemove",this[e],this,t.xy)}},{key:"bodyMouseUp",value:function(t,e){this[e]&&this.emit("add/body/mouseup",this[e],this,t.xy)}}])&&ei(e.prototype,n),r&&ei(e,r),t}();function ci(t){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ui(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return si(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return si(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pi(t,e,n){return(pi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yi(t,e){return(yi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vi(t);if(e){var o=vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return di(this,n)}}function di(t,e){return!e||"object"!==ci(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bi=/^ME@/,mi=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("|")},gi=function(){return"ME@"+mi.apply(void 0,arguments)},wi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yi(t,e)}(i,t);var e,n,r,o=hi(i);function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return li(this,i),(e=o.call(this,t,n)).created(),e.initialize(),e.initializeStoreEvent(),e}return e=i,(n=[{key:"initializeProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opt=t||{},this.parent=this.opt,this.props=e,this.source=q(),this.sourceName=this.constructor.name,t&&t.$store&&(this.$store=t.$store),t&&t.$editor&&(this.$editor=t.$editor)}},{key:"created",value:function(){}},{key:"getRealEventName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ME@",n=t.indexOf(e);return t.substr(n<0?0:n+e.length)}},{key:"splitMethod",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=xe(t.split("|"),e),o=ui(r,2),i=o[0],a=o[1];return[i.length?+a[0].target:n,i,a]}},{key:"initializeStoreEvent",value:function(){var t=this;this.filterProps(bi).forEach((function(e){var n=t.getRealEventName(e,"ME@"),r=ui(t.splitMethod(n,"debounce"),2),o=r[0],i=r[1],a=ui(t.splitMethod(n,"throttle"),2),c=a[0],u=a[1];n.split("|").filter((function(t){return-1===i.indexOf(t)&&-1===u.indexOf(t)})).map((function(t){return t.trim()})).forEach((function(n){var r=t[e].bind(t);r.displayName="".concat(t.sourceName,".").concat(n),r.source=t.source,t.$store.on(n,r,t,o,c)}))}))}},{key:"destoryStoreEvent",value:function(){this.$store.offAll(this)}},{key:"destroy",value:function(){pi(vi(i.prototype),"destroy",this).call(this),this.destoryStoreEvent()}},{key:"rerender",value:function(){pi(vi(i.prototype),"rerender",this).call(this),this.initialize(),this.initializeStoreEvent()}},{key:"emit",value:function(t,e,n,r,o){this.$store.source=this.source,this.$store.sourceContext=this,this.$store.emit(t,e,n,r,o)}},{key:"nextTick",value:function(t){this.$store.nextTick(t)}},{key:"trigger",value:function(t,e,n,r,o){this.$store.source=this.source,this.$store.trigger(t,e,n,r,o)}},{key:"on",value:function(t,e){this.$store.on(t,e)}},{key:"off",value:function(t,e){this.$store.off(t,e)}},{key:"$i18n",value:function(t){return this.$editor.i18n(t)}},{key:"$initI18n",value:function(t){return this.$editor.initI18n(t)}},{key:"command",value:function(t,e,n,r,o,i){return this.$editor.isPointerUp?this.emit("history.".concat(t),e,n,r,o,i):this.emit(t,n,r,o,i)}},{key:"$theme",value:function(t){return this.$editor.themeValue(t)}},{key:"$config",get:function(){return this.$editor.config}},{key:"$selection",get:function(){return this.$editor.selection}},{key:"$timeline",get:function(){return this.$editor.timeline}},{key:"$history",get:function(){return this.$editor.history}}])&&fi(e.prototype,n),r&&fi(e,r),i}(ai),Oi={en_US:{"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"","app.lang.fr_FR":"Franais","app.label.lang":"Language","app.layout.all":"All","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"Menu Layout","app.theme.dark":"Dark","app.theme.light":"Light","app.theme.toon":"Toon","app.theme.gray":"Gray","app.label.theme":"Theme","app.tab.title.projects":"Projects","app.tab.title.layers":"Layers","app.tab.title.libraries":"Library","app.tab.title.components":"Object","app.tab.title.assets":"Assets","app.tab.title.keyMap":"KeyMap","menu.item.download.title":"Download","menu.item.save.title":"Save","menu.item.export.title":"Export","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"Screen","menu.item.shortcuts.title":"ShortCuts","menu.item.github.title":"Github","menu.item.learn.title":"Learn","project.property.title":"Project","project.information.property.title":"Project information","project.information.property.name":"Name","project.information.property.description":"Description","artboard.property.title":"ArtBoards","artboard.property.layout.title.flex":"Flex","artboard.property.layout.title.grid":"Grid","layer.tree.property.title":"Layers","layer.tree.property.layout.title.flex":"Flex","layer.tree.property.layout.title.grid":"Grid","alignment.property.title":"Alignment","position.property.title":"Position","position.property.X":"X","position.property.Y":"Y","size.property.title":"Size","size.property.width":"Width","size.property.height":"Height","background.color.property.title":"Appearance","background.color.property.color":"Color","background.color.property.zindex":"z-index","background.color.property.opacity":"Opacity","background.color.property.blend":"Blend","background.color.property.overflow":"Overflow","background.color.property.overflow.visible":"Visible","background.color.property.overflow.hidden":"Hidden","background.color.property.overflow.scroll":"Scroll","background.color.property.overflow.auto":"Auto","blend.normal":"normal","blend.multiply":"multiply","blend.screen":"screen","blend.overlay":"overlay","blend.darken":"darken","blend.lighten":"lighten","blend.color-dodge":"color-dodge","blend.color-burn":"color-burn","blend.hard-light":"hard-light","blend.soft-light":"soft-light","blend.difference":"difference","blend.exclusion":"exclusion","blend.hue":"hue","blend.saturation":"saturation","blend.color":"color","blend.luminosity":"luminosity","background.image.property.title":"Fill","border.property.title":"Border","border.radius.property.title":"Border Radius","boxshadow.property.title":"Box Shadows","filter.property.title":"Filter","filter.property.blur":"Blur","filter.property.grayscale":"GrayScale","filter.property.hue-rotate":"Hue Rotate","filter.property.invert":"Invert","filter.property.brightness":"Brightness","filter.property.contrast":"Contrast","filter.property.drop-shadow":"Drop Shadow","filter.property.drop-shadow.color":"Color","filter.property.drop-shadow.offsetX":"Offset X","filter.property.drop-shadow.offsetY":"Offset Y","filter.property.drop-shadow.blurRadius":"Blur","filter.property.opacity":"Opacity","filter.property.saturate":"Saturate","filter.property.sepia":"Sepia","filter.property.svg":"SVG","font.property.title":"Font","font.property.color":"Color","font.property.size":"Size","font.property.stretch":"Stretch","font.property.weight":"Weight","font.property.style":"Style","font.property.family":"Family","font.spacing.property.title":"Font spacing","font.spacing.property.lineHeight":"Line height","font.spacing.property.letterSpacing":"Letter spacing","font.spacing.property.wordSpacing":"Word spacing","font.spacing.property.indent":"Indent","backdrop.filter.property.title":"Backdrop Filter","clippath.property.title":"Clip Path","export.property.title":"Export","export.property.download":"Download","image.property.title":"Image","image.property.origin":"Origin","image.property.size":"Size","image.property.width":"Width","image.property.height":"height","video.property.title":"Video","video.property.play":"Play","video.property.pause":"Pause","video.property.volume":"Volume","video.property.playbackRate":"Playback Rate","video.property.currentTime":"Current Time","video.property.playTime":"Play Time Distance","motion.property.title":"Motion","text.property.title":"Text Style","text.property.align":"Align","text.property.transform":"Transform","text.property.decoration":"Decoration","text.clip.property.title":"Text Clip","text.shadow.property.title":"Text Shadows","text.fill.property.title":"Text Fill","text.fill.property.fill":"Fill","text.fill.property.stroke":"Stroke","text.fill.property.strokeWidth":"Width","transform.property.title":"Transform","transform.origin.property.title":"Transform Origin","transition.property.title":"CSS Transition","keyframe.property.title":"CSS Keyframe","selector.property.title":"Selector","selector.property.none":"None selector","path.data.property.title":"Path Information","polygon.data.property.title":"Polygon Information","perspective.property.title":"Perspective","perspective.origin.property.title":"Perspective Origin","svg.item.property.title":"SVG","svg.item.property.isMotionPath":"Motion Path","svg.item.property.fill":"Fill","svg.item.property.fillOpacity":"Opacity","svg.item.property.path":"Path","svg.item.property.polygon":"Polygon","svg.item.property.totalLength":"Total Length","svg.item.property.fillRule":"Fill Rule","svg.item.property.stroke":"Stroke","svg.item.property.strokeWidth":"Width","svg.item.property.dashArray":"Dash Array","svg.item.property.dashOffset":"Dash Offset","svg.item.property.lineCap":"Line Cap","svg.item.property.lineJoin":"Line Join","svg.item.property.filter":"Filter","border.editor.all":"All","border.editor.width":"Width","border.editor.style":"Style","border.editor.color":"C","border.editor.top":"Top","border.editor.left":"Left","border.editor.right":"Right","border.editor.bottom":"Bottom","border.radius.editor.topLeft":"Top Left","border.radius.editor.topRight":"Top Right","border.radius.editor.bottomLeft":"Bottom Left","border.radius.editor.bottomRight":"Bottom Right","boxshadow.editor.blur":"Blur","boxshadow.editor.spread":"Spread","css.property.editor.properties":"Properties","offset.path.list.editor.path":"Path","offset.path.list.editor.totalLength":"Total Length","offset.path.list.editor.distance":"Distance","offset.path.list.editor.direction":"Direction","offset.path.list.editor.rotate":"Rotate","svgfilter.select.editor.message.create":"Create new svg filter","svgfilter.select.editor.message.select":"Select a filter","fill.editor.message.click.image":"Click the preview area if you want to select a image","fill.editor.message.drag.position":"Drag if you want to move center position","fill.editor.x1":"Start X","fill.editor.x2":"End X","fill.editor.y1":"Start Y","fill.editor.y2":"End Y","fill.editor.spread":"Spread","fill.editor.offset":"Offset","fill.editor.cx":"Center X","fill.editor.cy":"Center Y","fill.editor.r":"End radius","fill.editor.fx":"Start X","fill.editor.fy":"Start Y","fill.editor.fr":"Start radius","perspective.origin.editor.originX":"Origin X","perspective.origin.editor.originY":"Origin Y","path.manager.msg":"Keydown ESC or Enter key to close editing","path.manager.mode.modify":"Modify","path.manager.mode.path":"Path","path.manager.mode.transform":"Transform","path.manager.mode.flipX":"Flip X","path.manager.mode.flipY":"Flip Y","path.manager.mode.flipOrigin":"Flip Origin","colorpicker.popup.title":"ColorPicker","selector.popup.title":"Selector Property","selector.popup.selector":"Selector","background.image.position.popup.title":"Background Pattern","background.image.position.popup.size":"Size","background.image.position.popup.width":"Width","background.image.position.popup.height":"Height","background.image.position.popup.repeat":"Repeat","background.image.position.popup.blend":"Blend","background.image.position.popup.type.repeat":"repeat","background.image.position.popup.type.no-repeat":"no repeat","background.image.position.popup.type.repeat-x":"repeat-x","background.image.position.popup.type.repeat-y":"repeat-y","background.image.position.popup.type.space":"space","background.image.position.popup.type.round":"round","gradient.picker.popup.title":"Gradient & Image Picker","image.asset.property.title":"Image","video.asset.property.title":"Video","color.asset.property.title":"Color","gradient.asset.property.title":"Gradient","pattern.asset.property.title":"Pattern","svgfilter.asset.property.title":"SVG Filter","inspector.tab.title.style":"Style","inspector.tab.title.component":"Component","inspector.tab.title.transition":"Transition & Animation","inspector.tab.title.asset":"Assets","inspector.tab.title.text":"Text","inspector.tab.title.code":"Code","timeline.property.title":"Timeline","timeline.animation.property.title":"Animations","timeline.play.control.play":"Play","timeline.play.control.pause":"Pause","timeline.play.control.first":"First","timeline.play.control.prev":"Previous","timeline.play.control.next":"Next","timeline.play.control.last":"Last","timeline.play.control.direction":"Direction","timeline.play.control.speed":"Speed","timeline.play.control.repeat":"Repeat","timeline.play.control.infinite":"Infinite","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternate","timeline.play.control.reverse":"reverse","timeline.play.control.alternate.reverse":"alternate reverse","timeline.value.editor.value":"Value","timeline.value.editor.time":"Time","timeline.value.editor.timing":"Timing","svgfilter.popup.title":"SVG Filter","css.item.rotate":"Rotate","css.item.rotateX":"Rotate X","css.item.rotateY":"Rotate Y","css.item.rotateZ":"Rotate Z","css.item.rotate3d":"3D Rotate","css.item.skewX":"Skew X","css.item.skewY":"Skew Y","css.item.translate":"Translate","css.item.translateX":"Translate X","css.item.translateY":"Translate Y","css.item.translateZ":"Translate Z","css.item.translate3d":"3D Translate","css.item.perspective":"Perspective","css.item.scale":"Scale","css.item.scaleX":"Scale X","css.item.scaleY":"Scale Y","css.item.scaleZ":"Scale Z","css.item.scale3d":"3D Scale","css.item.matrix":"Matrix","css.item.matrix3d":"3D Matrix","animation.property.title":"CSS Animation","animation.property.direction":"Direction","animation.property.play.state":"Play State","animation.property.fill.mode":"Fill Mode","animation.property.delay":"Delay","animation.property.duration":"Duration","animation.property.iteration.count":"Iteration Count","animation.property.Select a keyframe":"Select a keyframe","animation.property.popup.title":"Animation","animation.property.popup.timing.function":"Timing Function","animation.property.popup.keyframe":"Keyframe","animation.property.popup.direction":"Direction","animation.property.popup.play.state":"Play State","animation.property.popup.fill.mode":"Fill Mode","animation.property.popup.delay":"Delay","animation.property.popup.duration":"Duration","animation.property.popup.iteration":"Iteration","animation.property.popup.normal":"normal","animation.property.popup.reverse":"reverse","animation.property.popup.alternate":"alternate","animation.property.popup.alternate-reverse":"alternate-reverse","animation.property.popup.none":"none","animation.property.popup.forwards":"forwards","animation.property.popup.backwards":"backwards","animation.property.popup.both":"both","animation.property.popup.Select a keyframe":"Select a keyframe","keyframe.popup.title":"Keyframe","code.view.property.title":"CodeView","svg.filter.editor.tab.filter":"Filter","svg.filter.editor.tab.preset":"Preset","svg.filter.editor.tab.asset":"Assets","svg.filter.editor.GRAPHIC REFERENCES":"GRAPHIC REFERENCES","svg.filter.editor.SOURCES":"SOURCES","svg.filter.editor.MODIFIER":"MODIFIER","svg.filter.editor.LIGHTING":"LIGHTING","svg.filter.editor.COMBINERS":"COMBINERS","svg.filter.editor.Template":"Template","layout.property.title":"Layout","layout.property.flex":"Flex Box","layout.property.grid":"Grid","layout.property.default":"Default","flex.layout.editor.row":"Row","flex.layout.editor.column":"column","flex.layout.editor.row-reverse":"Row Reverse","flex.layout.editor.column-reverse":"Column Reverse","flex.layout.editor.nowrap":"Nowrap","flex.layout.editor.wrap":"Wrap","flex.layout.editor.wrap-reverse":"Wrap Reverse","flex.layout.editor.flex-start":"Start","flex.layout.editor.flex-end":"End","flex.layout.editor.center":"Center","flex.layout.editor.space-between":"Between","flex.layout.editor.space-around":"Around","flex.layout.editor.baseline":"BaseLine","flex.layout.editor.stretch":"Stretch","flex.layout.editor.direction":"Direction","flex.layout.editor.justify-content":"Justify Content","flex.layout.editor.align-items":"Align Items","flex.layout.editor.align-content":"Align Content","flex.layout.item.property.title":"Layout Item Detail","flex.layout.item.property.grow":"Flex Grow","flex.layout.item.property.shrink":"Flex Shrink","flex.layout.item.property.basis":"Flex Basis","flex.layout.item.property.none":"none","flex.layout.item.property.auto":"auto","flex.layout.item.property.value":"value","grid.layout.editor.template.columns":"Columns","grid.layout.editor.column.gap":"Column Gap","grid.layout.editor.template.rows":"Rows","grid.layout.editor.row.gap":"Row Gap","grid.box.editor.box.title":"Box","grid.box.editor.type":"Type","grid.box.editor.repeat":"Repeat","grid.box.editor.length":"Length","grid.box.editor.none":"None","grid.box.editor.auto":"Auto","grid.box.editor.count":"Count","grid.box.editor.value":"Size","grid.layout.item.property.title":"Layout Item Detail","grid.layout.item.property.column":"Column","grid.layout.item.property.row":"Row","grid.layout.item.property.start":"Start","grid.layout.item.property.end":"End","grid.layout.item.property.none":"none","grid.layout.item.property.value":"value","box.model.property.title":"Box Model","box.model.property.margin":"Margin","box.model.property.padding":"Padding","component.items.canvas":"Canvas","component.items.layer":"Layer","component.items.3dlayer":"3D Layer","component.items.drawing":"Drawing","component.items.custom":"Custom Component","svg.text.property.title":"SVG Text Style","svg.text.property.textarea":"Text Area","svg.text.property.size":"Font Size","svg.text.property.weight":"Font Weight","svg.text.property.style":"Font Style","svg.text.property.anchor":"Text Anchor","svg.text.property.family":"Font Family","svg.text.property.length.adjust":"Length Adjust","svg.text.property.text.length":"Text Length","svg.text.property.start.offset":"Start Offset","fill.picker.popup.title":"SVG Fragment picker","gradient.editor.drag.message":"Drag if you want to move center pointer.","draw.manager.tolerance":"Tolerance","pattern.property.title":"Pattern","pattern.info.popup.title":"Pattern Info","pattern.info.popup.width":"Width","pattern.info.popup.height":"Height","pattern.info.popup.lineWidth":"Line Width","pattern.info.popup.lineHeight":"Line Height","pattern.info.popup.rotate":"Rotate","pattern.info.popup.blend":"Blend Mode","pattern.info.popup.foreColor":"Fore","pattern.info.popup.backColor":"Back","stroke.dasharray.editor.add":"Add Dash"},fr_FR:{"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"","app.lang.fr_FR":"Franais","app.label.lang":"Langue","app.layout.all":"All","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"Menu Layout","app.theme.dark":"Sombre","app.theme.light":"Clair","app.theme.gray":"Gris","app.label.theme":"Thme","app.tab.title.projects":"Projets","app.tab.title.layers":"Objets","app.tab.title.libraries":"Librarie","app.tab.title.components":"Objet","app.tab.title.assets":"Elements","app.tab.title.keyMap":"Clavier","menu.item.download.title":"Tlcharger","menu.item.save.title":"Enregistrer","menu.item.export.title":"Exporter","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"Ecran","menu.item.shortcuts.title":"ShortCuts","menu.item.github.title":"Github","menu.item.learn.title":"Docs","project.property.title":"Projet","project.information.property.title":"Information","project.information.property.name":"Nom","project.information.property.description":"Description","artboard.property.title":"Planche","artboard.property.layout.title.flex":"Flex","artboard.property.layout.title.grid":"Grille","layer.tree.property.title":"Objets","layer.tree.property.layout.title.flex":"Flex","layer.tree.property.layout.title.grid":"Grille","alignment.property.title":"Alignment","position.property.title":"Position","position.property.X":"X","position.property.Y":"Y","size.property.title":"Taille","size.property.width":"Largeur","size.property.height":"Hauteur","background.color.property.title":"Apparance","background.color.property.color":"Couleur","background.color.property.zindex":"z-index","background.color.property.opacity":"Opacit","background.color.property.blend":"Mlange","background.color.property.overflow":"Dbordement","background.color.property.overflow.visible":"Visible","background.color.property.overflow.hidden":"Cach","background.color.property.overflow.scroll":"Scroll","background.color.property.overflow.auto":"Auto","blend.normal":"normal","blend.multiply":"multiplie","blend.screen":"cran","blend.overlay":"couche","blend.darken":"sombre","blend.lighten":"clair","blend.color-dodge":"dodge","blend.color-burn":"brul","blend.hard-light":"dur","blend.soft-light":"doux","blend.difference":'diff"rence',"blend.exclusion":"exclusion","blend.hue":"teinte","blend.saturation":"saturation","blend.color":"couleur","blend.luminosity":"luminosit","background.image.property.title":"Remplissage","border.property.title":"Bordure","border.radius.property.title":"Rayon de bordure","boxshadow.property.title":"Ombres","filter.property.title":"Filtre","filter.property.blur":"Flou","filter.property.grayscale":"Echelle de gris","filter.property.hue-rotate":"Rotation teinte","filter.property.invert":"Invertir","filter.property.brightness":"Luminosit","filter.property.contrast":"Contraste","filter.property.drop-shadow":"Ombre porte","filter.property.drop-shadow.color":"Couleur","filter.property.drop-shadow.offsetX":"Dcalage X","filter.property.drop-shadow.offsetY":"Dcalage Y","filter.property.drop-shadow.blurRadius":"Flou","filter.property.opacity":"Opacit","filter.property.saturate":"Saturation","filter.property.sepia":"Spia","filter.property.svg":"SVG","font.property.title":"Police","font.property.color":"Couleur","font.property.size":"Taille","font.property.stretch":"Etirement","font.property.weight":"Poids","font.property.style":"Style","font.property.family":"Famille","font.spacing.property.title":"Espaces du texte","font.spacing.property.lineHeight":"Hauteur de ligne","font.spacing.property.letterSpacing":"Espace inter-caractres","font.spacing.property.wordSpacing":"Espace inter-mots","font.spacing.property.indent":"Identation","backdrop.filter.property.title":"Filtre Backdrop","clippath.property.title":"Chemin du Clip","export.property.title":"Exporter","export.property.download":"Tlcharger","image.property.title":"Image","image.property.origin":"Origine","image.property.size":"Taille","image.property.width":"Largeur","image.property.height":"Hauteur","video.property.title":"Video","video.property.play":"Jouer","video.property.pause":"Pause","video.property.volume":"Volume","video.property.playbackRate":"Vitesse de lecture","video.property.currentTime":"Temps actuel","video.property.playTime":"Temps de lecture","motion.property.title":"Mouvement","text.property.title":"Style Texte","text.property.align":"Alignement","text.property.transform":"Transformation","text.property.decoration":"Dcoration","text.clip.property.title":"Clip Texte","text.shadow.property.title":"Ombres Texte","text.fill.property.title":"Remplissage Texte","text.fill.property.fill":"Remplissage","text.fill.property.stroke":"Trait","text.fill.property.strokeWidth":"Largeur","transform.property.title":"Transformation","transform.origin.property.title":"Origine Transformation","transition.property.title":"Transition CSS","keyframe.property.title":"Image cl CSS","selector.property.title":"Slcteur","selector.property.none":"Aucun slcteur","path.data.property.title":"Information Chemin","polygon.data.property.title":"Information Polygone","perspective.property.title":"Perspective","perspective.origin.property.title":"Origine Perspective","svg.item.property.title":"SVG","svg.item.property.isMotionPath":"Chemin de mouvement","svg.item.property.fill":"Remplissage","svg.item.property.fillOpacity":"Opacit","svg.item.property.path":"Chemin","svg.item.property.polygon":"Polygone","svg.item.property.totalLength":"Longueur totale","svg.item.property.fillRule":"Rgle remplissage","svg.item.property.stroke":"Trait","svg.item.property.strokeWidth":"Largeur de trait","svg.item.property.dashArray":"Suite tiret","svg.item.property.dashOffset":"Dcalage tiret","svg.item.property.lineCap":"Chapeau Ligne","svg.item.property.lineJoin":"Jonction ligne","svg.item.property.filter":"Filtre","border.editor.all":"Tout","border.editor.width":"Largeur","border.editor.style":"Style","border.editor.color":"Couleur","border.editor.top":"Haut","border.editor.left":"Gauche","border.editor.right":"Droite","border.editor.bottom":"Bas","border.radius.editor.topLeft":"Haut gauche","border.radius.editor.topRight":"Haut droite","border.radius.editor.bottomLeft":"Bas gauche","border.radius.editor.bottomRight":"Bas droite","boxshadow.editor.blur":"Flou","boxshadow.editor.spread":"Etalement","css.property.editor.properties":"Proprits","offset.path.list.editor.path":"Chemin","offset.path.list.editor.totalLength":"Longueur totale","offset.path.list.editor.distance":"Distance","offset.path.list.editor.direction":"Direction","offset.path.list.editor.rotate":"Rotation","svgfilter.select.editor.message.create":"Crer un filtre svg","svgfilter.select.editor.message.select":"Slection filtre","fill.editor.message.click.image":"Cliquez sur aperu si vous souhaitez slectionner une image","fill.editor.message.drag.position":"Prendre pour changer la position centrale","fill.editor.x1":"Dbut X","fill.editor.x2":"Fin X","fill.editor.y1":"Dbut Y","fill.editor.y2":"Fin Y","fill.editor.spread":"Etalement","fill.editor.offset":"Dcalage","fill.editor.cx":"Centre X","fill.editor.cy":"Centre Y","fill.editor.r":"Rayon de fin","fill.editor.fx":"Dpart X","fill.editor.fy":"Dpart Y","fill.editor.fr":"Rayon de dpart","perspective.origin.editor.originX":"Origine X","perspective.origin.editor.originY":"Origine Y","path.manager.msg":"Appuyer ESC ou Entrz keypour fermer Edition","path.manager.mode.modify":"Modifier","path.manager.mode.path":"Chemin","path.manager.mode.transform":"Transformer","path.manager.mode.flipX":"Retouner X","path.manager.mode.flipY":"Retouner Y","path.manager.mode.flipOrigin":"Retouner Origine","colorpicker.popup.title":"Pipette","selector.popup.title":"Propit de Slecteur","selector.popup.selector":"Slecteur","background.image.position.popup.title":"Motif de fond","background.image.position.popup.size":"Taille","background.image.position.popup.width":"Largeur","background.image.position.popup.height":"Hauteur","background.image.position.popup.repeat":"Repte","background.image.position.popup.blend":"Mlange","background.image.position.popup.type.repeat":"repte","background.image.position.popup.type.no-repeat":"sans reptition","background.image.position.popup.type.repeat-x":"repte-x","background.image.position.popup.type.repeat-y":"repte-y","background.image.position.popup.type.space":"espace","background.image.position.popup.type.round":"rond","gradient.picker.popup.title":"Slection Gradient & Image","image.asset.property.title":"Image","video.asset.property.title":"Vido","color.asset.property.title":"Couleur","gradient.asset.property.title":"Gradient","pattern.asset.property.title":"Motif","svgfilter.asset.property.title":"Filtre SVG","inspector.tab.title.style":"Style","inspector.tab.title.component":"Composant","inspector.tab.title.transition":"Transition & Animation","inspector.tab.title.asset":"Elments","inspector.tab.title.text":"Texte","inspector.tab.title.code":"Code","timeline.property.title":"Chronologie","timeline.animation.property.title":"Animations","timeline.play.control.play":"Jouer","timeline.play.control.pause":"Pause","timeline.play.control.first":"Premier","timeline.play.control.prev":"Prcdent","timeline.play.control.next":"Suivant","timeline.play.control.last":"Dernier","timeline.play.control.direction":"Direction","timeline.play.control.speed":"Vitesse","timeline.play.control.repeat":"Rpter","timeline.play.control.infinite":"Infini","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternatif","timeline.play.control.reverse":"inverse","timeline.play.control.alternate.reverse":"inverse alternatif","timeline.value.editor.value":"Valeur","timeline.value.editor.time":"Temps","timeline.value.editor.timing":"Calage temps","svgfilter.popup.title":"Filtre SVG","css.item.rotate":"Rotation","css.item.rotateX":"Rotation X","css.item.rotateY":"Rotation Y","css.item.rotateZ":"Rotation Z","css.item.rotate3d":"Rotation 3D","css.item.skewX":"Oblique X","css.item.skewY":"Oblique Y","css.item.translate":"Translation","css.item.translateX":"Translation X","css.item.translateY":"Translation Y","css.item.translateZ":"Translation Z","css.item.translate3d":"Translation 3D","css.item.perspective":"Perspctive","css.item.scale":"Echelle","css.item.scaleX":"Echelle X","css.item.scaleY":"Echelle Y","css.item.scaleZ":"Echelle Z","css.item.scale3d":"Echelle 3D","css.item.matrix":"Matrice","css.item.matrix3d":"Matrice 3D","animation.property.title":"Animation CSS","animation.property.direction":"Direction","animation.property.play.state":"Etat lecture","animation.property.fill.mode":"Mode remplissage","animation.property.delay":"Dlais","animation.property.duration":"Dure","animation.property.iteration.count":"Nombre Itrations","animation.property.Select a keyframe":"Selectionner une image cl","animation.property.popup.title":"Animation","animation.property.popup.timing.function":"Fonction temps","animation.property.popup.keyframe":"image cl","animation.property.popup.direction":"Direction","animation.property.popup.play.state":"Etat lecture","animation.property.popup.fill.mode":"Mode remplissage","animation.property.popup.delay":"Dlais","animation.property.popup.duration":"Dur","animation.property.popup.iteration":"Itration","animation.property.popup.normal":"normal","animation.property.popup.reverse":"inverse","animation.property.popup.alternate":"alternatif","animation.property.popup.alternate-reverse":"inverse alternatif","animation.property.popup.none":"Aucun","animation.property.popup.forwards":"en avant","animation.property.popup.backwards":"en arrire","animation.property.popup.both":"les deux","animation.property.popup.Select a keyframe":"Selectionner une image cl","keyframe.popup.title":"image cl","code.view.property.title":"Vue code","svg.filter.editor.tab.filter":"Filtrer","svg.filter.editor.tab.preset":"Pre-rempli","svg.filter.editor.tab.asset":"Elments","svg.filter.editor.GRAPHIC REFERENCES":"REFERENCES GRAPHIQUES","svg.filter.editor.SOURCES":"SOURCES","svg.filter.editor.MODIFIER":"MODIFIER","svg.filter.editor.LIGHTING":"ECLAIRAGE","svg.filter.editor.COMBINERS":"COMBINER","svg.filter.editor.Template":"Modle","layout.property.title":"Disposition","layout.property.flex":"Bote Flex","layout.property.grid":"Grille","layout.property.default":"Dfaut","flex.layout.editor.row":"Ligne","flex.layout.editor.column":"Colonne","flex.layout.editor.row-reverse":"Inverse ligne","flex.layout.editor.column-reverse":"Inverse Colonne","flex.layout.editor.nowrap":"Non-emball","flex.layout.editor.wrap":"Emball (wrap)","flex.layout.editor.wrap-reverse":"Inverse emball","flex.layout.editor.flex-start":"Dbut","flex.layout.editor.flex-end":"Fin","flex.layout.editor.center":"Centrer","flex.layout.editor.space-between":"Entre","flex.layout.editor.space-around":"Autour","flex.layout.editor.baseline":"Base","flex.layout.editor.stretch":"Etirement","flex.layout.editor.direction":"Direction","flex.layout.editor.justify-content":"Justifier","flex.layout.editor.align-items":"Aligner objets","flex.layout.editor.align-content":"Aligner contenu","flex.layout.item.property.title":"Dtail Disposition objet","flex.layout.item.property.grow":"Augmenter Flex","flex.layout.item.property.shrink":"Rduire Flex","flex.layout.item.property.basis":"Base Flex","flex.layout.item.property.none":"Aucun","flex.layout.item.property.auto":"auto","flex.layout.item.property.value":"valeur","grid.layout.editor.template.columns":"Colonne","grid.layout.editor.column.gap":"Espace Colonne","grid.layout.editor.template.rows":"Lignes","grid.layout.editor.row.gap":"Espace lignes","grid.box.editor.box.title":"Bote","grid.box.editor.type":"Type","grid.box.editor.repeat":"Rpter","grid.box.editor.length":"Longueur","grid.box.editor.none":"Aucun","grid.box.editor.auto":"Auto","grid.box.editor.count":"Compte","grid.box.editor.value":"Taille","grid.layout.item.property.title":"Dtail disposition objets","grid.layout.item.property.column":"Colonne","grid.layout.item.property.row":"Ligne","grid.layout.item.property.start":"Dbut","grid.layout.item.property.end":"Fin","grid.layout.item.property.none":"Aucun","grid.layout.item.property.value":"valeur","box.model.property.title":"Modle","box.model.property.margin":"Marge","box.model.property.padding":"Espace","component.items.canvas":"Toile","component.items.layer":"Objet","component.items.3dlayer":"Objet 3D","component.items.drawing":"Dessin","component.items.custom":"Composant personnalis","svg.text.property.title":"Style SVG Texte","svg.text.property.textarea":"Zone Texte","svg.text.property.size":"Taille","svg.text.property.weight":"Poids","svg.text.property.style":"Style","svg.text.property.anchor":"Ancre Texte","svg.text.property.family":"Famille","svg.text.property.length.adjust":"Ajusteement longueur","svg.text.property.text.length":"Ajusteement Texte","svg.text.property.start.offset":"Dcallage dpart","fill.picker.popup.title":"Slection Fragment SVG","gradient.editor.drag.message":"Glisser pour dplacer centre.","draw.manager.tolerance":"Tolrance","pattern.property.title":"Motif","pattern.info.popup.title":"Info Motif","pattern.info.popup.width":"Largeur","pattern.info.popup.height":"Hauteur","pattern.info.popup.lineWidth":"Largeur ligne","pattern.info.popup.lineHeight":"Hauteur de ligne","pattern.info.popup.rotate":"Rotatation","pattern.info.popup.blend":"Mlange","pattern.info.popup.foreColor":"Avant","pattern.info.popup.backColor":"Arrire","stroke.dasharray.editor.add":"Ajout tiret"},ko_KR:{"app.title":"EASYLOGIC","app.sample":function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)},"app.lang.en_US":"English","app.lang.ko_KR":"","app.lang.fr_FR":"Franais","app.label.lang":"","app.layout.all":"","app.layout.css":"CSS","app.layout.svg":"SVG","app.label.layout":"","app.theme.dark":"","app.theme.light":"","app.theme.toon":"","app.theme.gray":"","app.label.theme":"","app.tab.title.projects":"","app.tab.title.layers":"","app.tab.title.libraries":"","app.tab.title.components":"","app.tab.title.assets":"","app.tab.title.keyMap":"","menu.item.download.title":"","menu.item.save.title":"","menu.item.export.title":"","menu.item.codepen.title":"CodePen","menu.item.fullscreen.title":"","menu.item.shortcuts.title":"","menu.item.github.title":"Github","menu.item.learn.title":"","project.property.title":"","project.information.property.title":" ","project.information.property.name":"","project.information.property.description":"","artboard.property.title":"","artboard.property.layout.title.flex":"","artboard.property.layout.title.grid":"","layer.tree.property.title":"","layer.tree.property.layout.title.flex":"","layer.tree.property.layout.title.grid":"","alignment.property.title":"","position.property.title":"","position.property.X":"X","position.property.Y":"Y","size.property.title":"","size.property.width":"","size.property.height":"","background.color.property.title":"","background.color.property.color":"","background.color.property.zindex":"z-index","background.color.property.opacity":"","background.color.property.blend":"","background.color.property.overflow":"","background.color.property.overflow.visible":"","background.color.property.overflow.hidden":"","background.color.property.overflow.scroll":"","background.color.property.overflow.auto":"","blend.normal":"Normal() ","blend.multiply":"Multiply() ","blend.screen":"Screen()  ","blend.overlay":"Overlay() ","blend.darken":"Darken() ","blend.lighten":"Lighten()  ","blend.color-dodge":"Color Dodge( )  ","blend.color-burn":"Color Burn( )  ","blend.hard-light":"Hard Light( )  ","blend.soft-light":"Soft Light( )  ","blend.difference":"Difference() ","blend.exclusion":"Exclusion() ","blend.hue":"Hue()  ","blend.saturation":"Saturation() ","blend.color":"Color() ","blend.luminosity":"Luminosity()  ","background.image.property.title":"()","border.property.title":"","border.radius.property.title":" ","boxshadow.property.title":"","filter.property.title":"","filter.property.blur":"(Blur)","filter.property.grayscale":"(GrayScale)","filter.property.hue-rotate":"(HueRotate)","filter.property.invert":"(Invert)","filter.property.brightness":"(Brightness)","filter.property.contrast":"\b(Contrast)","filter.property.drop-shadow":"(Drop Shadow)","filter.property.drop-shadow.color":"","filter.property.drop-shadow.offsetX":"X ","filter.property.drop-shadow.offsetY":"Y ","filter.property.drop-shadow.blurRadius":"","filter.property.opacity":"(Opacity)","filter.property.saturate":"(Saturate)","filter.property.sepia":"(Sepia)","filter.property.svg":"SVG","font.property.title":"","font.property.color":"","font.property.size":"","font.property.stretch":"","font.property.weight":"","font.property.style":"","font.property.family":"","font.spacing.property.title":" ","font.spacing.property.lineHeight":" ","font.spacing.property.letterSpacing":" ","font.spacing.property.wordSpacing":" ","font.spacing.property.indent":"","backdrop.filter.property.title":" ","clippath.property.title":"","export.property.title":"","export.property.download":"","image.property.title":"","image.property.origin":"","image.property.size":"","image.property.width":"","image.property.height":"","video.property.title":"","video.property.play":"","video.property.pause":"","video.property.volume":"","video.property.playbackRate":"","video.property.currentTime":" ","video.property.playTime":"  ","motion.property.title":"","path.data.property.title":" ","polygon.data.property.title":" ","text.property.title":" ","text.property.align":"","text.property.transform":"","text.property.decoration":"","text.clip.property.title":" ","text.shadow.property.title":" ","text.fill.property.title":" ","text.fill.property.fill":"","text.fill.property.stroke":"","text.fill.property.strokeWidth":" ","transform.property.title":"","transform.origin.property.title":" Origin","transition.property.title":"CSS ","keyframe.property.title":"CSS ","selector.property.title":"CSS ","selector.property.none":" ","perspective.property.title":"(perspective)","perspective.origin.property.title":" ","svg.item.property.title":"SVG","svg.item.property.isMotionPath":" ","svg.item.property.fill":"","svg.item.property.fillOpacity":"","svg.item.property.path":"","svg.item.property.polygon":"","svg.item.property.totalLength":" ","svg.item.property.fillRule":" ","svg.item.property.stroke":"","svg.item.property.strokeWidth":" ","svg.item.property.dashArray":" ","svg.item.property.dashOffset":" ","svg.item.property.lineCap":" ","svg.item.property.lineJoin":" ","svg.item.property.filter":"","border.editor.all":"","border.editor.width":"","border.editor.style":"","border.editor.color":"","border.editor.top":"","border.editor.left":"","border.editor.right":"","border.editor.bottom":"","border.radius.editor.topLeft":" ","border.radius.editor.topRight":" ","border.radius.editor.bottomLeft":" ","border.radius.editor.bottomRight":" ","boxshadow.editor.blur":"","boxshadow.editor.spread":"","css.property.editor.properties":"","offset.path.list.editor.path":"","offset.path.list.editor.totalLength":" ","offset.path.list.editor.distance":"","offset.path.list.editor.direction":"","offset.path.list.editor.rotate":"","svgfilter.select.editor.message.create":" SVG Filter  .","svgfilter.select.editor.message.select":" .","fill.editor.message.click.image":"     .","fill.editor.message.drag.position":"   .","fill.editor.x1":" X","fill.editor.x2":" X","fill.editor.y1":" Y","fill.editor.y2":" Y","fill.editor.spread":"","fill.editor.offset":"","fill.editor.cx":" X","fill.editor.cy":" Y","fill.editor.r":" ","fill.editor.fx":" X","fill.editor.fy":" Y","fill.editor.fr":" ","perspective.origin.editor.originX":" X","perspective.origin.editor.originY":" Y","path.manager.msg":"   ESC  Enter  .    .","path.manager.mode.modify":" ","path.manager.mode.path":" ","path.manager.mode.transform":"","path.manager.mode.flipX":"X ","path.manager.mode.flipY":"Y ","path.manager.mode.flipOrigin":" ","colorpicker.popup.title":" ","selector.popup.title":" ","selector.popup.selector":"","background.image.position.popup.title":" ","background.image.position.popup.size":"","background.image.position.popup.width":"","background.image.position.popup.height":"","background.image.position.popup.repeat":"","background.image.position.popup.blend":"","background.image.position.popup.type.repeat":"","background.image.position.popup.type.no-repeat":" ","background.image.position.popup.type.repeat-x":"x ","background.image.position.popup.type.repeat-y":"y ","background.image.position.popup.type.space":"","background.image.position.popup.type.round":"","gradient.picker.popup.title":" ","image.asset.property.title":"","video.asset.property.title":"","color.asset.property.title":"","gradient.asset.property.title":"","pattern.asset.property.title":"","svgfilter.asset.property.title":"SVG ","inspector.tab.title.style":" ","inspector.tab.title.component":" ","inspector.tab.title.transition":"  ","inspector.tab.title.asset":" ","inspector.tab.title.text":"","inspector.tab.title.code":"","timeline.property.title":"","timeline.animation.property.title":"","timeline.play.control.play":"","timeline.play.control.pause":"","timeline.play.control.first":"","timeline.play.control.prev":"","timeline.play.control.next":"","timeline.play.control.last":"","timeline.play.control.direction":"","timeline.play.control.speed":"","timeline.play.control.repeat":"","timeline.play.control.infinite":"","timeline.play.control.normal":"normal","timeline.play.control.alternate":"alternate","timeline.play.control.reverse":"reverse","timeline.play.control.alternate.reverse":"alternate reverse","timeline.value.editor.value":"","timeline.value.editor.time":"","timeline.value.editor.timing":" ","svgfilter.popup.title":"SVG ","css.item.rotate":"","css.item.rotateX":"X ","css.item.rotateY":"Y ","css.item.rotateZ":"Z ","css.item.rotate3d":"3D ","css.item.skewX":"X ","css.item.skewY":"Y ","css.item.translate":"","css.item.translateX":"X ","css.item.translateY":"Y ","css.item.translateZ":"Z ","css.item.translate3d":"3D ","css.item.perspective":"","css.item.scale":"","css.item.scaleX":"X ","css.item.scaleY":"Y ","css.item.scaleZ":"Z ","css.item.scale3d":"3D ","css.item.matrix":" ","css.item.matrix3d":"3D  ","animation.property.title":"CSS ","animation.property.direction":"","animation.property.play.state":" ","animation.property.fill.mode":" ","animation.property.delay":"","animation.property.duration":"","animation.property.iteration.count":" ","animation.property.select a keyframe":" ","animation.property.popup.title":"CSS ","animation.property.popup.timing.function":" ","animation.property.popup.keyframe":"","animation.property.popup.direction":"","animation.property.popup.play.state":" ","animation.property.popup.fill.mode":" ","animation.property.popup.delay":"","animation.property.popup.duration":"","animation.property.popup.iteration":" ","animation.property.popup.normal":"","animation.property.popup.reverse":"","animation.property.popup.alternate":" ","animation.property.popup.alternate-reverse":" ","animation.property.popup.none":"none","animation.property.popup.forwards":"forwards","animation.property.popup.backwards":"backwards","animation.property.popup.both":"both","animation.property.popup.Select a keyframe":" .","keyframe.popup.title":"","code.view.property.title":"","svg.filter.editor.tab.filter":"","svg.filter.editor.tab.preset":"","svg.filter.editor.tab.asset":"","svg.filter.editor.GRAPHIC REFERENCES":" ","svg.filter.editor.SOURCES":"","svg.filter.editor.MODIFIER":"","svg.filter.editor.LIGHTING":"","svg.filter.editor.COMBINERS":"","svg.filter.editor.Template":"","layout.property.title":"","layout.property.flex":" ","layout.property.grid":"","layout.property.default":" ","flex.layout.editor.row":"","flex.layout.editor.column":"","flex.layout.editor.row-reverse":" ","flex.layout.editor.column-reverse":" ","flex.layout.editor.nowrap":" ","flex.layout.editor.wrap":"","flex.layout.editor.wrap-reverse":" ","flex.layout.editor.flex-start":"","flex.layout.editor.flex-end":"","flex.layout.editor.center":"","flex.layout.editor.space-between":"  ","flex.layout.editor.space-around":"  ","flex.layout.editor.baseline":"","flex.layout.editor.stretch":"","flex.layout.editor.direction":"","flex.layout.editor.justify-content":" ","flex.layout.editor.align-items":" ","flex.layout.editor.align-content":" ","flex.layout.item.property.title":"  ","flex.layout.item.property.grow":" ","flex.layout.item.property.shrink":" ","flex.layout.item.property.basis":" ","flex.layout.item.property.none":"","flex.layout.item.property.auto":"","flex.layout.item.property.value":"","grid.layout.editor.template.columns":"","grid.layout.editor.column.gap":" ","grid.layout.editor.template.rows":"","grid.layout.editor.row.gap":" ","grid.box.editor.box.title":"","grid.box.editor.type":"","grid.box.editor.repeat":"","grid.box.editor.length":"","grid.box.editor.none":"","grid.box.editor.auto":"","grid.box.editor.count":"","grid.box.editor.value":"","grid.layout.item.property.title":"  ","grid.layout.item.property.column":"","grid.layout.item.property.row":"","grid.layout.item.property.start":"","grid.layout.item.property.End":"","grid.layout.item.property.none":"","grid.layout.item.property.value":"","box.model.property.title":" ","box.model.property.margin":"","box.model.property.padding":"","component.items.canvas":"","component.items.layer":"","component.items.3dlayer":"3D ","component.items.drawing":"","component.items.custom":"  ","svg.text.property.title":"SVG Text ","svg.text.property.textarea":" ","svg.text.property.size":" ","svg.text.property.weight":" ","svg.text.property.style":" ","svg.text.property.anchor":" ","svg.text.property.family":" ","svg.text.property.length.adjust":" ","svg.text.property.text.length":" ","svg.text.property.start.offset":" ","fill.picker.popup.title":" ","gradient.editor.drag.message":"     .","draw.manager.tolerance":"  ","pattern.property.title":"","pattern.info.popup.title":" ","pattern.info.popup.width":"","pattern.info.popup.height":"","pattern.info.popup.lineWidth":" ","pattern.info.popup.lineHeight":" ","pattern.info.popup.rotate":"","pattern.info.popup.blend":"","pattern.info.popup.foreColor":"","pattern.info.popup.backColor":"","stroke.dasharray.editor.add":" "}},ki={locales:Oi,get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en_US",r=Oi[n][t]||Oi.en_US[t]||t||void 0;if(le(r))return r(e);var o=r;return t===o?t.split(".").pop():(Jt(e,(function(t,e){o=o.replace(new RegExp("{".concat(t,"}"),"ig"),e)})),o)},hasKey:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US";return!(!Oi[e][t]&&!Oi.en_US[t])}},Si={dark:{left_size:250,left_max_size:400,timeline_grid_font_color:"#ececec",timeline_line_color:"red",timeline_timeview_bottom_color:"black"},light:{left_size:250,left_max_size:400,timeline_grid_font_color:"black",timeline_line_color:"#4778d4",timeline_timeview_bottom_color:"#ececec"},toon:{left_size:250,left_max_size:400,timeline_grid_font_color:"black",timeline_line_color:"#4778d4",timeline_timeview_bottom_color:"#ececec"}};function ji(t){return function(t){if(Array.isArray(t))return Pi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pi(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ri(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ei=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.items=[],this.itemKeys={}}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.items=[],this.itemKeys={}}},{key:"currentProject",value:function(t){var e=this.$editor.selection.currentProject;e&&t&&t(e)}},{key:"empty",value:function(){this.select()}},{key:"each",value:function(t){this.items.forEach((function(e,n){t&&t(e,n)}))}},{key:"refreshCache",value:function(t){var e=this;this.items=t,this.itemKeys={},this.items.forEach((function(t){e.itemKeys[t.id]=t}))}},{key:"cachedList",value:function(){return this.items.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xi(Object(n),!0).forEach((function(e){Ri(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)}))}},{key:"checked",value:function(t){return!!this.itemKeys[t]}},{key:"selectLayer",value:function(t){var e=this;this.currentProject((function(n){var r=n.getKeyframeListReturnArray().filter((function(e){return e.layerId===t}));e.refreshCache(r)}))}},{key:"toggleLayerContainer",value:function(t){this.currentProject((function(e){e.getSelectedTimeline().animations.filter((function(e){return e.id===t})).forEach((function(t){t.collapsed=!t.collapsed}))}))}},{key:"selectProperty",value:function(t,e){var n=this;this.currentProject((function(r){var o=r.getKeyframeListReturnArray().filter((function(n){return n.layerId===t&&n.property===e}));n.refreshCache(o)}))}},{key:"select",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.refreshCache(e)}},{key:"selectBySearch",value:function(t,e,n){var r=this;this.currentProject((function(o){var i=[];t.forEach((function(t){var r=[];if(t.property){var a=o.getTimelineProperty(t.layerId,t.property);r=a.keyframes.filter((function(t){return e<=t.time&&t.time<=n}))}else(a=o.getTimelineObject(t.layerId)).properties.filter((function(e){return e.property===t.property})).forEach((function(t){var o;(o=r).push.apply(o,ji(t.keyframes.filter((function(t){return e<=t.time&&t.time<=n}))))}));i.push.apply(i,ji(r))}));var a={};i.forEach((function(t){a[t.id]=t})),r.select.apply(r,ji(Object.values(a)))}))}},{key:"checkLayer",value:function(t){var e=this;return Object.keys(this.itemKeys).some((function(n){return e.itemKeys[n].layerId===t}))}},{key:"checkProperty",value:function(t,e){var n=this;return Object.keys(this.itemKeys).some((function(r){return n.itemKeys[r].layerId===t&&n.itemKeys[r].property===e}))}}])&&$i(e.prototype,n),r&&$i(e,r),t}();function _i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_i(Object(n),!0).forEach((function(e){Ti(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Di(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ii(t){return function(t){if(Array.isArray(t))return Vi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Vi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vi(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Li=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Di(this,t),this.ref=new Proxy(this,{get:function(t,e){var n=t[e];return le(n)?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(t,r)}:n||t.json[e]},set:function(t,n,r){if(!e.checkField(n,r))throw new Error("".concat(r," is invalid as ").concat(n," property value."));var o=t.json[n]!=r;return t.json[n]=r,o&&e.changed(),!0}}),n instanceof t&&(n=n.toJSON()),this.json=this.convert(Object.assign(this.getDefaultObject(),n)),this.ref}var e,n,r;return e=t,(n=[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"getIcon",value:function(){return""}},{key:"isLeaf",value:function(){return!0}},{key:"isAttribute",value:function(){return!1}},{key:"isChanged",value:function(t){return this.json.timestamp!=Number(t)}},{key:"changed",value:function(){this.json.timestamp=Date.now()}},{key:"getInnerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.json.id+t}},{key:"recover",value:function(){}},{key:"setCache",value:function(){}},{key:"is",value:function(){if(!this.json)return!1;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.indexOf(this.json.itemType)>-1}},{key:"isNot",value:function(){return!1===this.is.apply(this,arguments)}},{key:"generateListNumber",value:function(){this.layers.forEach((function(t,e){t.no=e,t.generateListNumber()}))}},{key:"convert",value:function(t){var e=this;return t.layers&&t.layers.forEach((function(t){t.parent=e.ref})),t}},{key:"checkField",value:function(t,e){return!0}},{key:"toCloneObject",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={itemType:this.json.itemType,elementType:this.json.elementType,type:this.json.type,visible:this.json.visible,lock:this.json.lock,selected:this.json.selected};return t&&(e.layers=this.json.layers.map((function(e){return e.cloneItem(t)}))),e}},{key:"cloneItem",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.constructor,n=new e(this.toCloneObject(t));return n.parent=this.json.parent,n}},{key:"reset",value:function(e){e instanceof t&&(e=e.toJSON()),this.json=this.convert(Object.assign(this.json,e)),this.changed()}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=J();return Ci({id:e,visible:!0,lock:!1,selected:!1,layers:[]},t)}},{key:"add",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"self",r={};if(t.parent&&(r=t.screenRect,t.remove()),"self"===n)t.parent=this.ref,this.json.layers.push(t);else if("before"===n){t.parent=this.parent.ref;var o=[];this.parent.layers.forEach((function(n){n===e.ref&&o.push(t),o.push(n)})),this.parent.layers=o}else"after"===n&&(t.parent=this.parent.ref,o=[],this.parent.layers.forEach((function(n){o.push(n),n===e.ref&&o.push(t)})),this.parent.layers=o);return r.left&&t.setScreenX(r.left.value),r.top&&t.setScreenY(r.top.value),t}},{key:"toggle",value:function(t,e){re(e)?this.json[t]=!this.json[t]:this.json[t]=!!e}},{key:"isTreeItemHide",value:function(){var t=this.parent,e=[];do{if(t.is("project"))break;if(t.is("artboard"))break;e.push(Boolean(t.collapsed)),t=t.parent}while(t);return Boolean(e.filter(Boolean).length)}},{key:"expectJSON",value:function(t){return"parent"!==t&&""!==this.json[t]}},{key:"toJSON",value:function(){var t=this,e=this.json,n={};return Object.keys(e).filter((function(e){return t.expectJSON(e)})).forEach((function(t){n[t]=e[t]})),n}},{key:"resize",value:function(){}},{key:"copy",value:function(){return this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=t.clone();n.x.add(e),n.y.add(e);for(var r=this.json.layers,o=-1,i=0,a=r.length;i<a;i++)if(r[i]===t){o=i;break}return o>-1&&this.json.layers.splice(o+1,0,n),n}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(t){for(var e=this.json.layers,n=-1,r=0,o=e.length;r<o;r++)if(e[r]===t){n=r;break}n>-1&&this.json.layers.splice(n,1)}},{key:"hasParent",value:function(t){var e=this.json.parent.id===t;return e||!1!==this.json.parent.is("project")?e:this.json.parent.hasParent(t)}},{key:"searchById",value:function(t){if(this.id===t)return this.ref;for(var e=0,n=this.layers.length;e<n;e++){var r=this.layers[e];if(r.id===t)return r;var o=r.searchById(t);if(o)return o}return null}},{key:"updateFunction",value:function(t){}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"depth",get:function(){return this.parent?this.parent.depth+1:1}},{key:"top",get:function(){if(!this.parent)return this.ref;var t=this.parent;do{if(!t.parent)return t;t=t.parent}while(t)}},{key:"allLayers",get:function(){return Ii(function t(e){var n=[];return e.layers.length&&e.layers.forEach((function(e){n.push.apply(n,Ii(t(e)))})),n.push(e),n}(this.ref))}}])&&Ai(e.prototype,n),r&&Ai(e,r),t}();function Mi(t){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(n),!0).forEach((function(e){Fi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xi(t,e){return(Xi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ki(t);if(e){var o=Ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ni(this,n)}}function Ni(t,e){return!e||"object"!==Mi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ki(t){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xi(t,e)}(i,t);var e,n,r,o=Yi(i);function i(){return Gi(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Bi({selected:!1,layers:[]},t)}},{key:"isAttribute",value:function(){return!0}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return ge(this.toCSS())}}])&&Hi(e.prototype,n),r&&Hi(e,r),i}(Li);function Wi(t){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Ji(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(t){return function(t){if(Array.isArray(t))return Qi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ji(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(t,e){if(t){if("string"==typeof t)return Qi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qi(t,e):void 0}}function Qi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ta(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ta(Object(n),!0).forEach((function(e){na(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function na(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ra(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ia(t,e,n){return(ia="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sa(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function aa(t,e){return(aa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ca(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sa(t);if(e){var o=sa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ua(this,n)}}function ua(t,e){return!e||"object"!==Wi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sa(t){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var la=/((matrix|translate(X|Y|Z|3d)?|scale(X|Y|Z|3d)?|rotate(X|Y|Z|3d)?|skew(X|Y)|matrix(3d)?|perspective)\(([^\)]*)\))/gi,fa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aa(t,e)}(i,t);var e,n,r,o=ca(i);function i(){return ra(this,i),o.apply(this,arguments)}return e=i,r=[{key:"join",value:function(t){var e=t.filter((function(t){return"perspective"===t.type})),n=t.filter((function(t){return"matrix3d"===t.type})),r=t.filter((function(t){return"perspective"!==t.type&&"matrix3d"!==t.type}));return[].concat(qi(e),qi(r),qi(n)).map((function(t){return new i(t).toString()})).join(" ")}},{key:"parse",value:function(t){return new i(t)}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ce(e)&&(e=[e]),i.filter(t,(function(t){return!1===e.includes(t.type)}))}},{key:"filter",value:function(t,e){return i.join(i.parseStyle(t).filter((function(t){return e(t)})))}},{key:"replace",value:function(t,e){var n=i.parseStyle(t),r=n.find((function(t){return t.type===e.type}));return r?r.value=e.value:n.push(e),i.join(n)}},{key:"replaceAll",value:function(t,e){for(var n=i.parseStyle(t),r=i.parseStyle(e),o=0,a=r.length;o<a;o++){var c=r[o],u=n.find((function(t){return t.type===c.type}));u?u.value=c.value:n.push(c)}return i.join(n)}},{key:"addTransform",value:function(t,e){for(var n=i.parseStyle(t),r=i.parseStyle(e),o=0,a=r.length;o<a;o++){var c=r[o],u=n.find((function(t){return t.type===c.type}));u?c.value.forEach((function(t,e){u.value[e].value+=t.value})):n.push(c)}return i.join(n)}},{key:"get",value:function(t,e){var n=i.parseStyle(t);return(n=le(e)?n.find(e):n.find((function(t){return t.type===e})))?n.value:[]}},{key:"rotate",value:function(t,e){return i.replace(t,{type:"rotate",value:[e]})}},{key:"parseStyle",value:function(t){var e=[];return t?((t.match(la)||[]).forEach((function(t,n){var r=Zi(t.split("("),2),o=r[0],a=r[1],c=(a=a.split(")")[0]).split(",");c=a.includes("matrix")||a.includes("scale")?c.map((function(t){return R.number(t.trim())})):c.map((function(t){return R.parse(t.trim())})),e[n]=i.parse({type:o,value:c})})),e):e}},{key:"getTransform",value:function(t,e){var n=Zi(t[0][(x1,y1)]=t[1][(x2,y2)]=t[2][(x3,y3)]=t[3][(u0,v0)]=e[0][(u1,v1)]=e[1][(u2,v2)]=e[2][(u3,v3)]=e[3],2);x0=n[0],y0=n[1];for(var r=[[x0,y0,1,0,0,0,-u0*x0,-u0*y0],[0,0,0,x0,y0,1,-v0*x0,-v0*y0],[x1,y1,1,0,0,0,-u1*x1,-u1*y1],[0,0,0,x1,y1,1,-v1*x1,-v1*y1],[x2,y2,1,0,0,0,-u2*x2,-u2*y2],[0,0,0,x2,y2,1,-v2*x2,-v2*y2],[x3,y3,1,0,0,0,-u3*x3,-u3*y3],[0,0,0,x3,y3,1,-v3*x3,-v3*y3]],o=[u0,v0,u1,v1,u2,v2,u3,v3],i=[],a=0;a<8;a++){var c=r[0];i.push(c[0]*o[0]+c[1]*o[1]+c[2]*o[2]+c[3]*o[3]+c[4]*o[4]+c[5]*o[5]+c[6]*o[6]+c[7]*o[7])}return[[i[0],i[1],0,i[2]],[i[3],i[4],0,i[5]],[0,0,1,0],[i[6],i[7],0,1]]}},{key:"makeTransform3d",value:function(t,e){var n=[],r=[];t.forEach((function(e){var r=Zi(e,2),o=r[0],i=r[1];n.push(o-t[0][0],i-t[0][1])})),e.forEach((function(e){var n=Zi(e,2),o=n[0],i=n[1];r.push(o-t[0][0],i-t[0][1])}));var o=i.getTransform(n,r),a=[];o.forEach((function(t){t.forEach((function(t){a.push(t)}))}));var c=a.join(", ");return"matrix3d(".concat(c,")")}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ia(sa(i.prototype),"getDefaultObject",this).call(this,ea({itemType:"transform",type:"",value:[]},t))}},{key:"toCloneObject",value:function(){return ea(ea({},ia(sa(i.prototype),"toCloneObject",this).call(this)),{},{value:JSON.parse(JSON.stringify(this.json.value))})}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value.join(", ")||"",")")}},{key:"convert",value:function(t){return(t=ia(sa(i.prototype),"convert",this).call(this,t)).type.includes("matrix")||t.type.includes("scale")?t.value=t.value.map((function(t){return R.number(t)})):t.value=t.value.map((function(t){return R.parse(t)})),t}},{key:"hasNumberValue",value:function(){var t=this.json.type;return t.includes("matrix")||t.includes("scale")}}])&&oa(e.prototype,n),r&&oa(e,r),i}(Ui);function pa(t){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ya(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||da(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(t){return function(t){if(Array.isArray(t))return va(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||da(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(t,e){if(t){if("string"==typeof t)return va(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?va(t,e):void 0}}function va(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ba(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ba(Object(n),!0).forEach((function(e){ga(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ga(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ka(t,e,n){return(ka="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xa(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Sa(t,e){return(Sa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ja(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xa(t);if(e){var o=xa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pa(this,n)}}function Pa(t,e){return!e||"object"!==pa(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xa(t){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sa(t,e)}(i,t);var e,n,r,o=ja(i);function i(){return wa(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"toCloneObject",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ma(ma({},ka(xa(i.prototype),"toCloneObject",this).call(this,t)),{},{x:this.json.x+"",y:this.json.y+"",width:this.json.width+"",height:this.json.height+"",screenX:this.screenX,screenY:this.screenY,screenWidth:this.screenWidth,screenHeight:this.screenHeight})}},{key:"convert",value:function(t){return(t=ka(xa(i.prototype),"convert",this).call(this,t)).x=R.parse(t.x),t.y=R.parse(t.y),t.width=R.parse(t.width),t.height=R.parse(t.height),t}},{key:"setScreenX",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-e),this.changed()}},{key:"setScreenX2",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-this.json.width.value-e+1),this.changed()}},{key:"setScreenY2",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-this.json.height.value-e+1),this.changed()}},{key:"setScreenXCenter",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenX.value),this.json.x.set(t-this.json.width.value/2-e+1),this.changed()}},{key:"setScreenYMiddle",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-this.json.height.value/2-e+1),this.changed()}},{key:"setScreenY",value:function(t){var e=0;this.isChild&&(e=this.json.parent.screenY.value),this.json.y.set(t-e),this.changed()}},{key:"checkInArea",value:function(t){return!(t.x2.value<this.screenX.value||t.y2.value<this.screenY.value||t.x.value>this.screenX2.value||t.y.value>this.screenY2.value)}},{key:"toBoundCSS",value:function(){var t=this.json,e=t.x;return{top:t.y,left:e,width:t.width,height:t.height,transform:t.transform,"transform-origin":t["transform-origin"]}}},{key:"move",value:function(t,e){return this.reset({x:t,y:e}),this}},{key:"moveX",value:function(t){return this.reset({x:t}),this}},{key:"moveY",value:function(t){return this.reset({y:t}),this}},{key:"resize",value:function(t,e){return t.value>=0&&e.value>=0&&this.reset({width:t,height:e}),this}},{key:"resizeWidth",value:function(t){return t.value>=0&&this.reset({width:t}),this}},{key:"resizeHeight",value:function(t){return t.value>=0&&this.reset({height:t}),this}},{key:"getTransform",value:function(t){var e=fa.parseStyle(er.create(t).css("transform")),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];if(!e.length)return{rotate:{x:0,y:0,z:0},translate:{x:0,y:0,z:0}};var r,o,i=(n=e[0].value.map((function(t){return+t})))[0],a=(n[1],n[2]),c=(n[3],n[4]),u=n[5],s=(n[6],n[7],n[8]),l=n[9],f=n[10],p=(n[11],n[12]),y=n[13],h=n[14],d=(n[15],Math.asin(-s));return 0!==Math.cos(d)?(r=Math.atan2(l,f),o=Math.atan2(c,i)):(r=Math.atan2(a,u),o=0),{rotate:{x:r,y:d,z:o},translate:{x:p,y:y,z:h}}}},{key:"verties",value:function(t,e){for(var n=t.offsetRect(),r=n.height,o=n.width/2,i=r/2,a={a:{x:-o,y:-i,z:0},b:{x:o,y:-i,z:0},c:{x:o,y:i,z:0},d:{x:-o,y:i,z:0}},c=this.getTransform(t.el);t.el&&(c=this.getTransform(t.el),a.a=L.addVector(L.rotateVector(a.a,c.rotate),c.translate),a.b=L.addVector(L.rotateVector(a.b,c.rotate),c.translate),a.c=L.addVector(L.rotateVector(a.c,c.rotate),c.translate),a.d=L.addVector(L.rotateVector(a.d,c.rotate),c.translate),(t=t.parent()).el!==e););return a}},{key:"checkInAreaForLayers",value:function(t){var e=[];return this.layers.forEach((function(n){e.push.apply(e,ha(n.checkInAreaForLayers(t))),n.checkInArea(t)&&e.push(n)})),e}},{key:"getIndex",value:function(){for(var t=this.json.parent.layers,e=-1,n=0,r=t.length;n<r;n++)if(t[n]===this.ref){e=n;break}return e}},{key:"setOrder",value:function(t){var e=this.json.parent,n=this.getIndex();n>-1&&(e.layers[n]=e.layers[t],e.layers[t]=this.ref)}},{key:"next",value:function(){if(this.isLast())return this.ref;var t=this.getIndex();return this.json.parent.layers[t+1]}},{key:"prev",value:function(){if(this.isFirst())return this.ref;var t=this.getIndex();return this.json.parent.layers[t-1]}},{key:"orderNext",value:function(){if(this.isLast()){if(this.json.parent.is("artboard"))return;this.json.parent.next().add(this,"prepend")}else{var t=this.getIndex();t>-1&&this.setOrder(t+1)}}},{key:"isFirst",value:function(){return 0===this.getIndex()}},{key:"isLast",value:function(){return this.getIndex()===this.json.parent.layers.length-1}},{key:"orderPrev",value:function(){if(this.isFirst()){if(this.json.parent.is("artboard"))return;this.json.parent.prev().add(this)}else{var t=this.getIndex();t>0&&this.setOrder(t-1)}}},{key:"orderFirst",value:function(){this.setOrder(0)}},{key:"orderLast",value:function(){this.setOrder(this.json.parent.layers.length-1)}},{key:"orderTop",value:function(){}},{key:"orderBottom",value:function(){}},{key:"isAbsolute",get:function(){return"absolute"===this.json.position}},{key:"isRelative",get:function(){return"relative"===this.json.position}},{key:"isChild",get:function(){return!(!this.json.parent||!1!==this.json.parent.is("project")||!this.isAbsolute)}},{key:"screenX",get:function(){return this.isChild?R.px(this.json.parent.screenX.value+this.json.x.value):this.json.x||R.z()}},{key:"screenY",get:function(){return this.isChild?R.px(this.json.parent.screenY.value+this.json.y.value):this.json.y||R.z()}},{key:"screenX2",get:function(){return R.px(this.screenX.value+this.json.width.value)}},{key:"screenY2",get:function(){return R.px(this.screenY.value+this.json.height.value)}},{key:"screenWidth",get:function(){return this.json.width}},{key:"screenHeight",get:function(){return this.json.height}},{key:"screenRect",get:function(){return{left:this.screenX,top:this.screenY,width:this.screenWidth,height:this.screenHeight}}},{key:"centerX",get:function(){var t=0;return 0!=this.json.width.value&&(t=Math.floor(this.json.width.value/2)),R.px(this.screenX.value+t)}},{key:"centerY",get:function(){var t=0;return 0!=this.json.height.value&&(t=Math.floor(this.json.height.value/2)),R.px(this.screenY.value+t)}},{key:"transformOrigin",get:function(){var t=ya((this.json["transform-origin"]||"50% 50%").split(" ").map((function(t){return R.parse(t||"50%")})),2),e=t[0],n=t[1];return{left:e=e.toPx(this.screenWidth.value),top:n=n.toPx(this.screenHeight.value)}}},{key:"screenTransform",get:function(){return fa.addTransform(this.json.parent.screenTransform,this.json.transform)}}])&&Oa(e.prototype,n),r&&Oa(e,r),i}(Li);function $a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ea(t){return function(t){if(Array.isArray(t))return _a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ca=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return R.px(t).round(e)};function Ta(t,e){var n=[];return t.layers.length&&t.layers.forEach((function(t){n.push.apply(n,Ea(Ta(t,e)))})),(e.id||e.includes(t.id))&&n.push(t),n}var Da=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.project=null,this.artboard=null,this.items=[],this.itemKeys={},this.ids=[],this.idsString="",this.colorsteps=[]}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.colorsteps=[],this.items=[],this.itemKeys={},this.ids=[],this.idsString=""}},{key:"snapshot",value:function(){var e=new t(this.$editor);e.select(this.cachedItems),this.$editor.history.add("selection","selection",{selection:e})}},{key:"getRootItem",value:function(t){var e=t||this.currentArtboard;return t&&(t.is("artboard")?e=t:t.parent&&(e=t.parent)),e}},{key:"selectColorStep",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.colorsteps=e}},{key:"isSelectedColorStep",value:function(t){return this.colorsteps.includes(t)}},{key:"selectProject",value:function(t){this.project=t,this.artboard=null,this.project.artboards.length&&this.selectArtboard(this.project.artboards[0])}},{key:"selectArtboard",value:function(t){this.artboard=t,this.items=[],this.artboard.layers.length&&this.select(this.artboard.layers[0])}},{key:"hasDifference",value:function(t){if(t.length!=this.items.length)return!0;var e=t.map((function(t){return t.id}));return e.sort(),e.join(",")!=this.idsString}},{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=(n||[]).filter((function(t){return!t.lock&&t.isAbsolute}));return!1!==this.hasDifference(o)&&(this.items=o,this.itemKeys={},this.items.forEach((function(e){t.itemKeys[e.id]=e})),this.ids=Object.keys(this.itemKeys),this.ids.sort(),this.idsString=this.ids.join(","),this.setRectCache(),!0)}},{key:"reselect",value:function(){this.setRectCache()}},{key:"check",value:function(t){return this.itemKeys[t.id]}},{key:"get",value:function(t){return this.itemKeys[t]}},{key:"isArtBoard",value:function(){return!!this.items.length&&this.current.is("artboard")}},{key:"empty",value:function(){this.select()}},{key:"itemsByIds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ie(t)?Ta(this.project,t):ce(t)||se(t)?Ta(this.project,[t]):this.items}},{key:"makeItemMap",value:function(t){var e={};return this.ids.forEach((function(n){e[n]=pe(t)})),e}},{key:"selectById",value:function(t){this.select.apply(this,Ea(Ta(this.project,t)))}},{key:"addById",value:function(t){this.itemKeys[t]||this.select.apply(this,Ea(this.items).concat(Ea(Ta(this.project,t))))}},{key:"removeById",value:function(t){this.select.apply(this,Ea(this.items.filter((function(e){return e.id!=t}))))}},{key:"toggleById",value:function(t){this.itemKeys[t]?this.removeById(t):this.addById(t)}},{key:"doCache",value:function(){this.items.forEach((function(t){t.setCache()}))}},{key:"setRectCache",value:function(){this.cachedItems=this.items.map((function(t){return t.toCloneObject()})),this.setAllRectCache()}},{key:"toCloneObject",value:function(){var t={};return this.each((function(e){t[e.id]=e.toCloneObject(!1)})),t}},{key:"cloneValue",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r={};return this.each((function(t){r[t.id]={},e.forEach((function(e){r[t.id][e]=t[e]}))})),r}},{key:"setAllRectCache",value:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;this.cachedItems.forEach((function(o){t=Math.min(o.screenX.value,t),e=Math.min(o.screenY.value,e),n=Math.max(o.screenX.value+o.screenWidth.value,n),r=Math.max(o.screenY.value+o.screenHeight.value,r)})),t===Number.MAX_SAFE_INTEGER&&(t=0),e===Number.MAX_SAFE_INTEGER&&(e=0),n===Number.MIN_SAFE_INTEGER&&(n=0),r===Number.MIN_SAFE_INTEGER&&(r=0),this.allRect={x:t,y:e,width:n-t,height:r-e}}},{key:"each",value:function(t){var e=this;le(t)&&this.items.forEach((function(n,r){t(n,e.cachedItems[r])}))}},{key:"map",value:function(t){var e=this;return le(t)?this.items.map((function(n,r){return t(n,e.cachedItems[r])})):this.items}},{key:"reset",value:function(t){this.each((function(e){return e.reset(t)}))}},{key:"resetCallback",value:function(t){this.each((function(e){return e.reset(t(e))}))}},{key:"resize",value:function(){this.each((function(t){return t.resize()}))}},{key:"remove",value:function(){this.each((function(t){return t.remove()})),this.empty()}},{key:"copy",value:function(){this.copyItems=this.items.map((function(t){return t}))}},{key:"paste",value:function(){this.select.apply(this,Ea(this.copyItems.map((function(t){return t.copy()})))),this.copy()}},{key:"isInParent",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t,r=n.parent,o=!n.is("artboard")&&e.includes(r);!o&&!re(r);)n=r,r=r.parent,o=!n.is("artboard")&&e.includes(r);return o}},{key:"move",value:function(t,e){var n=this;this.each((function(r,o){n.isInParent(r,n.items)||r.move(Ca(o.x.value+t),Ca(o.y.value+e))})),this.reselect()}},{key:"current",get:function(){return this.items[0]}},{key:"currentProject",get:function(){return this.project}},{key:"currentArtboard",get:function(){return this.artboard}},{key:"isEmpty",get:function(){return!this.length}},{key:"length",get:function(){return this.items.length}},{key:"isRelative",get:function(){return"relative"===(this.items[0]||{}).position}}])&&$a(e.prototype,n),r&&$a(e,r),t}();function Aa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Va=new(function(){function t(){Aa(this,t),this.components={}}var e,n,r;return e=t,(n=[{key:"registerComponent",value:function(t,e){this.components[t]=e}},{key:"getComponentClass",value:function(t){return this.components[t]||this.components.rect}},{key:"createComponent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getComponentClass(t);if(!n)throw new Error("".concat(t," type is not valid."));return new n(e)}}])&&Ia(e.prototype,n),r&&Ia(e,r),t}());function La(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ma={command:"setAttribute",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.selection.itemsByIds(n).forEach((function(n){Object.keys(e).forEach((function(t){var r=e[t];le(r)&&(r=r(n)),n.reset(La({},t,r))})),t.emit("refreshElement",n,r,o)}))}};function za(t){t.emit("noneSelectMenu"),t.emit("refreshAll"),t.nextTick((function(){t.emit("refreshSelectionTool")}))}function Ba(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Fa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fa(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ga(t){return function(t){if(Array.isArray(t))return Ha(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ha(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ha(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ya=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isEqual",value:function(e,n,r){return 2===arguments.length?e.x===n.x&&e.y===n.y:3===arguments.length?t.isEqual(e,n)&&t.isEqual(n,r):void 0}},{key:"isFirst",value:function(t){return t&&"M"==t.command}},{key:"DouglasPeuker",value:function(e,n,r,o){if(!(o<=r+1)){for(var i=0,a=r,c=e*e,u=n[r],s=n[o],l=r+1;l<o;l++){var f=t.segmentDistance2(n[l].x,n[l].y,u,s);f<=i||(a=l,i=f)}i>c&&(n[a].mark=!0,t.DouglasPeuker(e,n,r,a),t.DouglasPeuker(e,n,a,o))}}},{key:"simply",value:function(e,n){return e.length<=2?e:((e=pe(e))[0].mark=!0,e[e.length-1].mark=!0,t.DouglasPeuker(n,e,0,e.length-1),e.filter((function(t){return Boolean(t.mark)})))}},{key:"segmentDistance2",value:function(t,e,n,r){var o=r.x-n.x,i=r.y-n.y,a=o*o+i*i,c=t-n.x,u=e-n.y,s=o*c+i*u;if(0===a)return c*c+u*u;if(s<=0)return c*c+u*u;if(s>=a)return(c=t-r.x)*c+(u=e-r.y)*u;var l=c*i-u*o;return l*l/a}},{key:"isInLine",value:function(t,e,n){return t.x===n.x?e.x===n.x:t.y===n.y?e.y===n.y:(t.x-n.x)*(t.y-n.y)==(n.x-e.x)*(n.y-e.y)}},{key:"isLine",value:function(e){return t.isInLine(e.endPoint,e.startPoint,e,reversePoint)}},{key:"getReversePoint",value:function(t,e){var n=t.x-e.x,r=t.y-e.y;return{x:t.x+n,y:t.y+r}}},{key:"getIndexPoint",value:function(t,e){return t[e]}},{key:"getPoint",value:function(e,n){return e.filter((function(e){return t.isEqual(e.startPoint,n)}))[0]}},{key:"getIndex",value:function(e,n){for(var r=-1,o=0,i=e.length;o<i;o++){var a=e[o];if(t.isEqual(a.startPoint,n)){r=o;break}}return r}},{key:"getPointIndex",value:function(e,n){for(var r=-1,o=0,i=e.length;o<i;o++){var a=e[o];if(t.isEqual(a,n)){r=o;break}}return r}},{key:"getLastPoint",value:function(t,e){if(!t.length)return null;for(var n=-1,r=e+1,o=t.length;r<o;r++)if("M"===t[r].command){n=r-1;break}-1==n&&(n=t.length-1),t[n]&&"Z"===t[n].command&&(n-=1);var i=t[n];return i&&(i.index=n),i}},{key:"getFirstPoint",value:function(t,e){for(var n=-1,r=e-1;r>0;r--)if("M"===t[r].command){n=r;break}-1===n&&(n=0);var o=t[n];return o&&(o.index=n),o}},{key:"getPrevPoint",value:function(e,n){var r=n-1;if(r<0)return t.getLastPoint(e,n);var o=e[r];return o&&(o.index=r),o}},{key:"getNextPoint",value:function(e,n){var r=e[n],o=e[n+1];return o&&(o.index=n+1),r.connected&&(o=t.getFirstPoint(e,n)),o}},{key:"removePoint",value:function(t,e,n){if("startPoint"===n)return t.filter((function(t,n){return n!==e}))}},{key:"splitPoints",value:function(e){var n=[],r=[];return e.forEach((function(e){t.isFirst(e)?(r=[e],n.push(r)):r.push(e)})),n}},{key:"recoverPoints",value:function(t){var e=[];return t.forEach((function(t){t.forEach((function(t,e){0===e&&(t.command="M",t.originalCommand="M")})),e.push.apply(e,Ga(t))})),e.forEach((function(t,e){t.index=e})),e}}],(n=null)&&Xa(e.prototype,n),r&&Xa(e,r),t}();function Na(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Ua(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(t){return function(t){if(Array.isArray(t))return Wa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ua(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(t,e){if(t){if("string"==typeof t)return Wa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wa(t,e):void 0}}function Wa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Za(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ja=/([mMlLvVhHcCsSqQtTaAzZ]([^mMlLvVhHcCsSqQtTaAzZ]*))/g,Qa=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,tc={multiply:function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=+e[n],o=+e[n+1];return[t[0][0]*r+t[0][1]*o+t[0][2],t[1][0]*r+t[1][1]*o+t[1][2],1]}},toPercent:function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=+n[r],i=+n[r+1];return[o/t,i/e,1]}},toPixel:function(t,e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=+n[r],i=+n[r+1];return[o*t,i*e,1]}},translate:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]])},rotate:function(t){return this.multiply([[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]])},rotateCenter:function(t,e,n){return this.multiply([[Math.cos(t),-Math.sin(t),-e*Math.cos(t)+n*Math.sin(t)+e],[Math.sin(t),Math.cos(t),-e*Math.sin(t)-n*Math.cos(t)+n],[0,0,1]])},scale:function(t,e){return this.multiply([[t,0,0],[0,e,0],[0,0,1]])},skewX:function(t){return this.multiply([[1,t,0],[0,1,0],[0,0,1]])},skewY:function(t){return this.multiply([[1,0,0],[t,1,0],[0,0,1]])},reflectionOrigin:function(){return this.multiply([[-1,0,0],[0,-1,0],[0,0,1]])},flipX:function(){return this.multiply([[1,0,0],[0,-1,0],[0,0,1]])},flipY:function(){return this.multiply([[-1,0,0],[0,1,0],[0,0,1]])}},ec=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Za(this,t),this.reset(e)}var e,n,r;return e=t,(n=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.pathString=t,this.parse()}},{key:"resetSegments",value:function(t){this.segments=t||[],this.pathString=this.joinPath()}},{key:"trim",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.match(Qa)||[];return e.filter((function(t){return""!=t}))}},{key:"parse",value:function(){var t=this,e=this.pathString.match(Ja)||[];this.segments=e.map((function(e){var n=e[0];return{command:n,values:t.trim(e.replace(n,"")).map((function(t){return+t}))}})),this.segments=this.segments.map((function(e,n){switch(e.command){case"c":case"m":case"l":case"q":case"s":case"t":case"v":case"h":for(var r=t.segments[n-1],o=r.values[r.values.length-2],i=r.values[r.values.length-1],a=0,c=e.values.length;a<c;a+=2)e.values[a]+=o,e.values[a+1]+=i;return{command:e.command.toUpperCase(),values:Ka(e.values)};default:return e}}))}},{key:"convertGenerator",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e],o=this.segments[e+1],i=r.command,a=r.values;if("M"===i){var c=Na(a,2),u=c[0],s=c[1];t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:{x:u,y:s},curve:!1})}else if("L"===i)if((k=Ya.getPrevPoint(t,t.length)).curve){var l=Na(a,2);u=l[0],s=l[1],t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:pe(k.endPoint),curve:!0})}else{var f=Na(a,2);u=f[0],s=f[1],t.push({command:i,originalCommand:i,startPoint:{x:u,y:s},endPoint:{x:u,y:s},reversePoint:{x:u,y:s},curve:!1})}else if("Q"===i){var p=Na(a,4),y=p[0],h=p[1];if(u=p[2],s=p[3],(k=Ya.getPrevPoint(t,t.length)).curve){var d={x:u,y:s},v={x:u,y:s},b={x:u,y:s};t.push({command:"L",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1}),k.endPoint={x:y,y:h}}else o&&"L"===o.command?(k.curve=!0,k.endPoint={x:y,y:h},d={x:u,y:s},b={x:u,y:s},v={x:u,y:s},t.push({command:"L",originalCommand:i,curve:!1,startPoint:d,endPoint:v,reversePoint:b})):(d={x:u,y:s},b={x:y,y:h},v={x:u,y:s},t.push({command:i,originalCommand:i,curve:!0,startPoint:d,endPoint:v,reversePoint:b}))}else if("T"===i){var m=Na(a,2);if(u=m[0],s=m[1],(x=segments[e-1])&&"Q"===x.command){var g=Na(x.values,4),w=(y=g[0],h=g[1],g[2]),O=g[3];(k=Ya.getPrevPoint(t,t.length)).endPoint=Ya.getReversePoint({x:w,y:O},{x:y,y:h}),d={x:u,y:s},v={x:u,y:s},b={x:u,y:s},t.push({command:"L",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1})}}else if("C"===i){var k=Ya.getPrevPoint(t,t.length),S=Na(a,6),j=(y=S[0],h=S[1],S[2]),P=S[3];d={x:u=S[4],y:s=S[5]},b={x:j,y:P},v={x:u,y:s},t.push({command:i,originalCommand:i,curve:!0,startPoint:d,endPoint:v,reversePoint:b}),k&&(k.curve=!0,k.endPoint={x:y,y:h})}else if("S"===i){var x,R=Na(a,2);if(u=R[0],s=R[1],(x=segments[e-1])&&"C"===x.command){var $=Na(x.values,4);j=$[0],P=$[1],w=$[2],O=$[3],(k=Ya.getPrevPoint(t,t.length)).endPoint=Ya.getReversePoint(k.startPoint,k.reversePoint),d={x:u,y:s},v={x:u,y:s},b={x:j,y:P},t.push({command:"Q",originalCommand:i,startPoint:d,endPoint:v,reversePoint:b,curve:!1})}}else if("Z"===i){k=Ya.getPrevPoint(t,t.length);var E=Ya.getFirstPoint(t,t.length);Ya.isEqual(k.startPoint,E.startPoint)&&(k.connected=!0,k.endPoint=pe(E.endPoint),E.reversePoint=pe(k.reversePoint)),k.close=!0}}return t=t.filter((function(t){return!!t}))}},{key:"length",value:function(){return this.segments.length}},{key:"setSegments",value:function(t,e){this.segments[t]=e}},{key:"getSegments",value:function(t){return oe(t)?this.segments[t]:this.segments}},{key:"joinPath",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.command," ").concat(t.values.length?t.values.join(" "):"")})).join("")}},{key:"each",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return t.call(e,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var n=e.values;switch(e.command){case"M":case"L":var r=t(n,0);e.values=[r[0],r[1]];break;case"V":r=t([+n[0],0]),e.values=[r[0]];break;case"H":r=t([0,+n[0]]),e.values=[r[1]];break;case"C":case"S":case"T":case"Q":for(var o=0,i=n.length;o<i;o+=2)r=t(n,o),e.values[o]=r[0],e.values[o+1]=r[1]}return e}),e)}},{key:"clone",value:function(){return new t(this.joinPath())}},{key:"toPercent",value:function(t,e){return this._loop(tc.toPercent(t,e)),this}},{key:"toPixel",value:function(t,e){return this._loop(tc.toPixel(t,e)),this}},{key:"translate",value:function(t,e){return this._loop(tc.translate(t,e)),this}},{key:"translateTo",value:function(t,e){return this.joinPath(this._loop(tc.translate(t,e),!0))}},{key:"scale",value:function(t,e){return this._loop(tc.scale(t,e)),this}},{key:"scaleTo",value:function(t,e){return this.joinPath(this._loop(tc.scale(t,e),!0))}},{key:"rotate",value:function(t,e,n){return oe(e)&&oe(n)?this._loop(tc.rotateCenter(t,e,n)):this._loop(tc.rotate(t)),this}},{key:"rotateTo",value:function(t){return this.joinPath(this._loop(tc.rotate(t),!0))}},{key:"reflectionOrigin",value:function(t){return this._loop(tc.reflectionOrigin(t)),this}},{key:"reflectionOriginTo",value:function(t){return this.joinPath(this._loop(tc.reflectionOrigin(t),!0))}},{key:"flipX",value:function(t){return this._loop(tc.flipX(t)),this}},{key:"flipXTo",value:function(t){return this.joinPath(this._loop(tc.flipX(t),!0))}},{key:"flipY",value:function(t){return this._loop(tc.flipY(t)),this}},{key:"flipYTo",value:function(t){return this.joinPath(this._loop(tc.flipY(t),!0))}},{key:"skewX",value:function(t){return this._loop(tc.skewX(t)),this}},{key:"skewXTo",value:function(t){return this.joinPath(this._loop(tc.skewX(t),!0))}},{key:"skewY",value:function(t){return this._loop(tc.skewY(t)),this}},{key:"skewYTo",value:function(t){return this.joinPath(this._loop(tc.skewY(t),!0))}},{key:"toString",value:function(){return this.joinPath()}},{key:"d",get:function(){return this.toString()}}])&&qa(e.prototype,n),r&&qa(e,r),t}();function nc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nc(Object(n),!0).forEach((function(e){oc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ic(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ic(Object(n),!0).forEach((function(e){cc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ic(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var sc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathArray=[]}var e,n,r;return e=t,r=[{key:"makeRect",value:function(e,n,r,o){return(new t).M({x:e,y:n}).L({x:e+r,y:n}).L({x:e+r,y:n+o}).L({x:e,y:n+o}).L({x:e,y:n}).Z().d}},{key:"makeLine",value:function(e,n,r,o){return(new t).M({x:e,y:n}).L({x:r,y:o}).d}},{key:"makeCircle",value:function(e,n,r,o){var i=(new t).M({x:0,y:-1}).C({x:.552284749831,y:-1},{x:1,y:-.552284749831},{x:1,y:0}).C({x:1,y:.552284749831},{x:.552284749831,y:1},{x:0,y:1}).C({x:-.552284749831,y:1},{x:-1,y:.552284749831},{x:-1,y:0}).C({x:-1,y:-.552284749831},{x:-.552284749831,y:-1},{x:0,y:-1}).Z().d,a=new ec(i);return a.translate(1,1).scale(r/2,o/2).translate(e,n),a.toString()}},{key:"makePathByPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=new t,r=0,o=e.length;r<o;r++){var i=e[r];0===r?n.M(i):n.L(i)}return n.d}}],(n=[{key:"reset",value:function(){this.pathArray=[]}},{key:"getPointString",value:function(t){return t.map((function(t){return"".concat(t.x," ").concat(t.y)})).join(" ")}},{key:"makeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.pathArray.push("".concat(t," ").concat(this.getPointString(e))),this}},{key:"M",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("M",e)}},{key:"L",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("L",e)}},{key:"Q",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("Q",e)}},{key:"C",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.makeString("C",e)}},{key:"Z",value:function(){return this.makeString("Z")}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"object";return'<path d="'.concat(this.d,"\" class='").concat(t,"'/>")}},{key:"d",get:function(){return this.pathArray.join(" ").trim()}}])&&uc(e.prototype,n),r&&uc(e,r),t}();function lc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lc(Object(n),!0).forEach((function(e){pc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yc={command:"fileDropItems",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.emit("updateResource",e)}},hc={command:"updateImage",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e);t.emit("addImageAssetItem",{id:J(),type:e.type,name:e.name,original:o,local:i},n)},r.readAsDataURL(e)}},dc={command:"updateVideo",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e);t.emit("addVideoAssetItem",{id:J(),type:e.type,name:e.name,original:o,local:i},n)},r.readAsDataURL(e)}};function vc(t,e){var n=new Image;n.onload=function(){var r={id:t.id,local:t.local,naturalWidth:R.px(n.naturalWidth),naturalHeight:R.px(n.naturalHeight),width:R.px(n.naturalWidth),height:R.px(n.naturalHeight)};e&&e(r,n)},n.src=t.local}function bc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bc(Object(n),!0).forEach((function(e){gc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wc={command:"addImageAssetItem",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection.currentProject;r&&(r.createImage(e),t.emit("addImageAsset"),vc(e,(function(r){t.emit("addImage",mc(mc({src:e.local},r),n)),t.changeMode(qp),t.emit("afterChangeMode")})))}};function Oc(t,e){var n=document.createElement("video");n.onloadeddata=function(){var r={local:t.local,naturalWidth:R.px(n.videoWidth),naturalHeight:R.px(n.videoHeight),width:R.px(n.videoWidth),height:R.px(n.videoHeight),duration:n.duration,playTime:"0:1:".concat(n.duration),volume:n.volume,muted:n.muted,placebackRate:n.playbackRate};e&&e(r,n)},n.src=t.local}function kc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kc(Object(n),!0).forEach((function(e){jc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pc={command:"addVideoAssetItem",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.selection.currentProject;r&&(r.createVideo(e),t.emit("addVideoAsset"),Oc(e,(function(r){t.emit("addVideo",Sc(Sc({src:e.local},r),n)),t.changeMode(qp),t.emit("afterChangeMode")})))}};function xc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $c={command:"dropImageUrl",execute:function(t,e){vc({local:e},(function(e){t.emit("addImage",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xc(Object(n),!0).forEach((function(e){Rc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({src:e.local},e)),t.changeMode(qp),t.emit("afterChangeMode")}))}},Ec={command:"addSVGFilterAssetItem",execute:function(t,e){var n=t.selection.currentProject;if(n){var r=J(),o=n.createSVGFilter({id:r,filters:[]});e&&e(o,r)}}},_c={command:"updateImageAssetItem",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e),a=t.selection.currentProject;a&&(a.createImage({id:J(),type:e.type,name:e.name,original:o,local:i}),t.emit("addImageAsset"),le(n)&&n(i))},r.readAsDataURL(e)}},Cc={command:"updateVideoAssetItem",execute:function(t,e,n){var r=new FileReader;r.onload=function(r){var o=r.target.result,i=URL.createObjectURL(e),a=t.selection.currentProject;a&&(a.createVideo({id:J(),type:e.type,name:e.name,original:o,local:i}),t.emit("addVideoAsset"),le(n)&&n(i))},r.readAsDataURL(e)}};function Tc(t){return Lc(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ic(t)||Ac()}function Dc(t,e){return Lc(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Ic(t,e)||Ac()}function Ac(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ic(t,e){if(t){if("string"==typeof t)return Vc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(t,e):void 0}}function Vc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lc(t){if(Array.isArray(t))return t}function Mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parse",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.split("data:"),o=Dc(r,2),i=(o[0],o[1]),a=i.split(","),c=Tc(a),u=c[0],s=c.slice(1),l=u.split(";"),f=Dc(l,2),p=f[0],y=f[1];return s=s.join(","),{mimeType:p,local:n&&t.getLink(p,y,s)}}},{key:"getLink",value:function(t,e,n){if("base64"===e){for(var r=atob(n),o=r.length,i=new Uint8Array(o),a=0;a<o;a++)i[a]=r.charCodeAt(a);var c=new Blob([i],{type:t});return URL.createObjectURL(c)}return""}}],(n=null)&&Mc(e.prototype,n),r&&Mc(e,r),t}(),Bc={command:"updateUriList",execute:function(t,e){var n=e.data;if(n.indexOf("data:")>-1){var r=zc.parse(n,!0);switch(r.mimeType){case"image/png":case"image/gif":case"image/jpg":case"image/jpeg":t.emit("addImageAssetItem",{id:J(),type:r.mimeType,name:"",original:n,local:r.local})}}else{var o=e.data.split(".").pop(),i=e.data.split("/").pop();switch(o){case"png":case"jpg":case"gif":case"svg":t.emit("addImageAssetItem",{id:J(),type:"image/"+o,name:i,original:e.data,local:e.data})}}}};function Fc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"easylogic.json",n=document.createElement("a");n.href=t,n.download=e,n.click()}var Gc={command:"downloadJSON",execute:function(t,e){var n=JSON.stringify(t.projects);Fc("data:application/json;base64,"+window.btoa(n),e||"easylogic.json")}};function Hc(t){return function(t){if(Array.isArray(t))return Xc(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Xc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xc(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.artboard=e}var e,n,r;return e=t,(n=[{key:"generateCode",value:function(){var t=this,e=this.artboard.getSelectedTimelineLastTime(),n=this.artboard.getSelectedTimeline(),r=[],o={};return n&&(n.animations.forEach((function(e){var n,o=t.artboard.searchById(e.id),i=e.properties.map((function(t){var e=t.property;switch(e){case"x":e="left";break;case"y":e="top"}return{property:e,keyframes:t.keyframes.map((function(t){return{time:1e3*t.time,value:t.value,timing:t.timing}}))}}));(n=r).push.apply(n,Hc(o.toAnimationKeyframes(i).filter((function(t){return t.properties.length}))))})),o={duration:1e3*e,iterationCount:n.iterationCount,fps:n.fps,speed:n.speed,direction:n.direction}),r=JSON.stringify(r,null,4),o=JSON.stringify(o,null,4),"\nvar player = new anipa.Player(".concat(r,", ").concat(o,");\nplayer.play();\n")}}])&&Yc(e.prototype,n),r&&Yc(e,r),t}(),Kc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"anipa";switch(e){case"anipa":return new Nc(t).generateCode()}return""},Uc={makeProjectStyle:function(t){var e=t.toKeyframeString(),n=t.toRootVariableCSS();return"\n      :root {\n        ".concat(ge(n),"\n      }\n      /* keyframe */\n      ").concat(e,"\n    ")},makeStyle:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.is("project"))return this.makeProjectStyle(t);var r=t.generateView("[data-id='".concat(t.id,"']"),n);return"\n    ".concat(r,"\n    ")+t.layers.map((function(t){return e.makeStyle(t)})).join("")},makeSvg:function(t){var e=t.toSVGString?t.toSVGString():"";return"\n      ".concat(e?'<svg width="0" height="0">'.concat(e,"</svg>"):"","\n    ")},generate:function(t){var e=t.selection.currentProject,n=t.selection.currentArtboard,r="\n".concat(this.makeStyle(e),"\n").concat(this.makeStyle(n,"\n  left: 0px;\n  top: 0px;\n")),o="\n".concat(n.html,"\n").concat(this.makeSvg(e),"\n    "),i=Kc(n,"anipa");return{html:o=t.replaceLocalUrltoRealUrl(o),css:r=t.replaceLocalUrltoRealUrl(r),js:i=t.replaceLocalUrltoRealUrl(i)}},generateSVG:function(t,e){return t.replaceLocalUrltoRealUrl(e.generateSVG(!0))}},Wc={command:"downloadSVG",execute:function(t){var e=t.selection.current||t.$selection.currentArtboard,n=Uc.generateSVG(t,e).trim();Fc("data:image/svg+xml;base64,"+window.btoa(n),e.id)}};var Zc={command:"downloadPNG",execute:function(t){var e=t.selection.current||t.selection.currentArtboard,n=Uc.generateSVG(t,e).trim(),r="data:image/svg+xml;base64,"+window.btoa(n),o=e.id;vc({local:r},(function(t,e){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",r=er.create("canvas"),o=t.width,i=t.height;r.resize({width:o,height:i}),r.drawImage(t),e&&e(r.toDataURL(n))}(e,(function(t){Fc(t,o)}))}))}},qc={command:"load.json",execute:function(t,e){0===(e=e||t.loadResource("projects",[])).length&&(e=[{itemType:"project",layers:[{itemType:"artboard",name:"New ArtBoard",x:"300px",y:"200px",width:"375px",height:"667px","background-color":"white",layer:[]}]}]);var n=e.map((function(e){return function t(e,n){return n.layers=(n.layers||[]).map((function(n){return t(e,n)})),e.components.createComponent(n.itemType,n)}(t,e)}));if(n.forEach((function(t){t.selectTimeline()})),n.length){var r=n[0];if(t.selection.selectProject(r),r.artboards.length){var o=r.artboards[0];t.selection.selectArtboard(o),o.layers.length?t.selection.select(o.layers[0]):t.selection.select(o)}t.load(n),za(t)}else t.emit("addArtBoard")}};function Jc(t,e){var n=t.selection.currentProject;if(n){var r=n.getSelectedTimeline();e&&e(n,r)}}var Qc={command:"addTimelineProperty",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timing:"linear"};Jc(t,(function(r,o){var i;!1===ie(e)&&(e=[e]);var a=[];e.forEach((function(t){var e={layerId:t,property:n.property,value:n.value+"",timing:n.timing,editor:n.editor},o=r.addTimelineKeyframe(e);o&&a.push(o)})),(i=t.timeline).select.apply(i,a),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},tu={command:"setTimelineOffset",debounce:100,execute:function(t,e){Jc(t,(function(n,r){n.setTimelineKeyframeOffsetValue(e.layerId,e.property,e.id,e.value,e.timing,e.time),t.emit("refreshTimeline")}))}},eu={command:"addTimelineCurrentProperty",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timing:"linear"};Jc(t,(function(n,r){var o,i=[];t.selection.each((function(t){var r={layerId:t.id,property:e.property,value:t[e.property]+"",timing:e.timing,editor:e.editor},o=n.addTimelineKeyframe(r);o&&i.push(o)})),(o=t.timeline).select.apply(o,i),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},nu={command:"removeTimelineProperty",execute:function(t,e,n){Jc(t,(function(r,o){r.removeTimelineProperty(e,n),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},ru={command:"deleteTimelineKeyframe",execute:function(t){Jc(t,(function(e,n){t.timeline.each((function(t){e.deleteTimelineKeyframe(t.layerId,t.property,t.id)})),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},ou={command:"selectTimelineItem",execute:function(t,e){Jc(t,(function(n,r){n.selectTimeline(e),t.emit("refreshTimeline"),t.emit("selectTimeline")}))}},iu={command:"removeTimeline",execute:function(t,e){Jc(t,(function(n,r){n.removeTimeline(e),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},au={command:"removeAnimationItem",execute:function(t,e){Jc(t,(function(n,r){n.removeAnimation(e),t.timeline.empty(),t.emit("refreshTimeline"),t.emit("removeAnimation")}))}},cu={command:"addTimelineKeyframe",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timing:"linear"};Jc(t,(function(n,r){var o=n.searchById(e.layerId),i={layerId:e.layerId,property:e.property,time:e.time,value:o[e.property]+"",timing:e.timing,editor:e.editor},a=n.addTimelineKeyframe(i);t.timeline.select(a),t.emit("refreshTimeline"),t.emit("refreshSelectedOffset")}))}},uu={command:"copyTimelineProperty",execute:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Jc(t,(function(o,i){o.copyTimelineKeyframe(e,n,r),t.emit("refreshTimeline")}))}};function su(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return lu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fu(t,e){if(ce(e)){var n=su(e.split(":"),4),r=n[0],o=n[1],i=n[2],a=n[3];return 3600*(r=parseInt(r,10))+60*(o=parseInt(o,10))+(i=parseInt(i,10))+(a=parseInt(a,10))*(1/t)}return fe(e)?e/t:0}function pu(t,e){var n=Math.floor(e/3600),r=Math.floor(e/60%60),o=Math.floor(e%60),i=Math.round((e-Math.floor(e))*t);return i===t&&(i=0,60===(o+=1)&&60===(r+=1)&&(n+=1)),[n,r,o,i].map((function(t){return(t+"").padStart(2,"0")})).join(":")}function yu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return pu(t,fu(t,e)-fu(t,n))}function hu(t){var e={id:0,start:0,speed:t.speed||1,elapsed:t.elapsed||0,duration:t.duration||0,iterationStartCount:1,iterationCount:t.iterationCount||Number.MAX_SAFE_INTEGER,direction:t.direction||"normal",log:[],logIndex:0,tick:t.tick||function(){},startCallback:t.start||function(){},endCallback:t.end||function(){},firstCallback:t.first||function(){},lastCallback:t.last||function(){}},n=function(t){return"normal"===e.direction||"reverse"!==e.direction&&("alternate"===e.direction?e.iterationStartCount%2==1:"alternate-reverse"===e.direction?e.iterationStartCount%2==0:void 0)?t:1-t},r=function(t){var r=!1;null===e.start&&(e.start=t,r=!0);var a=t-e.start;e.elapsed+=a*e.speed,e.start=t,e.elapsed>e.duration&&(e.elapsed=e.duration);var c=n(e.elapsed/e.duration)*e.duration;r&&e.startCallback(c,e),e.log[e.logIndex++]={elapsed:c,dt:e.lastTime-c},e.lastTime=c,e.tick(c,e),e.elapsed===e.duration?i():o()},o=function(){e.id=requestAnimationFrame(r)},i=function(){e.endCallback(e.elapsed,e),e.iterationStartCount++,e.iterationStartCount>e.iterationCount?(e.lastCallback(e.elapsed,e),cancelAnimationFrame(e.id)):(e.start=null,e.elapsed=0,o())},a=function(t){e.elapsed=t,e.tick(e.elapsed,e)};return{play:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.start=null,e.iterationStartCount=1,e.log=[],e.lastTime=0,e.logIndex=0,fe(t.elapsed)&&(e.elapsed=t.elapsed),fe(t.speed)&&(e.speed=t.speed),fe(t.duration)&&(e.duration=t.duration),fe(t.iterationCount)&&(e.iterationCount=t.iterationCount||Number.MAX_SAFE_INTEGER),ce(t.direction)&&(e.direction=t.direction),le(t.tick)&&(e.tick=t.tick),le(t.start)&&(e.startCallback=t.start),le(t.end)&&(e.endCallback=t.end),le(t.first)&&(e.firstCallback=t.first),le(t.last)&&(e.lastCallback=t.last),le(t.stop)&&(e.stopCallback=t.stop),e.firstCallback(e.elapsed,e),o()},stop:function(){e.stopCallback(e.elapsed,e),cancelAnimationFrame(e.id)},tick:r,first:function(t){a(0)},last:function(t){a(e.duration)},seek:a,timer:e}}var du={command:"playTimelineItem",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal";t.selection.empty(),t.emit("refreshSelection"),t.changeMode("play"),t.emit("afterChangeMode"),Jc(t,(function(o,i){var a=o.getSelectedTimelineLastTime();t.timer?t.timer.stop():t.timer=hu({elapsed:1e3*i.currentTime,speed:e,duration:1e3*a,iterationCount:n,direction:r}),t.timer.play({duration:1e3*a,elapsed:1e3*i.currentTime,speed:e,iterationCount:n,direction:r,tick:function(e,n){o.seek(pu(i.fps,e/1e3)),t.emit("playTimeline")},last:function(e,n){t.emit("stopTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")},stop:function(e,n){o.stop(pu(i.fps,e/1e3)),t.emit("stopTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}})}))}},vu={command:"prevTimelineItem",execute:function(t){Jc(t,(function(e,n){var r=e.getSelectedTimelinePrevTime();e.setTimelineCurrentTime(pu(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},bu={command:"firstTimelineItem",execute:function(t){Jc(t,(function(e,n){var r=e.getSelectedTimelineFirstTime();e.setTimelineCurrentTime(pu(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},mu={command:"nextTimelineItem",execute:function(t){Jc(t,(function(e,n){var r=e.getSelectedTimelineNextTime();e.setTimelineCurrentTime(pu(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},gu={command:"lastTimelineItem",execute:function(t){Jc(t,(function(e,n){var r=e.getSelectedTimelineLastTime();e.setTimelineCurrentTime(pu(n.fps,r)),e.seek(),t.emit("playTimeline"),t.changeMode("SELECTION"),t.emit("afterChangeMode")}))}},wu={command:"addTimelineItem",execute:function(t,e){Jc(t,(function(n,r){e?n.addTimelineLayer(e):n.addTimeline(),t.emit("refreshTimeline"),t.emit("addTimeline")}))}},Ou={command:"drop.asset",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.color?t.emit("addBackgroundColor",e.color,n):e.gradient?t.emit("addBackgroundImageGradient",e.gradient,n):e.imageUrl&&t.emit("addBackgroundImageAsset",e.imageUrl,n),za(t)}};function ku(t){return(ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Su(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Su(Object(n),!0).forEach((function(e){Pu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Su(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ru(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $u(t,e,n){return($u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Eu(t,e){return(Eu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tu(t);if(e){var o=Tu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cu(this,n)}}function Cu(t,e){return!e||"object"!==ku(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tu(t){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Du=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eu(t,e)}(i,t);var e,n,r,o=_u(i);function i(){return xu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $u(Tu(i.prototype),"getDefaultObject",this).call(this,ju({itemType:"image-resource",type:"image"},t))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}])&&Ru(e.prototype,n),r&&Ru(e,r),i}(Ui);function Au(t){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Iu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Iu(Object(n),!0).forEach((function(e){Lu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bu(t,e,n){return(Bu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Fu(t,e){return(Fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xu(t);if(e){var o=Xu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hu(this,n)}}function Hu(t,e){return!e||"object"!==Au(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xu(t){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yu=1e10;var Nu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fu(t,e)}(i,t);var e,n,r,o=Gu(i);function i(){return Mu(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){var e=[],n=vn(t),r=n.str.split(" ").filter((function(t){return t.trim()})),o=+r[0].replace("@",""),a=n.matches[o].color;if(1===r.length)e.push(new i({color:a,unit:"%",percent:0,hasNotUnit:!0}));else if(2===r.length){var c=R.parse(r[1]),u={unit:c.unit};c.isPercent()?u.percent=c.value:c.isPx()?u.px=c.value:c.isEm()&&(u.em=c.value),e.push(new i(Vu({color:a},u)))}else if(3===r.length){var s=R.parse(r[2]),l={unit:s.unit};s.isPercent()?l.percent=s.value:s.isPx()?l.px=s.value:s.isEm()&&(l.em=s.value),e.push(new i(Vu({color:a,cut:!0},l)))}return e}},{key:"createColorStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"%",r=b(2,t),o=e/r,i=de(r).map((function(t,e){return"".concat(Mn.random()," ").concat(e*o).concat(n)})).join(",");return i}},{key:"createRepeatColorStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.px(1),n=b(2,t),r=de(n).map((function(t,n){return"".concat(Mn.random()," ").concat(R.parse(e).mul(n+1))})).join(",");return r}}],(n=[{key:"getDefaultObject",value:function(){return{id:"c"+Yu++,cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null}}},{key:"toCloneObject",value:function(){return Vu(Vu({},Bu(Xu(i.prototype),"toCloneObject",this).call(this)),{},{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return"%"==this.json.unit?"percent":this.json.unit}},{key:"add",value:function(t){var e=this.getUnit();return this.json[e]+=+t,this}},{key:"sub",value:function(t){var e=this.getUnit();return this.json[e]-=+t,this}},{key:"mul",value:function(t){var e=this.getUnit();return this.json[e]*=+t,this}},{key:"div",value:function(t){var e=this.getUnit();return this.json[e]/=+t,this}},{key:"mod",value:function(t){var e=this.getUnit();return this.json[e]%=+t,this}},{key:"toLength",value:function(t){return R.parse(this.json)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var t=this.json.cut?this.getPrevLength():"",e=this.json.color||"transparent";return"".concat(e," ").concat(t," ").concat(this.toLength())}},{key:"reset",value:function(t){Bu(Xu(i.prototype),"reset",this).call(this,t),this.parent&&this.parent.sortColorStep()}},{key:"isPx",get:function(){return"px"==this.json.unit}},{key:"isPercent",get:function(){return"%"==this.json.unit||"percent"===this.json.unit}},{key:"isEm",get:function(){return"em"==this.json.unit}}])&&zu(e.prototype,n),r&&zu(e,r),i}(Li);function Ku(t){return(Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uu(Object(n),!0).forEach((function(e){Zu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qu(t,e,n){return(Qu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rs(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ts(t,e){return(ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function es(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rs(t);if(e){var o=rs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ns(this,n)}}function ns(t,e){return!e||"object"!==Ku(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rs(t){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var os={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},is=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ts(t,e)}(i,t);var e,n,r,o=es(i);function i(){return qu(this,i),o.apply(this,arguments)}return e=i,r=[{key:"toColorString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return"";var e=t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e}));return 1===e.length&&e.push(new Nu({color:e[0].color||"transparent",percent:100})),e.map((function(t){return"".concat(t)})).join(",")}}],(n=[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qu(rs(i.prototype),"getDefaultObject",this).call(this,Wu({type:"gradient",colorsteps:[]},t))}},{key:"toCloneObject",value:function(){return Wu(Wu({},Qu(rs(i.prototype),"toCloneObject",this).call(this)),{},{colorsteps:this.json.colorsteps.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t.colorsteps=t.colorsteps.map((function(t){return new Nu(t)})),t}},{key:"calculateAngle",value:function(){var t=this.json.angle;return re(os[t])?t:os[t]||0}},{key:"addColorStep",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.json.colorsteps.push(t),e&&this.sortColorStep(),t}},{key:"insertColorStep",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(216,216,216,0)",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(216,216,216,1)",r=this.colorsteps;if(r.length){if(t<r[0].percent)return r[0].index=1,void this.addColorStep(new Nu({index:0,color:r[0].color,percent:t}));var o=r.length-1;if(r[o].percent<t){var i=r[o].color,a=r[o].index+1;this.addColorStep(new Nu({index:a,color:i,percent:t}))}else for(var c=0,u=r.length-1;c<u;c++){var s=r[c],l=r[c+1];if(s.percent<=t&&t<=l.percent)return i=Mn.mix(s.color,l.color,(t-s.percent)/(l.percent-s.percent),"rgb"),void this.addColorStep(new Nu({index:s.index+1,color:i,percent:t}))}}else this.addColorStepList([new Nu({color:e,percent:t,index:0}),new Nu({color:n,percent:100,index:100})])}},{key:"sortColorStep",value:function(){var t=this.colorsteps;t.sort((function(t,e){return t.percent>e.percent?1:t.percent<e.percent?-1:t.percent==e.percent?t.index===e.index?0:t.index>e.index?1:-1:void 0})),t.forEach((function(t,e){t.index=100*e}))}},{key:"addColorStepList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){t.addColorStep(e,!1)})),this.sortColorStep()}},{key:"getColorStep",value:function(t){return this.json.colorsteps.filter((function(e){return e.id==t}))[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"removeColorStep",value:function(t){this.json.colorsteps=this.json.colorsteps.filter((function(e){return e.id!=t}))}},{key:"getColorString",value:function(){var t=this.colorsteps;return i.toColorString(t)}},{key:"colorsteps",get:function(){return this.json.colorsteps}}])&&Ju(e.prototype,n),r&&Ju(e,r),i}(Du);function as(t){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cs(Object(n),!0).forEach((function(e){ss(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ss(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ls(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ps(t,e,n){return(ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vs(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ys(t,e){return(ys=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vs(t);if(e){var o=vs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ds(this,n)}}function ds(t,e){return!e||"object"!==as(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vs(t){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ys(t,e)}(i,t);var e,n,r,o=hs(i);function i(){return ls(this,i),o.apply(this,arguments)}return e=i,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new i({colorsteps:[new Nu({color:t,percent:0,index:0}),new Nu({color:t,percent:100,index:1})]})}}],(n=[{key:"getDefaultObject",value:function(){return ps(vs(i.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new Nu({color:"red",percent:0,index:0}),new Nu({color:"red",percent:100,index:0})]})}},{key:"toCloneObject",value:function(){return us(us({},ps(vs(i.prototype),"toCloneObject",this).call(this)),{},{static:!0})}},{key:"toString",value:function(){var t=this.json.colorsteps[0].color;return"linear-gradient(to right, ".concat(t," 0%, ").concat(t," 100%)")}},{key:"isStatic",value:function(){return!0}}])&&fs(e.prototype,n),r&&fs(e,r),i}(is);function ms(t){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gs(Object(n),!0).forEach((function(e){Os(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Os(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ks(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function js(t,e,n){return e&&Ss(t.prototype,e),n&&Ss(t,n),t}function Ps(t,e,n){return(Ps="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_s(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rs(t,e)}function Rs(t,e){return(Rs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_s(t);if(e){var o=_s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Es(this,n)}}function Es(t,e){return!e||"object"!==ms(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _s(t){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cs=["jpg","jpeg","png","gif","svg"];var Ts=function(t){xs(n,t);var e=$s(n);function n(){return ks(this,n),e.apply(this,arguments)}return js(n,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ps(_s(n.prototype),"getDefaultObject",this).call(this,ws({type:"url",url:"",datauri:""},t))}},{key:"toCloneObject",value:function(){return ws(ws({},Ps(_s(n.prototype),"toCloneObject",this).call(this)),{},{url:this.json.url,datauri:this.json.datauri})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=this.json;return"url(".concat(t.url,")")}}],[{key:"parse",value:function(t){return new n({url:t.split("(")[1].split(")")[0]})}},{key:"isImageFile",value:function(t){return Cs.includes(t)}}]),n}(Du);function Ds(t){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function As(t){return function(t){if(Array.isArray(t))return Is(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Is(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Is(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Is(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ls(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vs(Object(n),!0).forEach((function(e){Ms(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ms(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fs(t,e,n){return(Fs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ys(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Gs(t,e){return(Gs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ys(t);if(e){var o=Ys(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xs(this,n)}}function Xs(t,e){return!e||"object"!==Ds(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ys(t){return(Ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ns={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},Ks={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},Us=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gs(t,e)}(i,t);var e,n,r,o=Hs(i);function i(){return zs(this,i),o.apply(this,arguments)}return e=i,r=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new i({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var e=vn(t),n=0,r=[];return e.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,o){t.includes("@")?(t=mn(t,e.matches),r.push.apply(r,As(Nu.parse(t)))):n=re(Ks[t])?R.parse(t):R.deg(+Ks[t])})),new i({angle:n.value,colorsteps:r})}}],(n=[{key:"getDefaultObject",value:function(t){return Fs(Ys(i.prototype),"getDefaultObject",this).call(this,Ls({type:"linear-gradient",angle:0},t))}},{key:"toCloneObject",value:function(){return Ls(Ls({},Fs(Ys(i.prototype),"toCloneObject",this).call(this)),{},{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e="";return fe(e=this.json.angle||0)&&(e=Ns["".concat(e)]||e),fe(e)&&(e="".concat(e=e>360?e%360:e,"deg")),"".concat(this.json.type,"(").concat(e,", ").concat(t,")")}}])&&Bs(e.prototype,n),r&&Bs(e,r),i}(is);function Ws(t){return(Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Js(t,e,n){return(Js="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qs(t,e){return(Qs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nl(t);if(e){var o=nl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return el(this,n)}}function el(t,e){return!e||"object"!==Ws(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nl(t){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rl,ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qs(t,e)}(i,t);var e,n,r,o=tl(i);function i(){return Zs(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){var e=Us.parse(t);return new i({angle:e.angle,colorsteps:e.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return Js(nl(i.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}])&&qs(e.prototype,n),r&&qs(e,r),i}(Us);function il(t){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function al(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||ul(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cl(t){return function(t){if(Array.isArray(t))return sl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||ul(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ul(t,e){if(t){if("string"==typeof t)return sl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sl(t,e):void 0}}function sl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ll(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ll(Object(n),!0).forEach((function(e){gl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hl(t,e,n){return(hl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ml(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function dl(t,e){return(dl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ml(t);if(e){var o=ml(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bl(this,n)}}function bl(t,e){return!e||"object"!==il(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ml(t){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wl=(gl(rl={},"center",!0),gl(rl,"top",!0),gl(rl,"left",!0),gl(rl,"right",!0),gl(rl,"bottom",!0),rl),Ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dl(t,e)}(i,t);var e,n,r,o=vl(i);function i(){return pl(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){var e=vn(t),n="ellipse",r=[j.CENTER,j.CENTER],o=[];return e.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,i){if(t.includes("@"))t=mn(t,e.matches),o.push.apply(o,cl(Nu.parse(t)));else{if(t.includes("at")){var a=al(t.split("at").map((function(t){return t.trim()})),2);n=a[0],r=a[1]}else n=t;if(ce(r)){var c=r.split(" ");if(1===c.length){var u=R.parse(c[0]);r=u.isString()?[u.value,u.value]:[u.clone(),u.clone()]}else 2===c.length&&(r=c.map((function(t){var e=R.parse(t);return e.isString()?e.value:e.clone()})))}}})),new i({radialType:n,radialPosition:r,colorsteps:o})}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hl(ml(i.prototype),"getDefaultObject",this).call(this,fl({type:"radial-gradient",radialType:"ellipse",radialPosition:[j.CENTER,j.CENTER]},t))}},{key:"toCloneObject",value:function(){return fl(fl({},hl(ml(i.prototype),"toCloneObject",this).call(this)),{},{radialType:this.json.radialType,radialPosition:pe(this.json.radialPosition)})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t,e=this.getColorString(),n=this.json,r=n.radialType,o=n.radialPosition||["center","center"];return t=(o=wl[o]?o:o.join(" "))?"".concat(r," at ").concat(o):r,"".concat(n.type||"radial-gradient","(").concat(t,", ").concat(e,")")}}])&&yl(e.prototype,n),r&&yl(e,r),i}(is);function kl(t){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pl(t,e,n){return(Pl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=El(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xl(t,e){return(xl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=El(t);if(e){var o=El(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $l(this,n)}}function $l(t,e){return!e||"object"!==kl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function El(t){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _l,Cl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xl(t,e)}(i,t);var e,n,r,o=Rl(i);function i(){return Sl(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){var e=Ol.parse(t);return new i({radialType:e.radialType,radialPosition:e.radialPosition,colorsteps:e.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return Pl(El(i.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}])&&jl(e.prototype,n),r&&jl(e,r),i}(Ol);function Tl(t){return(Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Il(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(t){return function(t){if(Array.isArray(t))return Vl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Il(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(t,e){if(t){if("string"==typeof t)return Vl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vl(t,e):void 0}}function Vl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ll(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ll(Object(n),!0).forEach((function(e){Nl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fl(t,e,n){return(Fl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Gl(t,e){return(Gl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yl(t);if(e){var o=Yl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xl(this,n)}}function Xl(t,e){return!e||"object"!==Tl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yl(t){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kl=(Nl(_l={},"center",!0),Nl(_l,"top",!0),Nl(_l,"left",!0),Nl(_l,"right",!0),Nl(_l,"bottom",!0),_l),Ul={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},Wl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gl(t,e)}(i,t);var e,n,r,o=Hl(i);function i(){return zl(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){var e=vn(t),n="0deg",r=[j.CENTER,j.CENTER],o=[];return e.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,i){if(t.includes("@"))t=mn(t=t.split(" ").map((function(t){return t.trim()})).map((function(t){return t.includes("deg")?R.parse(t).toPercent():t})).join(" "),e.matches),o.push.apply(o,Al(Nu.parse(t)));else{if(t.includes("at")){var a=Dl(t.split("at").map((function(t){return t.trim()})),2);n=a[0],r=a[1]}else n=t;if(ce(r)){var c=r.split(" ");if(1===c.length){var u=R.parse(c[0]);r=u.isString()?[u.value,u.value]:[u.clone(),u.clone()]}else 2===c.length&&(r=c.map((function(t){var e=R.parse(t);return e.isString()?e.value:e})))}ce(n)&&n.includes("from")&&(n=n.split("from")[1],n=re(Ul[n])?R.parse(n):R.deg(+Ul[n]))}})),new i({angle:n.value,radialPosition:r,colorsteps:o})}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fl(Yl(i.prototype),"getDefaultObject",this).call(this,Ml({type:"conic-gradient",angle:0,radialPosition:[j.CENTER,j.CENTER]},t))}},{key:"toCloneObject",value:function(){return Ml(Ml({},Fl(Yl(i.prototype),"toCloneObject",this).call(this)),{},{angle:this.json.angle,radialPosition:pe(this.json.radialPosition)})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(0===this.colorsteps.length)return"";var t=this.colorsteps;return t?(t.sort((function(t,e){return t.percent==e.percent?0:t.percent>e.percent?1:-1})),t.map((function(e,n){return e.prevColorStep=e.cut&&n>0?t[n-1]:null,e})).map((function(t){var e=Math.floor(3.6*t.percent),n="";if(t.cut&&t.prevColorStep){var r=Math.floor(3.6*t.prevColorStep.percent);n="".concat(r,"deg")}return"".concat(t.color," ").concat(n," ").concat(e,"deg")})).join(",")):""}},{key:"toString",value:function(){var t=this.getColorString(),e=[],n=this.json,r=n.angle,o=n.radialPosition||j.CENTER;o=Kl[o]?o:o.join(" "),oe(r)&&(r=+(Ul[r]||r),e.push("from ".concat(r,"deg"))),o&&e.push("at ".concat(o));var i=e.length?e.join(" ")+",":"";return"".concat(n.type,"(").concat(i," ").concat(t,")")}}])&&Bl(e.prototype,n),r&&Bl(e,r),i}(is);function Zl(t){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ql(t,e,n){return(Ql="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tf(t,e){return(tf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ef(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rf(t);if(e){var o=rf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nf(this,n)}}function nf(t,e){return!e||"object"!==Zl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rf(t){return(rf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tf(t,e)}(i,t);var e,n,r,o=ef(i);function i(){return ql(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){var e=Wl.parse(t);return new i({angle:e.angle,radialPosition:e.radialPosition,colorsteps:e.colorsteps})}}],(n=[{key:"getDefaultObject",value:function(){return Ql(rf(i.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[j.CENTER,j.CENTER]})}}])&&Jl(e.prototype,n),r&&Jl(e,r),i}(Wl);function af(t){return(af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return uf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sf(Object(n),!0).forEach((function(e){ff(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ff(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hf(t,e,n){return(hf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function df(t,e){return(df=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mf(t);if(e){var o=mf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bf(this,n)}}function bf(t,e){return!e||"object"!==af(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mf(t){return(mf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gf=["repeat","no-repeat","repeat-x","repeat-y","round","space"],wf=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,Of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&df(t,e)}(i,t);var e,n,r,o=vf(i);function i(){return pf(this,i),o.apply(this,arguments)}return e=i,r=[{key:"createImage",value:function(t){return new Ts({url:t})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps||e.colorsteps,r=t.angle||e.angle,o=t.radialType||e.radialType,i=t.radialPosition||e.radialPosition,a=e.toJSON();switch(delete a.itemType,delete a.type,t.type){case"static-gradient":return new bs(lf(lf({},a),{},{colorsteps:n}));case"linear-gradient":return new Us(lf(lf({},a),{},{colorsteps:n,angle:r}));case"repeating-linear-gradient":return new ol(lf(lf({},a),{},{colorsteps:n,angle:r}));case"radial-gradient":return new Ol(lf(lf({},a),{},{colorsteps:n,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new Cl(lf(lf({},a),{},{colorsteps:n,radialType:o,radialPosition:i}));case"conic-gradient":return new Wl(lf(lf({},a),{},{colorsteps:n,angle:r,radialPosition:i}));case"repeating-conic-gradient":return new of(lf(lf({},a),{},{colorsteps:n,angle:r,radialPosition:i}))}return new is}},{key:"parse",value:function(t){return new i(t)}},{key:"parseImage",value:function(t){var e=vn(t),n=null,r=e.str.match(wf);return r?(r.forEach((function(t,r){(t=mn(t,e.matches)).includes("repeating-linear-gradient")?n=ol.parse(t):t.includes("linear-gradient")?n=Us.parse(t):t.includes("repeating-radial-gradient")?n=Cl.parse(t):t.includes("radial-gradient")?n=Ol.parse(t):t.includes("repeating-conic-gradient")?n=of.parse(t):t.includes("conic-gradient")?n=Wl.parse(t):t.includes("url")&&(n=Ts.parse(t))})),n):n}},{key:"changeImageType",value:function(t){switch(t.type){case"static-gradient":return new bs(t);case"linear-gradient":return new Us(t);case"repeating-linear-gradient":return new ol(t);case"radial-gradient":return new Ol(t);case"repeating-radial-gradient":return new Cl(t);case"conic-gradient":return new Wl(t);case"repeating-conic-gradient":return new of(t);case"image-resource":case"url":return new Ts(t)}}},{key:"parseStyle",value:function(t){var e=[];if(t["background-image"]){var n=vn(t["background-image"]);n.str.match(wf).forEach((function(t,r){var o=null;(t=mn(t,n.matches)).includes("repeating-linear-gradient")?o=ol.parse(t):t.includes("linear-gradient")?o=Us.parse(t):t.includes("repeating-radial-gradient")?o=Cl.parse(t):t.includes("radial-gradient")?o=Ol.parse(t):t.includes("repeating-conic-gradient")?o=of.parse(t):t.includes("conic-gradient")?o=Wl.parse(t):t.includes("url")&&(o=Ts.parse(t)),e[r]=new i({type:o.type,image:o})}))}return t["background-repeat"]&&t["background-repeat"].split(",").map((function(t){return t.trim()})).forEach((function(t,n){e[n]&&(e[n].repeat=t)})),t["background-blend-mode"]&&t["background-blend-mode"].split(",").map((function(t){return t.trim()})).forEach((function(t,n){e[n]&&(e[n].blendMode=t)})),t["background-size"]&&t["background-size"].split(",").map((function(t){return t.trim()})).forEach((function(t,n){if(e[n])if("cover"==t||"contain"===t||"auto"===t)e[n].size=t;else{e[n].size="auto";var r=cf(t.split(" "),2),o=r[0],i=r[1];e[n].width=R.parse(o),e[n].height=R.parse(i)}})),t["background-position"]&&t["background-position"].split(",").map((function(t){return t.trim()})).forEach((function(t,n){if(e[n]){var r=cf(t.split(" "),2),o=r[0],i=r[1];e[n].x=R.parse(o),e[n].y=R.parse(i)}})),e}},{key:"toPropertyCSS",value:function(t){var e={};return t.forEach((function(t){Jt(t.toCSS(),(function(t,n){e[t]||(e[t]=[]),e[t].push(n)}))})),he(e)}},{key:"join",value:function(t){return ge(i.toPropertyCSS(t.map((function(t){return i.parse(t)}))))}},{key:"joinCSS",value:function(t){return i.toPropertyCSS(t.map((function(t){return i.parse(t)})))}}],(n=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:i.createImage(t.images[0])})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:i.createGradient(t,this.json.image)})}},{key:"getDefaultObject",value:function(){return hf(mf(i.prototype),"getDefaultObject",this).call(this,{itemType:"background-image",checked:!1,blendMode:"normal",size:"auto",repeat:"repeat",width:R.percent(100),height:R.percent(100),x:R.percent(0),y:R.percent(0),image:new bs})}},{key:"toCloneObject",value:function(){var t=this.json;return lf(lf({},hf(mf(i.prototype),"toCloneObject",this).call(this)),{},{checked:t.checked,blendMode:t.blendMode,size:t.size,repeat:t.repeat,width:t.width+"",height:t.height+"",x:t.x+"",y:t.y+"",image:t.image.clone()})}},{key:"convert",value:function(t){return t.x=R.parse(t.x),t.y=R.parse(t.y),t.width&&(t.width=R.parse(t.width)),t.height&&(t.height=R.parse(t.height)),ce(t.image)&&(t.image=i.parseImage(t.image)),t}},{key:"checkField",value:function(t,e){return"repeat"===t?gf.includes(e):hf(mf(i.prototype),"checkField",this).call(this,t,e)}},{key:"toBackgroundImageCSS",value:function(){return this.json.image?{"background-image":this.json.image.toString()}:{}}},{key:"toBackgroundPositionCSS",value:function(){var t=this.json;return{"background-position":"".concat(t.x," ").concat(t.y)}}},{key:"toBackgroundSizeCSS",value:function(){var t=this.json,e="auto";return"contain"==t.size||"cover"==t.size?e=t.size:t.width.isPercent()&&t.width.isPercent()&&100==+t.width&&100==+t.height||(e="".concat(t.width," ").concat(t.height)),{"background-size":e}}},{key:"toBackgroundRepeatCSS",value:function(){return{"background-repeat":this.json.repeat}}},{key:"toBackgroundBlendCSS",value:function(){return{"background-blend-mode":this.json.blendMode}}},{key:"toCSS",value:function(){return lf(lf(lf(lf(lf({},this.toBackgroundImageCSS()),this.toBackgroundPositionCSS()),this.toBackgroundSizeCSS()),this.toBackgroundRepeatCSS()),this.toBackgroundBlendCSS())}},{key:"toString",value:function(){return Qt(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}},{key:"toBackgroundCSS",value:function(){var t=this.toCSS();return{background:"".concat(t["background-image"]," ")}}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&yf(e.prototype,n),r&&yf(e,r),i}(Ui),kf={command:"addBackgroundImageGradient",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){var n=Of.parseStyle(we(t["background-image"]));n.unshift(new Of({image:Of.parseImage(e)})),o[t.id]={"background-image":Of.join(n)}})),t.emit("history.setAttributeForMulti",o)}},Sf={command:"addBackgroundImageAsset",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){var n=Of.parseStyle(we(t["background-image"]));n.unshift(new Of({image:new Ts({url:e})})),o[t.id]={"background-image":Of.join(n)}})),t.emit("history.setAttributeForMulti",o)}},jf={command:"item.move.left",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.selection.move(-1*n,0),za(t)}},Pf={command:"item.move.right",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.selection.move(n,0),za(t)}},xf={command:"item.move.up",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.selection.move(0,-1*n),za(t)}},Rf={command:"item.move.down",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.selection.move(0,n),za(t)}},$f={command:"change.mode.view",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CanvasView";t.changeModeView(e)}},Ef={command:"segment.move.down",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.emit("moveSegment",0,n)}},_f={command:"segment.move.up",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dy:1},n=+e.dy;t.emit("moveSegment",0,-1*n)}},Cf={command:"segment.move.right",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.emit("moveSegment",n,0)}},Tf={command:"segment.move.left",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dx:1},n=+e.dx;t.emit("moveSegment",-1*n,0)}},Df={command:"toggle.fullscreen",execute:function(t,e){er.body().fullscreen()}};function Af(t){return(Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function If(t){return function(t){if(Array.isArray(t))return Mf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Lf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Lf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lf(t,e){if(t){if("string"==typeof t)return Mf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mf(t,e):void 0}}function Mf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zf(Object(n),!0).forEach((function(e){Ff(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ff(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xf(t,e,n){return e&&Hf(t.prototype,e),n&&Hf(t,n),t}function Yf(t,e,n){return(Yf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Nf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kf(t,e)}function Kf(t,e){return(Kf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Uf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zf(t);if(e){var o=Zf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wf(this,n)}}function Wf(t,e){return!e||"object"!==Af(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zf(t){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qf=/((check|grid|dot|cross\-dot|diagonal\-line|vertical\-line|horizontal\-line|)\(([^\)]*)\))/gi,Jf=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,Bf({itemType:"pattern"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(t){var e=cp[t.type];if(e)return new e(t)}},{key:"parseStyle",value:function(t){var e=[];if(!t)return e;var r=vn(t);return(r.str.match(qf)||[]).forEach((function(t,o){var i=Vf(t.split("("),2),a=i[0],c=i[1],u=Vf((c=c.split(")")[0]).split(",").map((function(t){return t.trim()})),6),s=u[0],l=u[1],f=u[2],p=u[3],y=u[4],h=u[5],d=Vf(s.split(" "),2),v=d[0],b=d[1],m=Vf(l.split(" "),2),g=m[0],w=m[1],O=Vf((h||"").split(" "),2),k=O[0],S=O[1];e[o]=n.parse({type:a,x:R.parse(g),y:R.parse(w),width:R.parse(v),height:R.parse(b),foreColor:mn(f,r.matches),backColor:mn(p,r.matches),blendMode:y||"normal",lineWidth:R.parse(k||"1px"),lineHeight:R.parse(S||"1px")})})),e}},{key:"join",value:function(t){return t.map((function(t){return n.parse(t)})).join(" ")}},{key:"toCSS",value:function(t){var e=[];return n.parseStyle(t).forEach((function(t){e.push.apply(e,If(Of.parseStyle(we(t.toCSS()))))})),Of.joinCSS(e)}}]),n}(Ui),Qf=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,{type:"base",x:R.z(),y:R.z(),width:R.px(20),height:R.px(20),lineWidth:R.px(1),lineHeight:R.px(1),foreColor:"black",backColor:"white",blendMode:"normal"})}},{key:"convert",value:function(t){return(t=Yf(Zf(n.prototype),"convert",this).call(this,t)).width=R.parse(t.width),t.height=R.parse(t.height),t.lineWidth=R.parse(t.lineWidth),t.lineHeight=R.parse(t.lineHeight),t.x=R.parse(t.x),t.y=R.parse(t.y),t}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.width,r=t.height,o=t.x,i=t.y,a=t.foreColor,c=t.backColor,u=t.blendMode,s=t.lineWidth,l=t.lineHeight;return"".concat(e,"(").concat(n," ").concat(r,", ").concat(o," ").concat(i,", ").concat(a,", ").concat(c,", ").concat(u,", ").concat(s," ").concat(l,")")}}]),n}(Jf),tp=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,{type:"check"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent","\n      background-image: repeating-linear-gradient(45deg, ".concat(a=a||"black"," 25%, ").concat(i," 25%, ").concat(i," 75%, ").concat(a," 75%, ").concat(a," 100%),repeating-linear-gradient(45deg, ").concat(a," 25%, ").concat(i," 25%, ").concat(i," 75%, ").concat(a," 75%, ").concat(a," 100%);\n      background-position: 0px 0px, ").concat(r," ").concat(o,";\n      background-size: ").concat(e," ").concat(n,", ").concat(e," ").concat(n,";\n      background-blend-mode: ").concat(c,", ").concat(c,";\n    ")}}]),n}(Qf),ep=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,{type:"grid"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.lineWidth,o=t.lineHeight,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent","\n      background-image: linear-gradient(".concat(a=a||"black"," ").concat(o,", ").concat(i," ").concat(o,"),linear-gradient(to right, ").concat(a," ").concat(r,", ").concat(i," ").concat(r,");\n      background-size: ").concat(e.value/2,"px ").concat(n.value/2,"px, ").concat(e.value/2,"px ").concat(n.value/2,"px;      \n      background-blend-mode: ").concat(c,", ").concat(c,";      \n    ")}}]),n}(Qf),np=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,{type:"dot"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.lineWidth,o=(t.lineHeight,t.backColor),i=t.foreColor,a=t.blendMode;return o=o||"transparent","\n      background-image: radial-gradient(".concat(i=i||"black"," ").concat(r,", ").concat(o," ").concat(r,");\n      background-size: ").concat(e.value/2,"px ").concat(n.value/2,"px;          \n      background-blend-mode: ").concat(a,";      \n    ")}}]),n}(Qf),rp=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,{type:"cross-dot"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=(t.lineHeight,t.backColor),c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: radial-gradient(".concat(c=c||"black"," ").concat(i,", ").concat(a," ").concat(i,"),radial-gradient(").concat(c," ").concat(i,", ").concat(a," ").concat(i,");\n      background-size: ").concat(e," ").concat(n,",").concat(e," ").concat(n,";\n      background-position: 0px 0px, ").concat(r," ").concat(o,";      \n      background-blend-mode: multiply, ").concat(u,";\n    ")}}]),n}(Qf),op=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,{type:"diagonal-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.lineWidth,i=t.backColor,a=t.foreColor,c=t.blendMode;return i=i||"transparent",a=a||"black","\n      background-image: repeating-linear-gradient(".concat(r,", ").concat(a," 0, ").concat(a," ").concat(o,", ").concat(i," 0, ").concat(i," 50%);\n      background-size: ").concat(e," ").concat(n,";      \n      background-blend-mode: ").concat(c,";\n    ")}}]),n}(Qf),ip=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,{type:"vertical-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=t.backColor,c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: repeating-linear-gradient(to right, ".concat(c=c||"black"," 0px, ").concat(c," ").concat(i,", ").concat(a," ").concat(i,", ").concat(a," 100%);\n      background-size: ").concat(e," ").concat(n,"; \n      background-position: ").concat(r," ").concat(o,";        \n      background-blend-mode: ").concat(u,";\n    ")}}]),n}(Qf),ap=function(t){Nf(n,t);var e=Uf(n);function n(){return Gf(this,n),e.apply(this,arguments)}return Xf(n,[{key:"getDefaultObject",value:function(){return Yf(Zf(n.prototype),"getDefaultObject",this).call(this,{type:"horizontal-line"})}},{key:"toCSS",value:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y,i=t.lineWidth,a=t.backColor,c=t.foreColor,u=t.blendMode;return a=a||"transparent","\n      background-image: repeating-linear-gradient(0deg, ".concat(c=c||"black"," 0px, ").concat(c," ").concat(i,", ").concat(a," ").concat(i,", ").concat(a," 100%);    \n      background-position: ").concat(r," ").concat(o,";\n      background-size: ").concat(e," ").concat(n,";   \n      background-blend-mode: ").concat(u,";\n    ")}}]),n}(Qf),cp={check:tp,grid:ep,dot:np,"cross-dot":rp,"diagonal-line":op,"vertical-line":ip,"horizontal-line":ap},up={CheckPattern:tp,GridPattern:ep,DotPattern:np,CrossDotPattern:rp,DiagonalLinePattern:op,VerticalLinePattern:ip,HorizontalLinePattern:ap};function sp(t){return function(t){if(Array.isArray(t))return lp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fp={command:"addBackgroundImagePattern",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){o[t.id]={pattern:Jf.join([].concat(sp(Jf.parseStyle(e)),sp(Jf.parseStyle(t.pattern))))}})),t.emit("history.setAttributeForMulti",o)}},pp={command:"addBackgroundColor",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.itemsByIds(n),o={};r.forEach((function(t){o[t.id]={"background-color":e}})),t.emit("history.setAttributeForMulti",o)}};function yp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var hp=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getContainer",value:function(t){return 1===t.selection.items.length?t.selection.currentArtboard:t.selection.allRect}}],(n=null)&&yp(e.prototype,n),r&&yp(e,r),t}(),dp={command:"sort.bottom",execute:function(t){var e=hp.getContainer(t).screenY2.value;t.selection.each((function(t){t.setScreenY2(e)})),t.emit("resetSelection")}},vp={command:"sort.top",execute:function(t){var e=hp.getContainer(t).screenY.value;t.selection.each((function(t){t.setScreenY(e)})),t.emit("resetSelection")}},bp={command:"sort.right",execute:function(t){var e=hp.getContainer(t).screenX2.value;t.selection.each((function(t){t.setScreenX2(e)})),t.emit("resetSelection")}};function mp(t){return function(t){if(Array.isArray(t))return gp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return gp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wp(t){return function(t){if(Array.isArray(t))return Op(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Op(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Op(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Op(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kp;function Sp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jp(t){return function(t){if(Array.isArray(t))return Pp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xp(t){return function(t){if(Array.isArray(t))return Rp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Rp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rp(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ep=($p(kp={historyAddLayer:{command:"history.addLayer",description:"add layer in history ",execute:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];t.emit("addLayer",n,o,i),t.nextTick((function(){t.history.add(e,r,{currentValues:[n,{},i,n.parent],undoValues:[n.id]})})),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["addLayer"].concat(xp(n))),t.nextTick((function(){t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues;t.selection.itemsByIds(n).forEach((function(t){t&&t.remove()})),t.nextTick((function(){t.emit("refreshAll")}))}},historySetAttribute:{command:"history.setAttribute",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t.emit("setAttribute",n,r,o,i),t.history.add(e,this,{currentValues:[n,r,o,i],undoValues:t.history.getUndoValues(n)}),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["setAttribute"].concat(wp(n))),t.nextTick((function(){t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues,r=Object.keys(n);t.selection.itemsByIds(r).forEach((function(t){t.reset(n[t.id])})),t.nextTick((function(){t.emit("refreshAll")}))}},historySetAttributeForMulti:{command:"history.setAttributeForMulti",execute:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.emit("setAttributeForMulti",n,r,o),t.history.add(e,this,{currentValues:[n,r,o],undoValues:t.history.getUndoValuesForMulti(n)}),t.nextTick((function(){t.history.saveSelection()}))},redo:function(t,e){var n=e.currentValues;t.emit.apply(t,["setAttributeForMulti"].concat(jp(n))),t.nextTick((function(){t.selection.reselect(),t.emit("refreshAll")}))},undo:function(t,e){var n=e.undoValues,r=Object.keys(n);t.selection.itemsByIds(r).forEach((function(t){t.reset(n[t.id])})),t.selection.reselect(),t.nextTick((function(){t.emit("refreshAll")}))}},historyRefreshSelection:{command:"history.refreshSelection",description:"save selection in history ",execute:function(t){var e=t.selection.ids,n=t.history.selectedIds;Pe(e,n)||(t.history.add("selection",this,{currentValues:e,undoValues:n}),this.nextAction(t))},nextAction:function(t){t.nextTick((function(){t.history.saveSelection(),t.emit("refreshSelection"),t.nextTick((function(){t.emit("refreshSelectionTool")}))}))},redo:function(t,e){var n=e.currentValues;t.selection.selectById(n),this.nextAction(t)},undo:function(t,e){var n=e.undoValues;t.selection.selectById(n),this.nextAction(t)}},historyRedo:{command:"history.redo",execute:function(t){t.history.redo()}},historyUndo:{command:"history.undo",execute:function(t){t.history.undo()}},groupItem:{command:"group.item",execute:function(t){if(0!==t.selection.length){var e=t.selection.currentArtboard;if(e){e.generateListNumber();var n=t.selection.map((function(t){return{depth:t.depth,item:t}}));n.sort((function(t,e){return t.depth===e.depth?t.no>e.no?-1:1:t.depth>e.depth?1:-1}));var r=t.selection.allRect,o=t.components.createComponent("rect",{x:r.x,y:r.y,width:r.width,height:r.height});n[0].item.add(o,"after"),r.x&&o.setScreenX(r.x.value),r.y&&o.setScreenY(r.y.value),n.forEach((function(t){var e=t.item;o.add(e)})),t.selection.select(o),t.emit("refreshArtboard")}}}},ungroupItem:{command:"ungroup.item",execute:function(t){if(0!==t.selection.length){var e=t.selection.current;if(e){for(var n=e;;){if(n.is("artboard")){n=void 0;break}if(n.isGroup)break;n=n.parent}var r=n;mp(n.layers).forEach((function(t){r.add(t,"after"),r=t})),n.remove(),t.selection.empty(),t.emit("refreshArtboard")}}}},setEditorLayout:{command:"setEditorLayout",execute:function(t,e){t.setLayout(e),t.emit("changedEditorlayout")}},refreshSelection:{command:"refreshSelection",execute:function(t){}},refreshArtboard:function(t){t.emit("refreshLayerTreeView"),t.emit("refreshAllCanvas"),t.emit("refreshStyleView"),t.emit("refreshAllElementBoundSize"),t.emit("refreshSelection"),t.nextTick((function(){t.emit("refreshSelectionTool")}))},resetSelection:function(t){t.emit("setAttribute"),t.nextTick((function(){t.emit("refreshSelectionTool")}))},addBackgroundColor:pp,addBackgroundImagePattern:fp,toggleFullscreen:Df,segmentDelete:{command:"segment.delete",execute:function(t,e){t.emit("deleteSegment")}},segmentMoveDown:Ef,segmentMoveUp:_f,segmentMoveRight:Cf,segmentMoveLeft:Tf,changeModeView:$f,itemDelete:{command:"item.delete",execute:function(t){t.selection.remove(),t.emit("refreshArtboard")}},itemMoveRight:Pf,itemMoveUp:xf,itemMoveDown:Rf,itemMoveLeft:jf,itemMoveDepthDown:{command:"item.move.depth.down",execute:function(t){var e=t.selection.current;e&&e.orderPrev(),za(t)}},itemMoveDepthUp:{command:"item.move.depth.up",execute:function(t){var e=t.selection.current;e&&e.orderNext(),za(t)}},keymapKeydown:{command:"keymap.keydown",execute:function(t,e){t.shortcuts.execute(e,"keydown")}},keymapKeyup:{command:"keymap.keyup",execute:function(t,e){t.shortcuts.execute(e,"keyup")}},scaleMinus:{command:"scale.minus",execute:function(t){t.emit("changeScaleValue",t.scale-.25)}},scalePlus:{command:"scale.plus",execute:function(t){t.emit("changeScaleValue",t.scale+.25)}},dropAsset:Ou,addBackgroundImageAsset:Sf,addBackgroundImageGradient:kf,addTimelineItem:wu,pauseTimelineItem:{command:"pauseTimelineItem",execute:function(t){t.timer&&t.timer.stop()}},lastTimelineItem:gu,nextTimelineItem:mu,firstTimelineItem:bu,prevTimelineItem:vu,playTimelineItem:du,copyTimelineProperty:uu,addTimelineKeyframe:cu,removeAnimationItem:au,removeTimeline:iu,selectTimelineItem:ou,deleteTimelineKeyframe:ru,removeTimelineProperty:nu,addTimelineCurrentProperty:eu,setTimelineOffset:tu,refreshSelectedOffset:{command:"refreshSelectedOffset",execute:function(t){var e=t.timeline.items[0];e&&t.emit("refreshOffsetValue",e)}},addTimelineProperty:Qc,setLocale:{command:"setLocale",execute:function(t,e){t.setLocale(e),t.emit("changed.locale")}},loadJSON:qc,saveJSON:{command:"saveJSON",execute:function(t){t.saveResource("projects",t.projects),t.emit("notify","alert","Save","Save the content on localStorage",5e3)}},downloadPNG:Zc,downloadSVG:Wc,downloadJSON:Gc,updateUriList:Bc,updateImageAssetItem:_c,updateVideoAssetItem:Cc,addSVGFilterAssetItem:Ec,dropImageUrl:$c,addImageAssetItem:wc,addVideoAssetItem:Pc,updateImage:hc,updateVideo:dc,updateResource:{command:"updateResource",execute:function(t,e){e.forEach((function(e){switch(e.type){case"image/svg+xml":case"image/png":case"image/gif":case"image/jpg":case"image/jpeg":t.emit("updateImage",e);break;case"text/plain":case"text/html":t.emit("addText",{content:e.data});break;case"text/uri-list":t.emit("updateUriList",e)}}))}},fileDropItems:yc,updateScale:{command:"updateScale",execute:function(t,e){t.scale=e,t.emit("changeScale")}},showExportView:{command:"showExportView",execute:function(t){t.emit("showExportWindow")}},switchTheme:{command:"switchTheme",execute:function(t,e){t.changeTheme(e),t.emit("changeTheme")}},clipboardPaste:{command:"clipboard.paste",execute:function(t,e){t.selection.length&&(t.selection.paste(),t.emit("refreshAll"))}},clipboardCopy:{command:"clipboard.copy",title:"Copy",description:"Copy",execute:function(t,e){t.selection.copy()}},addComponentType:function(t,e){t.changeAddType(e),t.emit("afterChangeMode"),t.emit("addStatusBarMessage","Drag if you want to create ".concat(e," layer"))},addArtBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selection.currentProject;n||(n=t.add(t.components.createComponent("project")),t.selection.selectProject(n));var r=n.add(t.components.createComponent("artboard",rc({x:R.px(300),y:R.px(200),width:R.px(375),height:R.px(667)},e)));t.selection.selectArtboard(r),t.selection.select(r),za(t)},addImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.emit("newComponent","image",e,e)},addVideo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.emit("newComponent","video",e,e)},addLayer:function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0;i||(i=e.selection.current||e.selection.currentArtboard),i?(i.enableHasChildren()||(i=i.parent),i.add(n),r.x&&n.setScreenX(r.x.value),r.y&&n.setScreenY(r.y.value),o&&e.selection.select(n),za(e)):(e.emit("addArtBoard"),e.nextTick((function(){t(e,n,r)})))},addLayerView:function(t,e){t.selection.empty(),t.emit("refreshSelectionTool"),t.emit("hideAddViewLayer"),"select"===e||("brush"===e?t.emit("showPathDrawEditor"):"path"===e?t.emit("showPathEditor","path"):t.emit("showLayerAppendView",e))},addProject:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.add(t.components.createComponent("project",ac({},e)));t.selection.selectProject(n),za(t)},convertPath:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.selection.current;if(r){if(r.is("svg-path","svg-brush","svg-textpath")){var o=e;if(n)(i=new ec(e)).scale(r.width.value/n.width,r.height.value/n.height),o=i.d;r.updatePathItem({d:o})}else if(r["clip-path"].includes("path")){var i;o=e;if(n)(i=new ec(e)).scale(r.width.value/n.width,r.height.value/n.height),o=i.d;r.reset({"clip-path":"path(".concat(o,")")})}t.emit("refreshElement",r)}},newComponent:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.includes("text")||n["background-color"]||(n["background-color"]=Mn.random()),"svg-textpath"===e?n=fc(fc({},n),{},{text:"Insert a newText","font-size":R.parse(n.height),textLength:"100%",d:sc.makeLine(0,n.height.value,n.width.value,n.height.value)}):"svg-circle"===e?(e="svg-path",n=fc(fc({},n),{},{"background-color":void 0,d:sc.makeCircle(0,0,n.width.value,n.height.value)})):"svg-rect"===e?(e="svg-path",n=fc(fc({},n),{},{"background-color":void 0,d:sc.makeRect(0,0,n.width.value,n.height.value)})):"text"===e&&(n=fc(fc({width:R.px(300),height:R.px(50)},n),{},{content:"Insert a text","font-size":R.px(30)})),t.command("addLayer","add layer - ".concat(e),t.components.createComponent(e,fc({},n)),n,r),t.changeMode(qp),t.emit("afterChangeMode")},refreshElement:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.emit("refreshSelectionStyleView",e,n,e&&!1===e.enableHasChildren()),!0===r&&t.emit("refreshElementBoundSize",t.selection.getRootItem(e))},refreshProject:function(t,e){t.emit("refreshStyleView",e,!0)},resizeArtBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.selection.currentArtboard;if(n&&n.is("artboard")){if(!e.trim())return;var r=e.split("x"),o=Ba(r,2),i=o[0],a=o[1];i=R.px(i),a=R.px(a),n.reset({width:i,height:a}),t.selection.select(n),za(t)}},selectArtboard:function(t,e){e?ie(e)&&0===e.length&&(e=t.selection.currentArtboard):e=t.selection.currentArtboard,e&&(t.selection.selectArtboard(e),t.selection.select(e),t.emit("refreshArtboard"),t.emit("resetSelection"))},setAttribute:Ma,setAttributeForMulti:{command:"setAttributeForMulti",execute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object.keys(e).forEach((function(o){var i=e[o];t.selection.itemsByIds(o).forEach((function(e){Object.keys(i).forEach((function(t){var n=i[t];le(n)&&(n=n(e)),e.reset(Sp({},t,n))})),t.emit("refreshElement",e,n,r)}))}))}},sortBottom:dp,sortCenter:{command:"sort.center",execute:function(t){var e=hp.getContainer(t),n=e.screenX.value+e.width.value/2;t.selection.each((function(t){t.setScreenXCenter(n)})),t.emit("resetSelection")}},sortLeft:{command:"sort.left",execute:function(t){var e=hp.getContainer(t).screenX.value;t.selection.each((function(t){t.setScreenX(e)})),t.emit("resetSelection")}},sortMiddle:{command:"sort.middle",execute:function(t){var e=hp.getContainer(t),n=e.screenY.value+e.height.value/2;t.selection.each((function(t){t.setScreenYMiddle(n)})),t.emit("resetSelection")}}},"sortBottom",dp),$p(kp,"sortTop",vp),$p(kp,"sortRight",bp),$p(kp,"sameWidth",{command:"same.width",execute:function(t){var e=t.selection.items.length;if(1==e);else if(e>1){var n=t.selection.allRect;t.selection.each((function(t){t.setScreenX(n.x.value),t.width.set(n.width.value)}))}t.emit("resetSelection")}}),$p(kp,"sameHeight",{command:"same.width",execute:function(t){var e=t.selection.items.length;if(1==e);else if(e>1){var n=t.selection.allRect;t.selection.each((function(t){t.setScreenY(n.y.value),t.height.set(n.height.value)}))}t.emit("resetSelection")}}),kp);function _p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cp=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.loadCommands()}var e,n,r;return e=t,(n=[{key:"loadCommands",value:function(){var t=this;Object.keys(Ep).forEach((function(e){le(Ep[e])?t.registerCommand(e,Ep[e]):t.registerCommand(Ep[e])}))}},{key:"registerCommand",value:function(t,e){var n=this;if(2===arguments.length){var r=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e.call.apply(e,[n,n.$editor].concat(r))};r.source=t,this.$editor.$store.on(t,r,this,0)}else if(se(t)){var o=function(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];(e=t.execute).call.apply(e,[t,n.$editor].concat(o))};o.source=t.command,this.$editor.$store.on(t.command,o,this,t.debounce||0)}}}])&&_p(e.prototype,n),r&&_p(e,r),t}(),Tp={name:void 0};function Dp(){return void 0===Tp.name&&(-1!=navigator.appVersion.indexOf("Win")?Tp.name="win":-1!=navigator.appVersion.indexOf("Mac")?Tp.name="mac":-1!=navigator.appVersion.indexOf("X11")?Tp.name="linux":Tp.name=""),Tp.name}var Ap=[{category:"History",key:"cmd+z",win:"ctrl+z",command:"history.undo",description:"undoing in history",when:"CanvasView"},{category:"History",key:"cmd+shift+z",win:"ctrl+shift+z",command:"history.redo",description:"redoing in history",when:"CanvasView"},{category:"Tool",key:"v",command:"addLayerView",args:"select",description:"Selection"},{category:"Tool",key:"r",command:"addLayerView",args:"rect",description:"Add rect layer"},{category:"Tool",key:"m",command:"addLayerView",args:"rect",description:"Add rect layer"},{category:"Tool",key:"o",command:"addLayerView",args:"circle",description:"Add circle layer"},{category:"Tool",key:"l",command:"addLayerView",args:"circle",description:"Add circle layer"},{category:"Tool",key:"t",command:"addLayerView",args:"text",description:"Add text layer"},{category:"Tool",key:"p",command:"addLayerView",args:"path",description:"Add SVG Path layer"},{category:"Tool",key:"b",command:"addLayerView",args:"brush",description:"Add SVG Path"},{category:"Group",key:"cmd+g",win:"ctrl+g",command:"group.item",description:"Grouping selected items",when:"CanvasView"},{category:"Group",key:"shift+cmd+g",win:"shift+ctrl+g",command:"ungroup.item",description:"Ungrouping selected group layer",when:"CanvasView"},{category:"Path",key:"ArrowDown",command:"segment.move.down",description:"move 1px to down",args:{dy:1},when:"PathEditorView"},{category:"Path",key:"ArrowUp",command:"segment.move.up",description:"move 1px to up",args:{dy:1},when:"PathEditorView"},{category:"Path",key:"ArrowRight",command:"segment.move.right",description:"move 1px to right",args:{dx:1},when:"PathEditorView"},{category:"Path",key:"ArrowLeft",command:"segment.move.left",description:"move 1px to left",args:{dx:1},when:"PathEditorView"},{category:"Path",key:"Shift+ArrowDown",command:"segment.move.down",description:"move 10px to down",args:{dy:10},when:"PathEditorView"},{category:"Path",key:"Shift+ArrowUp",command:"segment.move.up",description:"move 10px to up",args:{dy:10},when:"PathEditorView"},{category:"Path",key:"Shift+ArrowLeft",command:"segment.move.left",description:"move 10px to left",args:{dx:10},when:"PathEditorView"},{category:"Path",key:"Shift+ArrowRight",command:"segment.move.right",description:"move 10px to right",args:{dx:10},when:"PathEditorView"},{category:"Path",key:"Alt+ArrowDown",command:"segment.move.down",description:"move 5px to down",args:{dy:5},when:"PathEditorView"},{category:"Path",key:"Alt+ArrowUp",command:"segment.move.up",description:"move 5px to up ",args:{dy:5},when:"PathEditorView"},{category:"Path",key:"Alt+ArrowLeft",command:"segment.move.left",description:"move 5px to left",args:{dx:5},when:"PathEditorView"},{category:"Path",key:"Alt+ArrowRight",command:"segment.move.right",description:"move 5px to right",args:{dx:5},when:"PathEditorView"},{category:"Path",key:"Backspace",command:"segment.delete",description:"Delete selected segment",when:"PathEditorView"},{category:"Layer",key:"ArrowLeft",command:"item.move.left",description:"move 1px to left",args:{dx:1},when:"CanvasView"},{category:"Layer",key:"ArrowRight",command:"item.move.right",description:"move 1px to right",args:{dx:1},when:"CanvasView"},{category:"Layer",key:"ArrowDown",command:"item.move.down",description:"move 1px to down",args:{dy:1},when:"CanvasView"},{category:"Layer",key:"ArrowUp",command:"item.move.up",description:"move 1px to up",args:{dy:1},when:"CanvasView"},{category:"Layer",key:"Shift+ArrowDown",command:"item.move.down",description:"move 10px to down",args:{dy:10},when:"CanvasView"},{category:"Layer",key:"Shift+ArrowRight",command:"item.move.right",description:"move 10px to right",args:{dx:10},when:"CanvasView"},{category:"Layer",key:"Shift+ArrowUp",command:"item.move.up",description:"move 10px to up",args:{dy:10},when:"CanvasView"},{category:"Layer",key:"Shift+ArrowLeft",command:"item.move.left",description:"move 10px to left",args:{dx:10},when:"CanvasView"},{category:"Layer",key:"Alt+ArrowLeft",command:"item.move.left",description:"move 5px to left",args:{dx:5},when:"CanvasView"},{category:"Layer",key:"Alt+ArrowDown",command:"item.move.down",description:"move 5px to down",args:{dy:5},when:"CanvasView"},{category:"Layer",key:"Alt+ArrowRight",command:"item.move.right",description:"move 5px to right",args:{dx:5},when:"CanvasView"},{category:"Layer",key:"Alt+ArrowUp",command:"item.move.up",description:"move 5px to up",args:{dy:5},when:"CanvasView"},{category:"Layer",key:"ctrl+]",command:"item.move.depth.up",description:"move layer to above",when:"CanvasView"},{category:"Layer",key:"ctrl+[",command:"item.move.depth.down",description:"move layer to below",when:"CanvasView"},{category:"Layer",key:"Backspace",command:"item.delete",description:"Delete selected items",when:"CanvasView"},{category:"Layer",key:"Shift+Backspace",command:"item.delete",description:"Delete selected items",when:"CanvasView"},{category:"Tool",key:"Minus",command:"scale.minus",description:"Minus scale",when:"CanvasView"},{category:"Tool",key:"Equal",command:"scale.plus",description:"Plus scale",when:"CanvasView"},{category:"Edit",key:"cmd+c",command:"clipboard.copy",description:"Copy objects",when:"CanvasView"},{category:"Edit",key:"cmd+v",command:"clipboard.paste",description:"Paste selected objects",when:"CanvasView"}];function Ip(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ip(Object(n),!0).forEach((function(e){Lp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zp={backspace:8,tab:9,enter:13,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,semicolon:59,equals:61,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,multiply:106,add:107,subtract:109,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,comma:188,",":188,period:190,".":190,slash:191,"/":191,backquote:192,"`":192,openbracket:219,"[":219,backslash:220,"\\":220,closebracket:221,"]":221,quote:222,"'":222,altgr:225};function Bp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join("+")}var Fp=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.loadShortCuts()}var e,n,r;return e=t,(n=[{key:"loadShortCuts",value:function(){var t=this;this.list=[],this.commands={},Ap.forEach((function(e){t.registerShortCut(e)})),this.sort()}},{key:"registerShortCut",value:function(t){var e=Dp();this.list.push(Vp(Vp({key:"",command:"",args:[],eventType:"keydown"},t),{},{checkKeyString:this.splitShortCut(t[e]||t.key),whenFunction:this.makeWhenFunction(t.command,t.when||"true")}))}},{key:"makeWhenFunction",value:function(t,e){return new Function("editor","\n            return function () {\n                const CanvasView = editor.modeView === 'CanvasView';\n                const PathEditorView = editor.modeView === 'PathEditorView';                \n\n                return (".concat(e,");\n            }\n        "))(this.$editor)}},{key:"sort",value:function(){var t=this;this.list.forEach((function(e){!1===ie(t.commands[e.checkKeyString])&&(t.commands[e.checkKeyString]=[]),t.commands[e.checkKeyString].push(e)}))}},{key:"splitShortCut",value:function(t){var e,n=t.toUpperCase().split("+").map((function(t){return t.trim()})).filter(Boolean),r=!1,o=!1,i=!1,a=!1,c=[];return n.forEach((function(t){t.includes("ALT")?r=!0:t.includes("CTRL")?o=!0:t.includes("SHIFT")?i=!0:t.includes("CMD")||t.includes("WIN")||t.includes("META")?a=!0:c.push(t)})),Bp(r?"ALT":"",o?"CTRL":"",i?"SHIFT":"",a?"META":"",(e=c.join(""),zp["".concat(e).toLowerCase()]||e))}},{key:"makeKeyString",value:function(t){return Bp(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.key.toUpperCase())}},{key:"makeCodeString",value:function(t){return Bp(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.code.toUpperCase())}},{key:"makeKeyCodeString",value:function(t){return Bp(t.altKey?"ALT":"",t.ctrlKey?"CTRL":"",t.shiftKey?"SHIFT":"",t.metaKey?"META":"",t.keyCode)}},{key:"checkShortCut",value:function(t,e,n){return this.commands[t]||this.commands[e]||this.commands[n]}},{key:"checkWhen",value:function(t){return t.whenFunction()}},{key:"execute",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keydown",r=this.checkShortCut(this.makeKeyCodeString(t),this.makeKeyString(t),this.makeCodeString(t));if(r){var o=r.filter((function(t){return t.eventType===n})).filter((function(t){return e.checkWhen(t)}));o.length&&t.preventDefault(),o.forEach((function(t){e.$editor.emit(t.command,t.args)}))}}}])&&Mp(e.prototype,n),r&&Mp(e,r),t}();function Gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Hp=new Map,Xp=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.set("canvas.width",1e4),this.set("canvas.height",1e4),this.set("body.move.ms",15),this.set("grid.preview.position",[])}},{key:"get",value:function(t){return Hp[t]}},{key:"set",value:function(t,e){Hp[t]=e}},{key:"remove",value:function(t){delete Hp[t]}}])&&Gp(e.prototype,n),r&&Gp(e,r),t}();function Yp(t){return function(t){if(Array.isArray(t))return Np(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Np(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Np(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Np(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Up=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.currentIndex=-1,this.undoHistories=[],this.redoHistories=[],this.selection={}}var e,n,r;return e=t,(n=[{key:"createCommand",value:function(t){return this.$editor.isPointerUp?"history.".concat(t):t}},{key:"saveSelection",value:function(){this.selection=this.$editor.selection.toCloneObject()}},{key:"getUndoValues",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(this.selection).forEach((function(r){n[r]={},Object.keys(e).forEach((function(e){n[r][e]=t.selection[r][e]}))})),n}},{key:"getUndoValuesForMulti",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(e).forEach((function(r){n[r]={};var o=t.selection[r],i=e[r];Object.keys(i).forEach((function(t){n[r][t]=o[t]}))})),n}},{key:"add",value:function(t,e,n){var r={message:t,command:e,data:n};return this.undoHistories.push(r),this.currentIndex++,this.undoHistories.length=this.currentIndex+1,this.$editor.emit("refreshHistory"),r}},{key:"map",value:function(t){return[].concat(Yp(this.undoHistories.map(t)),["-"],Yp(this.redoHistories.map(t))).reverse()}},{key:"undo",value:function(){var t=this;if(!(this.currentIndex<-1)){var e=this.undoHistories[this.currentIndex--];e&&e.command&&e.command.undo(this.$editor,e.data),this.$editor.nextTick((function(){t.$editor.emit("refreshHistory")}))}}},{key:"redo",value:function(){var t=this;if(!(this.currentIndex>=this.length)){var e=this.undoHistories[++this.currentIndex];e&&e.command&&e.command.redo(this.$editor,e.data),this.$editor.nextTick((function(){t.$editor.emit("refreshHistory")}))}}},{key:"length",get:function(){return this.undoHistories.length}},{key:"selectedIds",get:function(){return Object.keys(this.selection)}}])&&Kp(e.prototype,n),r&&Kp(e,r),t}();function Wp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qp="SELECTION",Jp=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Wp(this,t),this.$store=e.$store,this.projects=[],this.popupZIndex=1e4,this.canvasWidth=1e5,this.canvasHeight=1e5,this.scale=1,this.symbols={},this.images={},this.openRightPanel=!0,this.mode=qp,this.modeView="CanvasView",this.addComponentType="",this.locale=this.loadItem("locale")||"en_US",this.layout=this.loadItem("layout")||"all",this.loadManager()}var e,n,r;return e=t,(n=[{key:"loadManager",value:function(){this.config=new Xp(this),this.commands=new Cp(this),this.shortcuts=new Fp(this),this.selection=new Da(this),this.timeline=new Ei(this),this.history=new Up(this),this.components=Va,this.initTheme()}},{key:"i18n",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return ki.get(t,e,n||this.locale)}},{key:"hasI18nkey",value:function(t,e){return ki.hasKey(t,e||this.locale)}},{key:"initI18n",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i="".concat(e,".").concat(n);return t.hasI18nkey(i,o)?t.$i18n("".concat(e,".").concat(n),r,o):t.$i18n("".concat(n),r,o)}}},{key:"setLocale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US";this.locale=t,this.saveItem("locale",this.locale)}},{key:"setLayout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.layout=t,this.saveItem("layout",this.layout)}},{key:"setUser",value:function(t){this.user=t}},{key:"initTheme",value:function(){var t="dark";window.localStorage&&(t=window.localStorage.getItem("easylogic.studio.theme"),t=["dark","light","toon"].includes(t)?t:"dark"),this.theme=t||"dark",window.localStorage.setItem("easylogic.studio.theme",this.theme)}},{key:"themeValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Si[this.theme][t]||e}},{key:"changeMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp;this.mode=t}},{key:"changeModeView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CanvasView";this.modeView=t}},{key:"isMode",value:function(t){return this.mode===t}},{key:"isAddMode",value:function(){return this.isMode("ADD")}},{key:"isSelectionMode",value:function(){return this.isMode(qp)}},{key:"changeAddType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.changeMode("ADD"),this.addComponentType=t,this.isComponent=e}},{key:"changeTheme",value:function(t){t=["light","toon"].includes(t)?t:"dark",this.theme=t,window.localStorage.setItem("easylogic.studio.theme",t)}},{key:"getFile",value:function(t){return this.images[t]||t}},{key:"setStore",value:function(t){this.$store=t}},{key:"emit",value:function(){var t;this.$store&&(this.$store.source="EDITOR_ID",(t=this.$store).emit.apply(t,arguments))}},{key:"command",value:function(t,e,n,r,o,i){return this.isPointerUp?this.$store.emit("history.".concat(t),e,n,r,o,i):this.$store.emit(t,n,r,o,i)}},{key:"nextTick",value:function(t){this.$store&&this.$store.nextTick(t)}},{key:"load",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.projects=t}},{key:"add",value:function(t){return this.projects.push(t),t}},{key:"remove",value:function(t){this.projects.splice(t,1)}},{key:"clear",value:function(){this.projects=[]}},{key:"get",value:function(t){return this.projects[t]}},{key:"replaceLocalUrltoRealUrl",value:function(t){var e=this.selection.currentProject,n={};return e.images.forEach((function(e){t.indexOf(e.local)>-1&&(n[e.local]=e.original)})),Object.keys(n).forEach((function(e){t.indexOf(e)>-1&&(t=t.replace(new RegExp(e,"g"),n[e]))})),t}},{key:"replaceLocalUrltoId",value:function(t){var e=this.projects,n={};return e.forEach((function(e){e.images.forEach((function(e){t.indexOf(e.local)>-1&&(n[e.local]="#"+e.id)}))})),Object.keys(n).forEach((function(e){t.indexOf(e)>-1&&(t=t.replace(new RegExp(e,"g"),n[e]))})),t}},{key:"makeResource",value:function(t){var e=JSON.stringify(t);return e=this.replaceLocalUrltoId(e)}},{key:"saveResource",value:function(t,e){window.localStorage.setItem("easylogic.studio.".concat(t),this.makeResource(e))}},{key:"saveItem",value:function(t,e){window.localStorage.setItem("easylogic.studio.".concat(t),JSON.stringify(e))}},{key:"revokeResource",value:function(t){var e=this,n=JSON.parse(t||"[]"),r={};return n.forEach((function(t){t.images.forEach((function(t){r["#".concat(t.id)]=t}))})),Object.keys(r).map((function(t){var e=r[t],n=zc.parse(e.original,!0);e.local=n.local})),n.forEach((function(t){t.layers=e.applyAsset(t.layers,r)})),n}},{key:"applyAsset",value:function(t,e){var n=this;return ie(t)?t=t.map((function(t){return n.applyAsset(t,e)})):se(t)?Object.keys(t).forEach((function(r){t[r]=n.applyAsset(t[r],e)})):ce(t)&&Object.keys(e).forEach((function(n){var r=e[n];t.indexOf("#".concat(r.id))>-1&&(t=t.replace(new RegExp("#".concat(r.id),"g"),r.local))})),t}},{key:"loadResource",value:function(t){return this.revokeResource(window.localStorage.getItem("easylogic.studio.".concat(t)))}},{key:"loadItem",value:function(t){return JSON.parse(window.localStorage.getItem("easylogic.studio.".concat(t))||JSON.stringify(""))}},{key:"zIndex",get:function(){return this.popupZIndex++}},{key:"isPointerUp",get:function(){return!!this.config.get("bodyEvent")&&"pointerup"===this.config.get("bodyEvent").type}}])&&Zp(e.prototype,n),r&&Zp(e,r),t}();function Qp(t){return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ty(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ey(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ny(t,e){return(ny=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ry(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=iy(t);if(e){var o=iy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oy(this,n)}}function oy(t,e){return!e||"object"!==Qp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iy(t){return(iy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ay={x:0,y:0},cy={x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},uy=function(t){return new(function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ny(t,e)}(a,e);var n,r,o,i=ry(a);function a(){return ty(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"initialize",value:function(){this.$store=new ro,this.$editor=new Jp({$store:this.$store}),this.$container=er.create(this.getContainer()),this.$container.addClass(this.getClassName()),this.render(this.$container),this.initBodyMoves()}},{key:"initBodyMoves",value:function(){this.moves=new Set,this.ends=new Set,this.modifyBodyMoveSecond(0)}},{key:"modifyBodyMoveSecond",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$config.set("body.move.ms",t),this.funcBodyMoves=Zt(this.loopBodyMoves.bind(this),this.$config.get("body.move.ms"))}},{key:"loopBodyMoves",value:function(){var t=this.$config.get("pos"),e=this.$config.get("bodyEvent"),n=this.$config.get("lastPos")||cy;!(n.x===t.x&&n.y===t.y)&&this.moves.size&&(this.moves.forEach((function(n){var r=Math.floor(t.x-n.xy.x),o=Math.floor(t.y-n.xy.y);0==r&&0==o||n.func.call(n.context,r,o,"move",e.pressure)})),this.$config.set("lastPos",t)),requestAnimationFrame(this.funcBodyMoves)}},{key:"removeBodyMoves",value:function(){var t=this.$config.get("pos"),e=this.$config.get("bodyEvent");t&&this.ends.forEach((function(n){n.func.call(n.context,t.x-n.xy.x,t.y-n.xy.y,"end",e.pressure)})),this.moves.clear(),this.ends.clear()}},{key:gi("add/body/mousemove"),value:function(t,e,n){this.moves.add({func:t,context:e,xy:n})}},{key:gi("add/body/mouseup"),value:function(t,e,n){this.ends.add({func:t,context:e,xy:n})}},{key:"getClassName",value:function(){return t.className||"csseditor"}},{key:"getContainer",value:function(){return t.container||document.body}},{key:"template",value:function(){return t.template||"<div></div>"}},{key:"components",value:function(){return t.components||{}}},{key:_r("document"),value:function(t){var e=t.xy||ay;this.$config.set("bodyEvent",t),this.$config.set("pos",e),this.requestId||(this.requestId=requestAnimationFrame(this.funcBodyMoves))}},{key:Cr("document"),value:function(t){this.$config.set("bodyEvent",t),this.removeBodyMoves(),this.requestId=null}},{key:xr("window")+Gr(100),value:function(){this.emit("resize.window")}},{key:"commands",get:function(){return this.$editor.commands}},{key:"shortcuts",get:function(){return this.$editor.shortcuts}}])&&ey(n.prototype,r),o&&ey(n,o),a}(wi))(t)},sy={App:v,Color:Mn,HueColor:Bn,ColorNames:an,Dom:er,EventMachine:ai,UIElement:wi};function ly(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ly(Object(n),!0).forEach((function(e){py(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function py(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var hy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$store=e,this.initialize()}var e,n,r;return e=t,(n=[{key:"initialize",value:function(){this.state={rgb:{},hsl:{},hsv:{},alpha:1,format:"hex",colorSetsList:[{name:"Material",edit:!0,colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"]},{name:"Custom",edit:!0,colors:[]},{name:"Color Scale",scale:["red","yellow","black"],count:5}],userList:[],currentColorSets:{}}}},{key:"changeFormat",value:function(t){this.state.format=t,this.$store.emit("changeFormat")}},{key:"initColor",value:function(t){this.changeColor(t)}},{key:"changeColor",value:function(t){ce(t=t||"#FF0000")&&(t=Mn.parse(t)),this.state.alpha=re(t.a)?this.state.alpha:t.a,this.state.format="hsv"!=t.type&&t.type||this.state.format,"hex"==this.state.format&&this.state.alpha<1&&(this.state.format="rgb"),"hsl"==t.type?(this.state.hsl=fy(fy({},this.state.hsl),t),this.state.rgb=Mn.HSLtoRGB(this.state.hsl),this.state.hsv=Mn.HSLtoHSV(t)):"hex"==t.type||"rgb"==t.type?(this.state.rgb=fy(fy({},this.state.rgb),t),this.state.hsl=Mn.RGBtoHSL(this.state.rgb),this.state.hsv=Mn.RGBtoHSV(t)):"hsv"==t.type&&(this.state.hsv=fy(fy({},this.state.hsv),t),this.state.rgb=Mn.HSVtoRGB(this.state.hsv),this.state.hsl=Mn.HSVtoHSL(this.state.hsv))}},{key:"getHueColor",value:function(){return Bn.checkHueColor(this.state.hsv.h/360)}},{key:"toString",value:function(t){t=t||this.state.format;var e=this.state[t]||this.state.rgb;return Mn.format(fy(fy({},e),{},{a:this.state.alpha}),t)}},{key:"toColor",value:function(t){return t=(t||this.state.format).toLowerCase(),this.toString(t)}},{key:"setUserPalette",value:function(t){this.state.userList=t||[],this.resetUserPalette(),this.setCurrentColorSets()}},{key:"resetUserPalette",value:function(){var t=this;this.state.userList=this.state.userList.map((function(e,n){if(le(e.colors)){var r=e.colors;e.colors=r(t.state),e._colors=r}return fy({name:"color-".concat(n),colors:[]},e)}))}},{key:"setCurrentColorSets",value:function(t){var e=this.getUserList();re(t)?this.state.currentColorSets=e[0]:fe(t)?this.state.currentColorSets=e[t]:this.state.currentColorSets=e.filter((function(e){return e.name==t}))[0],this.$store.emit("changeCurrentColorSets")}},{key:"getCurrentColorSets",value:function(){return this.state.currentColorSets}},{key:"addCurrentColor",value:function(t){Array.isArray(this.state.currentColorSets.colors)&&(this.state.currentColorSets.colors.push(t),this.$store.emit("changeCurrentColorSets"))}},{key:"setCurrentColorAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.currentColorSets.colors=t,this.$store.emit("changeCurrentColorSets")}},{key:"removeCurrentColor",value:function(t){this.state.currentColorSets.colors[t]&&(this.state.currentColorSets.colors.splice(t,1),this.$store.emit("changeCurrentColorSets"))}},{key:"removeCurrentColorToTheRight",value:function(t){this.state.currentColorSets.colors[t]&&(this.state.currentColorSets.colors.splice(t,Number.MAX_VALUE),this.$store.emit("changeCurrentColorSets"))}},{key:"clearPalette",value:function(){this.state.currentColorSets.colors&&(this.state.currentColorSets.colors=[],this.$store.emit("changeCurrentColorSets"))}},{key:"getUserList",value:function(){return Array.isArray(this.state.userList)&&this.state.userList.length?this.state.userList:this.state.colorSetsList}},{key:"getCurrentColors",value:function(){return this.getColors(this.state.currentColorSets)}},{key:"getColors",value:function(t){return t.scale?Mn.scale(t.scale,t.count):t.colors||[]}},{key:"getColorSetsList",value:function(){var t=this;return this.getUserList().map((function(e){return{name:e.name,edit:e.edit,colors:t.getColors(e)}}))}},{key:"hsv",get:function(){return this.state.hsv}},{key:"rgb",get:function(){return this.state.rgb}},{key:"hsl",get:function(){return this.state.hsl}},{key:"hex",get:function(){return this.state.hex}},{key:"alpha",get:function(){return this.state.alpha}},{key:"format",get:function(){return this.state.format}}])&&yy(e.prototype,n),r&&yy(e,r),t}();function dy(t){return(dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function by(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function my(t,e,n){return(my="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ky(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gy(t,e){return(gy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ky(t);if(e){var o=ky(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oy(this,n)}}function Oy(t,e){return!e||"object"!==dy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ky(t){return(ky=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gy(t,e)}(i,t);var e,n,r,o=wy(i);function i(){return vy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"created",value:function(){this.manager=new hy(this),this.isColorPickerShow=!1,this.isShortCut=!1,this.hideDelay=+ne(this.opt.hideDeplay,2e3),this.timerCloseColorPicker,this.autoHide=this.opt.autoHide||!0,this.outputFormat=this.opt.outputFormat,this.$checkColorPickerClass=this.checkColorPickerClass.bind(this)}},{key:"initialize",value:function(){var t=this;this.$body=null,this.$root=null,this.$store=new ro,this.callbackChange=function(){t.callbackChangeValue()},this.callbackLastUpdate=function(){t.callbackLastUpdateColorValue()},this.colorpickerShowCallback=function(){},this.colorpickerHideCallback=function(){},this.colorpickerLastUpdateCallback=function(){},this.$body=er.create(this.getContainer()),this.$root=er.create("div","colorpicker"),"inline"==this.opt.position&&this.$body.append(this.$root),this.opt.type&&this.$root.addClass(this.opt.type),this.opt.hideInformation&&this.$root.addClass("hide-information"),this.opt.hideColorsets&&this.$root.addClass("hide-colorsets"),this.opt.width&&this.$root.css("width",this.opt.width),this.$arrow=er.create("div","arrow"),this.$root.append(this.$arrow),this.manager.setUserPalette(this.opt.colorSets),this.render(this.$root),this.initColorWithoutChangeEvent(this.opt.color)}},{key:"initColorWithoutChangeEvent",value:function(t){this.manager.initColor(t),this.emit("initColor")}},{key:"show",value:function(t,e,n,r,o){this.colorpickerShowCallback=n,this.colorpickerHideCallback=r,this.colorpickerLastUpdateCallback=o,this.$root.css(this.getInitalizePosition()).show(),this.definePosition(t),this.isColorPickerShow=!0,this.isShortCut=t.isShortCut||!1,this.outputFormat=t.outputFormat,this.hideDelay=+ne(t.hideDelay,2e3),this.hideDelay>0&&this.setHideDelay(this.hideDelay),this.$root.appendTo(this.$body),this.initColorWithoutChangeEvent(e)}},{key:"initColor",value:function(t,e){this.manager.changeColor(t,e),this.emit("changeColor")}},{key:"changeColor",value:function(t,e){this.manager.changeColor(t,e),this.emit("changeColor")}},{key:"hide",value:function(){this.isColorPickerShow&&(this.$root.hide(),this.$root.remove(),this.isColorPickerShow=!1,this.callbackHideValue())}},{key:"setColorsInPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.manager.setCurrentColorAll(t)}},{key:"setUserPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.manager.setUserPalette(t)}},{key:"getOption",value:function(t){return this.opt[t]}},{key:"setOption",value:function(t,e){this.opt[t]=e}},{key:"getContainer",value:function(){return this.opt.container||document.body}},{key:"getColor",value:function(t){return this.manager.toColor(t)}},{key:"definePositionForArrow",value:function(t,e,n){}},{key:"definePosition",value:function(t){var e=this.$root.width(),n=this.$root.height(),r=t.left-this.$body.scrollLeft();e+r>window.innerWidth&&(r-=e+r-window.innerWidth),r<0&&(r=0);var o=t.top-this.$body.scrollTop();n+o>window.innerHeight&&(o-=n+o-window.innerHeight),o<0&&(o=0),this.$root.css({left:R.px(r),top:R.px(o)})}},{key:"getInitalizePosition",value:function(){return"inline"==this.opt.position?{position:"relative",left:"auto",top:"auto",display:"inline-block"}:{position:"absolute"==this.opt.position?"absolute":"fixed",left:R.px(-1e4),top:R.px(-1e4)}}},{key:"setHideDelay",value:function(t){var e=this;t=t||0;var n=this.hide.bind(this);this.$root.off("mouseenter"),this.$root.off("mouseleave"),this.$root.on("mouseenter",(function(){clearTimeout(e.timerCloseColorPicker)})),this.$root.on("mouseleave",(function(){clearTimeout(e.timerCloseColorPicker),e.timerCloseColorPicker=setTimeout(n,t)})),clearTimeout(this.timerCloseColorPicker)}},{key:"callbackChangeValue",value:function(t){t=t||this.getCurrentColor(),le(this.opt.onChange)&&this.opt.onChange.call(this,t),le(this.colorpickerShowCallback)&&this.colorpickerShowCallback(t)}},{key:"callbackLastUpdateColorValue",value:function(t){t=t||this.getCurrentColor(),le(this.opt.onLastUpdate)&&this.opt.onLastUpdate.call(this,t),le(this.colorpickerLastUpdateCallback)&&this.colorpickerLastUpdateCallback(t)}},{key:"callbackHideValue",value:function(t){t=t||this.getCurrentColor(),le(this.opt.onHide)&&this.opt.onHide.call(this,t),le(this.colorpickerHideCallback)&&this.colorpickerHideCallback(t)}},{key:"getCurrentColor",value:function(){return this.manager.toColor(this.outputFormat)}},{key:"checkColorPickerClass",value:function(t){var e=er.create(t),n=e.closest("codemirror-colorview"),r=e.closest("colorpicker"),o=e.closest("CodeMirror");return t.nodeName,!!(r||n||o)}},{key:"checkInHtml",value:function(t){return"HTML"==t.nodeName}},{key:"lastUpdateColor",value:function(){this.callbackLastUpdate()}},{key:"initializeStoreEvent",value:function(){my(ky(i.prototype),"initializeStoreEvent",this).call(this),this.$store.on("changeColor",this.callbackChange,this),this.$store.on("changeFormat",this.callbackChange,this)}},{key:"destroy",value:function(){my(ky(i.prototype),"destroy",this).call(this),this.$store.off("changeColor",this.callbackChange),this.$store.off("changeFormat",this.callbackChange),this.callbackChange=void 0,this.colorpickerShowCallback=void 0,this.colorpickerHideCallback=void 0}},{key:pr("document"),value:function(t){this.checkInHtml(t.target)||0==this.checkColorPickerClass(t.target)&&this.hide()}},{key:"hsv",get:function(){return this.manager.hsv}},{key:"rgb",get:function(){return this.manager.rgb}},{key:"hsl",get:function(){return this.manager.hsl}},{key:"hex",get:function(){return this.manager.hex}},{key:"alpha",get:function(){return this.manager.alpha}},{key:"format",get:function(){return this.manager.format}}])&&by(e.prototype,n),r&&by(e,r),i}(wi);function jy(t){return(jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Py(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ry(t,e){return(Ry=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_y(t);if(e){var o=_y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ey(this,n)}}function Ey(t,e){return!e||"object"!==jy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _y(t){return(_y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cy(t){return(Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ty(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ay(t,e){return(Ay=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Iy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ly(t);if(e){var o=Ly(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vy(this,n)}}function Vy(t,e){return!e||"object"!==Cy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ly(t){return(Ly=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var My=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ay(t,e)}(i,t);var e,n,r,o=Iy(i);function i(){return Ty(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{minValue:0,maxValue:1,maxDist:null,minPosition:null}}},{key:"getMinMaxPosition",value:function(){var t=this.getMinPosition(),e=this.getMaxDist();return{min:t,max:t+e,width:e}}},{key:"getCurrent",value:function(t){return min+this.getMaxDist()*t}},{key:"getMinPosition",value:function(){return this.state.minPosition||(this.state.minPosition=this.refs.$container.offset().left),this.state.minPosition}},{key:"getMaxDist",value:function(){return this.state.maxDist||(this.state.maxDist=this.refs.$container.width()),this.state.maxDist}},{key:"getDist",value:function(t){var e=this.getMinMaxPosition(),n=e.min,r=e.max;return t<n?0:t>r?100:(t-n)/(r-n)*100}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.state.maxValue);return this.getDist(e)}},{key:"getDefaultValue",value:function(){return 0}},{key:"setMousePosition",value:function(t){this.refs.$bar.css({left:R.px(t)})}},{key:"getMousePosition",value:function(t){return Qr.pos(t).pageX}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.state.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((t||0)/this.state.maxValue))}}])&&Dy(e.prototype,n),r&&Dy(e,r),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ry(t,e)}(i,t);var e,n,r,o=$y(i);function i(){return Py(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){}},{key:"refreshColorUI",value:function(t){}},{key:"changeColor",value:function(t){this.parent.changeColor(t||{}),this.emit("changeColor")}},{key:Cr("document"),value:function(t){this.onDragEnd(t)}},{key:_r("document"),value:function(t){this.onDragMove(t)}},{key:Er("$bar"),value:function(t){this.isDown=!0}},{key:Er("$container"),value:function(t){this.isDown=!0,this.onDragStart(t)}},{key:"onDragStart",value:function(t){this.isDown=!0,this.refreshColorUI(t)}},{key:"onDragMove",value:function(t){this.isDown&&this.refreshColorUI(t)}},{key:"onDragEnd",value:function(t){this.emit("lastUpdateColor"),this.isDown=!1}},{key:gi("changeColor","initColor"),value:function(){this.refresh()}}])&&xy(e.prototype,n),r&&xy(e,r),i}(wi));function zy(t){return(zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function By(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gy(t,e){return(Gy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yy(t);if(e){var o=Yy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xy(this,n)}}function Xy(t,e){return!e||"object"!==zy(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yy(t){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ny=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gy(t,e)}(i,t);var e,n,r,o=Hy(i);function i(){return By(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class="value">\n                <div ref="$container" class="value-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:Jr("$container"),value:function(){return{style:{"background-color":this.parent.manager.toString("rgb")}}}},{key:"getDefaultValue",value:function(){return this.parent.hsv.v}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({type:"hsv",v:e/100*this.state.maxValue})}}])&&Fy(e.prototype,n),r&&Fy(e,r),i}(My);function Ky(t){return(Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jy(t,e,n){return(Jy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qy(t,e){return(Qy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function th(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nh(t);if(e){var o=nh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eh(this,n)}}function eh(t,e){return!e||"object"!==Ky(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nh(t){return(nh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qy(t,e)}(i,t);var e,n,r,o=th(i);function i(){return Zy(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){Jy(nh(i.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uy(Object(n),!0).forEach((function(e){Wy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.parent.rgb);t.a=0;var e=Mn.format(t,"rgb");t.a=1;var n=Mn.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to right, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.parent.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({a:Math.floor(e)/100*this.state.maxValue})}}])&&qy(e.prototype,n),r&&qy(e,r),i}(My);function oh(t){return(oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ih(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ah(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ch(t,e){return(ch=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lh(t);if(e){var o=lh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sh(this,n)}}function sh(t,e){return!e||"object"!==oh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lh(t){return(lh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ch(t,e)}(i,t);var e,n,r,o=uh(i);function i(){return ih(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"<div class='color'></div>"}},{key:Jr("$el"),value:function(){return{style:{"background-color":this.parent.manager.toString("rgb")}}}},{key:gi("changeColor","initColor"),value:function(){this.refresh()}}])&&ah(e.prototype,n),r&&ah(e,r),i}(wi);function ph(t){return(ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return hh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bh(t,e,n){return(bh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Oh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function mh(t,e){return(mh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Oh(t);if(e){var o=Oh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wh(this,n)}}function wh(t,e){return!e||"object"!==ph(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oh(t){return(Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mh(t,e)}(i,t);var e,n,r,o=gh(i);function i(){return dh(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){bh(Oh(i.prototype),"initialize",this).call(this),this.width=214,this.height=214,this.thinkness=0,this.half_thinkness=0}},{key:"template",value:function(){return'\n        <div class="wheel">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="wheel-canvas" ref="$valuewheel" ></div>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"refresh",value:function(t){this.setColorUI(t)}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.renderValue(),this.setHueColor(null,t)}},{key:"renderValue",value:function(){var t=1-this.parent.hsv.v;this.refs.$valuewheel.css("background-color","rgba(0, 0, 0, ".concat(t,")"))}},{key:"renderWheel",value:function(t,e){this.width&&!t&&(t=this.width),this.height&&!e&&(e=this.height);var n=er.create("canvas"),r=n.el.getContext("2d");n.el.width=t,n.el.height=e,n.px("width",t),n.px("height",e);for(var o=r.getImageData(0,0,t,e),i=o.data,a=Math.floor(t/2),c=Math.floor(e/2),u=t>e?c:a,s=a,l=c,f=0;f<e;f++)for(var p=0;p<t;p++){var y=p-s+1,h=f-l+1,d=y*y+h*h,v=N(y,h),b=Mn.HSVtoRGB(v,Math.min(Math.sqrt(d)/u,1),1),m=4*(f*t+p);i[m]=b.r,i[m+1]=b.g,i[m+2]=b.b,i[m+3]=255}return r.putImageData(o,0,0),this.thinkness>0&&(r.globalCompositeOperation="destination-out",r.fillStyle="black",r.beginPath(),r.arc(s,l,u-this.thinkness,0,2*Math.PI),r.closePath(),r.fill()),n}},{key:"renderCanvas",value:function(){if(!this.parent.createdWheelCanvas){var t=this.refs.$colorwheel,e=t.el.getContext("2d"),n=yh(t.size(),2),r=n[0],o=n[1];this.width&&!r&&(r=this.width),this.height&&!o&&(o=this.height),t.el.width=r,t.el.height=o,t.px("width",r),t.px("height",o);var i=this.renderWheel(r,o);e.drawImage(i.el,0,0),this.parent.createdWheelCanvas=!0}}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"getDefaultSaturation",value:function(){return this.parent.hsv.s}},{key:"getCurrentXY",value:function(t,e,n,r,o){return t?t.xy:X(e,n,r,o)}},{key:"getRectangle",value:function(){var t=this.$el.width(),e=this.$el.height(),n=this.refs.$colorwheel.width()/2,r=this.$el.offsetLeft(),o=r+t/2,i=this.$el.offsetTop();return{minX:r,minY:i,width:t,height:e,radius:n,centerX:o,centerY:i+e/2}}},{key:"setHueColor",value:function(t,e){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,c=n.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),this.getDefaultSaturation()*i,a,c),s=(h=u.x)-a,l=(d=u.y)-c,f=s*s+l*l,p=N(s,l);if(f>i*i)var y=this.getCurrentXY(null,p,i,a,c),h=y.x,d=y.y;var v=Math.min(Math.sqrt(f)/i,1);this.refs.$drag_pointer.px("left",h-r),this.refs.$drag_pointer.px("top",d-o),e||this.changeColor({type:"hsv",h:p,s:v})}},{key:"changeColor",value:function(t){this.parent.manager.changeColor(t||{})}},{key:gi("changeColor"),value:function(){this.refresh(!0)}},{key:gi("initColor"),value:function(){this.refresh(!0)}},{key:Cr("document"),value:function(t){this.isDown=!1}},{key:_r("document"),value:function(t){this.isDown&&this.setHueColor(t)}},{key:Er("$drag_pointer"),value:function(t){this.isDown=!0}},{key:Er(),value:function(t){this.isDown=!0,this.setHueColor(t)}}])&&vh(e.prototype,n),r&&vh(e,r),i}(wi);function Sh(t){return(Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xh(t,e){return(xh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Eh(t);if(e){var o=Eh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $h(this,n)}}function $h(t,e){return!e||"object"!==Sh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Eh(t){return(Eh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xh(t,e)}(i,t);var e,n,r,o=Rh(i);function i(){return jh(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class="information hex">\n            <div ref="$informationChange" class="information-change">\n                <button ref="$formatChangeButton" type="button" class="format-change-button arrow-button"></button>\n            </div>\n            <div class="information-item hex">\n                <div class="input-field hex">\n                    <input ref="$hexCode" class="input" type="text" />\n                    <div class="title">HEX</div>\n                </div>\n            </div>\n            <div class="information-item rgb">\n                <div class="input-field rgb-r">\n                    <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">R</div>\n                </div>\n                <div class="input-field rgb-g">\n                    <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">G</div>\n                </div>\n                <div class="input-field rgb-b">\n                    <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">B</div>\n                </div>          \n                <div class="input-field rgb-a">\n                    <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>                                                            \n            </div>\n            <div class="information-item hsl">\n                <div class="input-field hsl-h">\n                    <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />\n                    <div class="title">H</div>\n                </div>\n                <div class="input-field hsl-s">\n                    <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>\n                    <div class="title">S</div>\n                </div>\n                <div class="input-field hsl-l">\n                    <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>                        \n                    <div class="title">L</div>\n                </div>\n                <div class="input-field hsl-a">\n                    <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>\n            </div>\n        </div>\n        '}},{key:"setCurrentFormat",value:function(t){this.format=t,this.initFormat()}},{key:"initFormat",value:function(){var t=this,e=this.format||"hex";["hex","rgb","hsl"].filter((function(t){return t!==e})).forEach((function(e){t.$el.removeClass(e)})),this.$el.addClass(e)}},{key:"nextFormat",value:function(){var t=this.format||"hex",e="hex";"hex"==t?e="rgb":"rgb"==t?e="hsl":"hsl"==t&&(e=1==this.parent.alpha?"hex":"rgb"),this.format=e,this.initFormat(),this.parent.manager.changeFormat(this.format),this.emit("lastUpdateColor")}},{key:"goToFormat",value:function(t){this.format=t,"rgb"!==t&&"hsl"!==t||this.initFormat(),this.parent.manager.changeFormat(this.format)}},{key:"getFormat",value:function(){return this.format||"hex"}},{key:"changeRgbColor",value:function(){this.parent.changeColor({type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float()}),this.emit("lastUpdateColor")}},{key:"changeHslColor",value:function(){this.parent.changeColor({type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float()}),this.emit("lastUpdateColor")}},{key:gi("changeColor","initColor"),value:function(){this.refresh()}},{key:Or("$rgb_r"),value:function(t){this.changeRgbColor()}},{key:Or("$rgb_g"),value:function(t){this.changeRgbColor()}},{key:Or("$rgb_b"),value:function(t){this.changeRgbColor()}},{key:Or("$rgb_a"),value:function(t){this.changeRgbColor()}},{key:Or("$hsl_h"),value:function(t){this.changeHslColor()}},{key:Or("$hsl_s"),value:function(t){this.changeHslColor()}},{key:Or("$hsl_l"),value:function(t){this.changeHslColor()}},{key:Or("$hsl_a"),value:function(t){this.changeHslColor()}},{key:hr("$hexCode"),value:function(t){var e=this.refs.$hexCode.val();"#"!=e.charAt(0)||7!=e.length&&9!==e.length||(this.parent.initColor(e),this.emit("lastUpdateColor"))}},{key:lr("$formatChangeButton"),value:function(t){this.nextFormat()}},{key:lr("$el .information-item.hex .input-field .title"),value:function(t){this.goToFormat("hex")}},{key:lr("$el .information-item.rgb .input-field .title"),value:function(t){this.goToFormat("hsl")}},{key:lr("$el .information-item.hsl .input-field .title"),value:function(t){this.goToFormat("rgb")}},{key:"setRGBInput",value:function(){this.refs.$rgb_r.val(this.parent.rgb.r),this.refs.$rgb_g.val(this.parent.rgb.g),this.refs.$rgb_b.val(this.parent.rgb.b),this.refs.$rgb_a.val(this.parent.alpha)}},{key:"setHSLInput",value:function(){this.refs.$hsl_h.val(this.parent.hsl.h),this.refs.$hsl_s.val(this.parent.hsl.s),this.refs.$hsl_l.val(this.parent.hsl.l),this.refs.$hsl_a.val(this.parent.alpha)}},{key:"setHexInput",value:function(){this.refs.$hexCode.val(this.parent.manager.toString("hex"))}},{key:"refresh",value:function(){this.setCurrentFormat(this.parent.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}])&&Ph(e.prototype,n),r&&Ph(e,r),i}(wi);function Ch(t){return(Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Th(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(t,e,n){return(Ah="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ih(t,e){return(Ih=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mh(t);if(e){var o=Mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lh(this,n)}}function Lh(t,e){return!e||"object"!==Ch(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mh(t){return(Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ih(t,e)}(i,t);var e,n,r,o=Vh(i);function i(){return Th(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'<div class="color-chooser">\n            <div class="color-chooser-container">\n                <div class="colorsets-item colorsets-item-header">\n                    <h1 class="title">Color Palettes</h1>\n                    <span ref="$toggleButton" class="items">&times;</span>\n                </div>\n                <div ref="$colorsetsList" class="colorsets-list"></div>\n            </div>\n        </div>'}},{key:gi("changeCurrentColorSets"),value:function(){this.refresh()}},{key:gi("toggleColorChooser"),value:function(){this.toggle()}},{key:Ur("$colorsetsList"),value:function(){var t=this.parent.manager.getColorSetsList();return"\n            <div>\n                ".concat(t.map((function(t,e){return'\n                        <div class="colorsets-item" data-colorsets-index="'.concat(e,'" >\n                            <h1 class="title">').concat(t.name,'</h1>\n                            <div class="items">\n                                <div>\n                                    ').concat(t.colors.filter((function(t,e){return e<5})).map((function(t){return'<div class="color-item" title="'.concat(t=t||"rgba(255, 255, 255, 1)",'">\n                                                <div class="color-view" style="background-color: ').concat(t,'"></div>\n                                            </div>')})).join(""),"\n                                </div>\n                            </div>\n                        </div>")})).join(""),"\n            </div>\n        ")}},{key:"show",value:function(){this.$el.addClass("open")}},{key:"hide",value:function(){this.$el.removeClass("open")}},{key:"toggle",value:function(){this.$el.toggleClass("open")}},{key:lr("$toggleButton"),value:function(t){this.toggle()}},{key:lr("$colorsetsList .colorsets-item"),value:function(t,e){if(e){var n=parseInt(e.attr("data-colorsets-index"));this.parent.manager.setCurrentColorSets(n),this.hide()}}},{key:"destroy",value:function(){Ah(Mh(i.prototype),"destroy",this).call(this),this.hide()}}])&&Dh(e.prototype,n),r&&Dh(e,r),i}(wi);function Bh(t){return(Bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hh(t,e){return(Hh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nh(t);if(e){var o=Nh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yh(this,n)}}function Yh(t,e){return!e||"object"!==Bh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nh(t){return(Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hh(t,e)}(i,t);var e,n,r,o=Xh(i);function i(){return Fh(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class="colorsets">\n                <div class="menu" title="Open Color Palettes">\n                    <button ref="$colorSetsChooseButton" type="button" class="color-sets-choose-btn arrow-button"></button>\n                </div>\n                <div ref="$colorSetsColorList" class="color-list"></div>\n            </div>\n        '}},{key:Ur("$colorSetsColorList"),value:function(){var t=this.parent.manager.getCurrentColorSets(),e=this.parent.manager.getCurrentColors();return'<div class="current-color-sets">\n            '.concat(e.map((function(t,e){return'<div class="color-item" title="'.concat(t,'" data-index="').concat(e,'" data-color="').concat(t,'">\n                    <div class="empty"></div>\n                    <div class="color-view" style="background-color: ').concat(t,'"></div>\n                </div>')})).join(""),"   \n            ").concat(t.edit?'<div class="add-color-item">+</div>':"","         \n            </div>")}},{key:"addColor",value:function(t){this.parent.manager.addCurrentColor(t),this.refresh()}},{key:gi("changeCurrentColorSets"),value:function(){this.refresh()}},{key:gi("initColor"),value:function(){this.refresh()}},{key:lr("$colorSetsChooseButton"),value:function(t){this.emit("toggleColorChooser")}},{key:gr("$colorSetsColorList"),value:function(t){if(t.preventDefault(),this.parent.manager.getCurrentColorSets().edit){var e=er.create(t.target).closest("color-item");if(e){var n=parseInt(e.attr("data-index"));this.emit("showContextMenu",t,n)}else this.emit("showContextMenu",t)}}},{key:lr("$colorSetsColorList .add-color-item"),value:function(t){this.addColor(this.parent.getColor())}},{key:lr("$colorSetsColorList .color-item"),value:function(t,e){this.parent.initColor(e.attr("data-color")),this.parent.lastUpdateColor()}}])&&Gh(e.prototype,n),r&&Gh(e,r),i}(wi);function Uh(t){return(Uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qh(t,e){return(qh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=td(t);if(e){var o=td(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qh(this,n)}}function Qh(t,e){return!e||"object"!==Uh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function td(t){return(td=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ed=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qh(t,e)}(i,t);var e,n,r,o=Jh(i);function i(){return Wh(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <ul class="colorsets-contextmenu">\n                <li class="menu-item small-hide" data-type="remove-color">Remove color</li>\n                <li class="menu-item small-hide" data-type="remove-all-to-the-right">Remove all to the right</li>\n                <li class="menu-item" data-type="clear-palette">Clear palette</li>\n            </ul>\n        '}},{key:"show",value:function(t,e){var n=Qr.pos(t);this.$el.px("top",n.clientY-10),this.$el.px("left",n.clientX),this.$el.addClass("show"),this.selectedColorIndex=e,re(this.selectedColorIndex)?this.$el.addClass("small"):this.$el.removeClass("small")}},{key:"hide",value:function(){this.$el.removeClass("show")}},{key:"runCommand",value:function(t){switch(t){case"remove-color":this.parent.manager.removeCurrentColor(this.selectedColorIndex);break;case"remove-all-to-the-right":this.parent.manager.removeCurrentColorToTheRight(this.selectedColorIndex);break;case"clear-palette":this.parent.manager.clearPalette()}}},{key:gi("showContextMenu"),value:function(t,e){this.show(t,e)}},{key:lr("$el .menu-item"),value:function(t,e){t.preventDefault(),this.runCommand(e.attr("data-type")),this.hide()}}])&&Zh(e.prototype,n),r&&Zh(e,r),i}(wi);function nd(t){return(nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function id(t,e){return(id=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ad(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ud(t);if(e){var o=ud(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cd(this,n)}}function cd(t,e){return!e||"object"!==nd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ud(t){return(ud=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&id(t,e)}(i,t);var e,n,r,o=ad(i);function i(){return rd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <ColorWheel />\n                <div class="control">\n                    <Value />\n                    <Opacity />\n                    <div class="empty"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser >\n                <ContextMenu />\n            </div> \n        '}},{key:"components",value:function(){return{Value:Ny,Opacity:rh,ColorView:fh,ColorWheel:kh,Information:_h,CurrentColorSets:Kh,ColorSetsChooser:zh,ContextMenu:ed}}}])&&od(e.prototype,n),r&&od(e,r),i}(Sy);function ld(t){return(ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yd(t,e){return(yd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vd(t);if(e){var o=vd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dd(this,n)}}function dd(t,e){return!e||"object"!==ld(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vd(t){return(vd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yd(t,e)}(i,t);var e,n,r,o=hd(i);function i(){return fd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{minValue:0,maxValue:360}}},{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.state.maxValue),this.changeColor({h:e/100*this.state.maxValue,type:"hsv"})}}])&&pd(e.prototype,n),r&&pd(e,r),i}(My);function md(t){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Od(t,e){return(Od=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jd(t);if(e){var o=jd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sd(this,n)}}function Sd(t,e){return!e||"object"!==md(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jd(t){return(jd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Od(t,e)}(i,t);var e,n,r,o=kd(i);function i(){return gd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class="color-panel">\n            <div ref="$saturation" class="saturation">\n                <div ref="$value" class="value">\n                    <div ref="$drag_pointer" class="drag-pointer"></div>\n                </div>\n            </div>        \n        </div>        \n        '}},{key:"setBackgroundColor",value:function(t){this.$el.css("background-color",t)}},{key:"refresh",value:function(){this.setColorUI()}},{key:"calculateSV",value:function(){var t=this.drag_pointer_pos||{x:0,y:0},e=this.$el.width(),n=this.$el.height(),r=t.x/e,o=(n-t.y)/n;this.parent.initColor({type:"hsv",s:r,v:o})}},{key:"setColorUI",value:function(){var t=this.$el.width()*this.parent.hsv.s,e=this.$el.height()*(1-this.parent.hsv.v);this.refs.$drag_pointer.px("left",t),this.refs.$drag_pointer.px("top",e),this.drag_pointer_pos={x:t,y:e},this.setBackgroundColor(this.parent.manager.getHueColor())}},{key:"setMainColor",value:function(t){var e=this.$el.offset(),n=this.$el.contentWidth(),r=this.$el.contentHeight(),o=Qr.pos(t).pageX-e.left,i=Qr.pos(t).pageY-e.top;o<0?o=0:o>n&&(o=n),i<0?i=0:i>r&&(i=r),this.refs.$drag_pointer.px("left",o),this.refs.$drag_pointer.px("top",i),this.drag_pointer_pos={x:o,y:i},this.calculateSV()}},{key:gi("changeColor","initColor"),value:function(){this.refresh()}},{key:Cr("document"),value:function(t){this.isDown&&(this.isDown=!1,this.setMainColor(t))}},{key:_r("document"),value:function(t){this.isDown&&this.setMainColor(t)}},{key:Er(),value:function(t){this.isDown=!0}}])&&wd(e.prototype,n),r&&wd(e,r),i}(wi);function xd(t){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ed(t,e){return(Ed=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Td(t);if(e){var o=Td(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cd(this,n)}}function Cd(t,e){return!e||"object"!==xd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Td(t){return(Td=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ed(t,e)}(i,t);var e,n,r,o=_d(i);function i(){return Rd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n      <div class=\'colorpicker-body\'>\n        <Palette />\n        <div class="control">\n            <Hue />\n            <Opacity />\n            <div class="empty"></div>\n            <ColorView />\n        </div>\n        <Information />\n        <CurrentColorSets />\n        <ColorSetsChooser />\n        <ContextMenu />\n      </div>\n    '}},{key:"components",value:function(){return{Hue:bd,Opacity:rh,ColorView:fh,Palette:Pd,Information:_h,CurrentColorSets:Kh,ColorSetsChooser:zh,ContextMenu:ed}}}])&&$d(e.prototype,n),r&&$d(e,r),i}(Sy);function Ad(t){return(Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Id(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ld(t,e){return(Ld=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Md(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bd(t);if(e){var o=Bd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zd(this,n)}}function zd(t,e){return!e||"object"!==Ad(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bd(t){return(Bd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ld(t,e)}(i,t);var e,n,r,o=Md(i);function i(){return Id(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <Palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n            </div>\n        "}},{key:"components",value:function(){return{Hue:bd,Opacity:rh,Palette:Pd}}}])&&Vd(e.prototype,n),r&&Vd(e,r),i}(Sy);function Gd(t){return(Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yd(t,e){return(Yd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ud(t);if(e){var o=Ud(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kd(this,n)}}function Kd(t,e){return!e||"object"!==Gd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ud(t){return(Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yd(t,e)}(i,t);var e,n,r,o=Nd(i);function i(){return Hd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getMaxDist",value:function(){return this.refs.$container.height()}},{key:"setMousePosition",value:function(t){this.refs.$bar.px("top",t)}},{key:"getMousePosition",value:function(t){return Qr.pos(t).pageY}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().top}},{key:"getCalculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.state.maxValue);return 100-this.getDist(e)}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first");var e=1-(t||0)/this.state.maxValue;this.setMousePosition(this.getMaxDist()*e)}}])&&Xd(e.prototype,n),r&&Xd(e,r),i}(My);function Zd(t){return(Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qd(t,e,n){return(Qd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tv(t,e){return(tv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rv(t);if(e){var o=rv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nv(this,n)}}function nv(t,e){return!e||"object"!==Zd(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rv(t){return(rv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ov=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tv(t,e)}(i,t);var e,n,r,o=ev(i);function i(){return qd(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){Qd(rv(i.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360}},{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}])&&Jd(e.prototype,n),r&&Jd(e,r),i}(Wd);function iv(t){return(iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lv(t,e,n){return(lv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fv(t,e){return(fv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hv(t);if(e){var o=hv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yv(this,n)}}function yv(t,e){return!e||"object"!==iv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hv(t){return(hv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fv(t,e)}(i,t);var e,n,r,o=pv(i);function i(){return uv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){lv(hv(i.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?av(Object(n),!0).forEach((function(e){cv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.parent.rgb);t.a=0;var e=Mn.format(t,"rgb");t.a=1;var n=Mn.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to top, "+e+", "+n+")")}},{key:"getDefaultValue",value:function(){return this.parent.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCalculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}])&&sv(e.prototype,n),r&&sv(e,r),i}(Wd);function vv(t){return(vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e){return(gv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kv(t);if(e){var o=kv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ov(this,n)}}function Ov(t,e){return!e||"object"!==vv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kv(t){return(kv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gv(t,e)}(i,t);var e,n,r,o=wv(i);function i(){return bv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <Palette /><div class=\"control\"><Hue /><Opacity /></div>\n            </div>\n        "}},{key:"components",value:function(){return{Hue:ov,Opacity:dv,Palette:Pd}}}])&&mv(e.prototype,n),r&&mv(e,r),i}(Sy);function jv(t){return(jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rv(t,e,n){return(Rv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $v(t,e){return($v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ev(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cv(t);if(e){var o=Cv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _v(this,n)}}function _v(t,e){return!e||"object"!==jv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cv(t){return(Cv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$v(t,e)}(i,t);var e,n,r,o=Ev(i);function i(){return Pv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){Rv(Cv(i.prototype),"initialize",this).call(this),this.width=214,this.height=214,this.thinkness=16,this.half_thinkness=this.thinkness/2}},{key:"template",value:function(){return'<div class="wheel" data-type="ring">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>'}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.setHueColor(null,t)}},{key:"getDefaultValue",value:function(){return this.parent.hsv.h}},{key:"setHueColor",value:function(t,e){var n=this.getRectangle(),r=n.minX,o=n.minY,i=n.radius,a=n.centerX,c=n.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),i,a,c),s=N((f=u.x)-a,(p=u.y)-c),l=this.getCurrentXY(null,s,i-this.half_thinkness,a,c),f=l.x,p=l.y;this.refs.$drag_pointer.px("left",f-r),this.refs.$drag_pointer.px("top",p-o),e||(this.changeColor({type:"hsv",h:s}),this.emit("changeColor"))}}])&&xv(e.prototype,n),r&&xv(e,r),i}(kh);function Dv(t){return(Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vv(t,e){return(Vv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zv(t);if(e){var o=zv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mv(this,n)}}function Mv(t,e){return!e||"object"!==Dv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zv(t){return(zv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vv(t,e)}(i,t);var e,n,r,o=Lv(i);function i(){return Av(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <ColorRing />\n                <Palette />\n                <div class="control">\n                    <Value />\n                    <Opacity />\n                    <div class="empty"></div>\n                    <ColorView />\n                </div>\n                <Information />\n                <CurrentColorSets />\n                <ColorSetsChooser />\n                <ContextMenu />\n            </div>\n        '}},{key:"components",value:function(){return{Value:Ny,Opacity:rh,ColorView:fh,ColorRing:Tv,Palette:Pd,Information:_h,CurrentColorSets:Kh,ColorSetsChooser:zh,ContextMenu:ed}}}])&&Iv(e.prototype,n),r&&Iv(e,r),i}(Sy);function Fv(t){return(Fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xv(t,e){return(Xv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kv(t);if(e){var o=Kv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nv(this,n)}}function Nv(t,e){return!e||"object"!==Fv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kv(t){return(Kv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xv(t,e)}(i,t);var e,n,r,o=Yv(i);function i(){return Gv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <palette />\n                <div class=\"control\">\n                    <Hue />\n                    <Opacity />\n                </div>\n                <information />\n                <currentColorSets />\n                <colorSetsChooser />\n                <contextMenu />\n            </div>\n        "}},{key:"components",value:function(){return{Hue:ov,Opacity:dv,Palette:Pd,Information:_h,CurrentColorSets:Kh,ColorSetsChooser:zh,ContextMenu:ed}}}])&&Hv(e.prototype,n),r&&Hv(e,r),i}(Sy);function Wv(t){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jv(t,e){return(Jv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=eb(t);if(e){var o=eb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tb(this,n)}}function tb(t,e){return!e||"object"!==Wv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eb(t){return(eb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jv(t,e)}(i,t);var e,n,r,o=Qv(i);function i(){return Zv(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-tab' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >".concat(this.opt.tabTitle,'</span> Color</div>\n                        <div class=\'color-tab-item\' item-id="swatch">Swatch</div>\n                        <div class=\'color-tab-item\' item-id="colorset">Color Set</div>\n                    </div>\n                    <div class=\'color-tab-body\' ref="$tabBody">\n                        <div class=\'color-tab-content active\'  item-id="color">\n                            <ColorRing />\n                            <Palette />\n                            <div class="control">\n                                <Value />\n                                <Opacity />\n                                <div class="empty"></div>\n                                <ColorView />\n                            </div>\n                            <Information />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="swatch">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="colorset">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n            </div>\n        ')}},{key:lr("$tabHeader .color-tab-item"),value:function(t,e){if(!e.hasClass("active")){var n;(n=this.refs.$tabHeader.$(".active"))&&n.removeClass("active"),e.addClass("active"),(n=this.refs.$tabBody.$(".active"))&&n.removeClass("active");var r=this.refs.$tabBody.$("[item-id='".concat(e.attr("item-id"),"']"));r&&r.addClass("active")}}},{key:"components",value:function(){return{Value:Ny,Opacity:rh,ColorView:fh,ColorRing:Tv,Palette:Pd,Information:_h,CurrentColorSets:Kh,ColorSetsChooser:zh,ContextMenu:ed}}}])&&qv(e.prototype,n),r&&qv(e,r),i}(Sy);function rb(t){return(rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ib(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ab(t,e){return(ab=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sb(t);if(e){var o=sb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ub(this,n)}}function ub(t,e){return!e||"object"!==rb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sb(t){return(sb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ab(t,e)}(i,t);var e,n,r,o=cb(i);function i(){return ob(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='colorpicker-body'>\n                <div class='color-tab xd' ref=\"$tab\">\n                    <div class='color-tab-header' ref=\"$tabHeader\">\n                        <div class='color-tab-item active' item-id=\"color\"><span >".concat(this.opt.tabTitle,'</span> Color</div>\n                        <div class=\'color-tab-item\' item-id="swatch">Swatch</div>\n                        <div class=\'color-tab-item\' item-id="colorset">Color Set</div>\n                    </div>\n                    <div class=\'color-tab-body\' ref="$tabBody">\n                        <div class=\'color-tab-content active\'  item-id="color">\n                            <palette />\n                            <div class="control">\n                                <Hue />\n                                <Opacity />\n                            </div>\n                            <information />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="swatch">\n                            <CurrentColorSets />\n                            <ContextMenu />\n                        </div>\n                        <div class=\'color-tab-content\' item-id="colorset">\n                            <ColorSetsChooser />\n                        </div>                        \n                    </div>\n\n            </div>\n        ')}},{key:lr("$tabHeader .color-tab-item"),value:function(t,e){if(!e.hasClass("active")){var n;(n=this.refs.$tabHeader.$(".active"))&&n.removeClass("active"),e.addClass("active"),(n=this.refs.$tabBody.$(".active"))&&n.removeClass("active");var r=this.refs.$tabBody.$("[item-id='".concat(e.attr("item-id"),"']"));r&&r.addClass("active")}}},{key:"components",value:function(){return{Hue:ov,Opacity:dv,Palette:Pd,Information:_h,CurrentColorSets:Kh,ColorSetsChooser:zh,ContextMenu:ed}}}])&&ib(e.prototype,n),r&&ib(e,r),i}(Sy),fb={create:function(t){switch(t.type){case"macos":return new sd(t);case"xd":return new Uv(t);case"xd-tab":return new lb(t);case"ring":return new Bv(t);case"ring-tab":return new nb(t);case"mini":return new Fd(t);case"mini-vertical":return new Sv(t);case"sketch":case"palette":default:return new Dd(t)}},ColorPicker:Dd,ChromeDevToolColorPicker:Dd,MacOSColorPicker:sd,RingColorPicker:Bv,MiniColorPicker:Fd,MiniVerticalColorPicker:Sv,XDColorPicker:Uv};function pb(t){return(pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function db(t,e){return(db=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mb(t);if(e){var o=mb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bb(this,n)}}function bb(t,e){return!e||"object"!==pb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mb(t){return(mb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gb=["flex","grid"],wb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&db(t,e)}(i,t);var e,n,r,o=vb(i);function i(){return yb(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"isLayoutItem",value:function(){return gb.includes(this.parent.layout)}},{key:"hasLayout",value:function(){return gb.includes(this.json.layout)}},{key:"isInGrid",value:function(){return!!this.isLayoutItem()&&"grid"===this.parent.layout}},{key:"isInFlex",value:function(){return!!this.isLayoutItem()&&"flex"===this.parent.layout}},{key:"isGroup",get:function(){return Boolean(this.layers.length)}}])&&hb(e.prototype,n),r&&hb(e,r),i}(Ra);function Ob(t){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kb(Object(n),!0).forEach((function(e){jb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rb(t,e,n){return(Rb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cb(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $b(t,e){return($b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Eb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cb(t);if(e){var o=Cb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _b(this,n)}}function _b(t,e){return!e||"object"!==Ob(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cb(t){return(Cb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$b(t,e)}(i,t);var e,n,r,o=Eb(i);function i(){return Pb(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}}],(n=[{key:"getDefaultObject",value:function(t){return Rb(Cb(i.prototype),"getDefaultObject",this).call(this,Sb({itemType:"selector",selector:"",properties:[]},t))}},{key:"toCloneObject",value:function(){return Sb(Sb({},Rb(Cb(i.prototype),"toCloneObject",this).call(this)),{},{selector:this.json.selector,properties:this.json.properties.map((function(t){return pe(t)}))})}},{key:"isMultiStyle",value:function(t){switch(t){case"background-image":case"var":return!0}return!1}},{key:"getMultiStyleString",value:function(t){switch(t.key){case"background-image":return t.value.toString()+";"}return t.value.toString()+" !important;"}},{key:"toPropertyString",value:function(){var t=this;return this.json.properties.map((function(e){if(t.isMultiStyle(e.key))return t.getMultiStyleString(e);var n=e.value.toString();if(n){var r=e.key;return"x"===r?r="left":"y"===r&&(r="top"),"".concat(r,": ").concat(n," !important;")}return""})).join("\n")}},{key:"toCSSText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t).concat(this.json.selector," {\n    ").concat(this.toPropertyString(),"\n}")}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.toCSSText(t)}}])&&xb(e.prototype,n),r&&xb(e,r),i}(Ui);function Db(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ab=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parse",value:function(t){var e=t.split(" ").filter((function(t){return t.trim()})).map((function(t){return R.parse(t)})),n=R.percent(0),r=R.percent(0),o=R.percent(0),i=R.percent(0);return 1===e.length?(n=e[0].clone(),r=e[0].clone(),o=e[0].clone(),i=e[0].clone()):2===e.length?(n=e[0].clone(),r=e[1].clone(),o=e[0].clone(),i=e[1].clone()):3===e.length?(n=e[0].clone(),r=e[1].clone(),o=e[2].clone(),i=e[1].clone()):4===e.length&&(n=e[0].clone(),r=e[1].clone(),o=e[2].clone(),i=e[3].clone()),[e.length,n,r,o,i]}}],(n=null)&&Db(e.prototype,n),r&&Db(e,r),t}();function Ib(t){return(Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mb(Object(n),!0).forEach((function(e){Bb(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hb(t,e,n){return(Hb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kb(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xb(t,e){return(Xb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kb(t);if(e){var o=Kb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(t,e){return!e||"object"!==Ib(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kb(t){return(Kb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ub=/(content\-box|padding\-box|border\-box|margin\-box|view\-box|stroke\-box|fill\-box|none|(inset|circle|ellipse|polygon|path|svg|url)(\(([^\)]*)\))?)/gi,Wb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xb(t,e)}(i,t);var e,n,r,o=Yb(i);function i(){return Fb(this,i),o.apply(this,arguments)}return e=i,r=[{key:"toCSS",value:function(t){return new i(t).toCSS()}},{key:"toString",value:function(t){return i.toCSS(t)["clip-path"]}},{key:"parse",value:function(t){return new i(t)}},{key:"parseStyle",value:function(t){var e={};return t?((t.match(Ub)||[]).forEach((function(t,n){if(t.includes("-box"))e.box=t;else{var r=Vb(t.split("("),2),o=r[0],i=r[1];i=i||"",i="none"===o?"":i.split(")")[0],e.type=o,e.value=i}})),e):{}}},{key:"parseStyleForCircle",value:function(t){var e=new R("","closest-side"),n="";if((t=t||"50%").includes("at")){var r=Vb(t.split("at").map((function(t){return t.trim()})),2);e=r[0],n=r[1]}else n=t.trim();var o=Vb(n.split(" "),2),i=o[0],a=o[1];return re(a)&&(a=i),{radius:e,x:i=R.parse(i),y:a=R.parse(a)}}},{key:"parseStyleForEllipse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",e="50% 50%",n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=Vb(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=Vb(i,2),c=a[0],u=a[1];re(u)&&(u=c),c=R.parse(c),u=R.parse(u);var s=e.split(" "),l=Vb(s,2),f=l[0],p=l[1];return re(p)&&(p=f),{radiusX:f=R.parse(f),radiusY:p=R.parse(p),x:c,y:u}}},{key:"parseStyleForInset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("round"),n=Vb(e,2),r=n[0],o=n[1],i=Ab.parse(r),a=Vb(i,5),c=a[0],u=a[1],s=a[2],l=a[3],f=a[4];if(o)var p=Ab.parse(o),y=Vb(p,5),h=y[0],d=y[1],v=y[2],b=y[3],m=y[4];return{isAll:1===c,top:u,right:s,bottom:l,left:f,round:o,isAllRadius:1===h,topRadius:d,rightRadius:v,bottomRadius:b,leftRadius:m}}},{key:"parseStyleForPolygon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(",").filter((function(t){return t.trim()})).map((function(t){var e=Vb(t.trim().split(" "),2),n=e[0],r=e[1];return{x:R.parse(n),y:R.parse(r)}}))}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hb(Kb(i.prototype),"getDefaultObject",this).call(this,zb({itemType:"clip-path",type:"none",value:""},t))}},{key:"toCloneObject",value:function(){return zb(zb({},Hb(Kb(i.prototype),"toCloneObject",this).call(this)),{},{value:this.json.value})}},{key:"toString",value:function(){var t=this.json.type,e=this.json.value,n=this.json.box,r="";switch(t){case"circle":case"inset":case"ellipse":case"polygon":case"path":r="".concat(t,"(").concat(e,")");break;case"svg":r="url(#".concat(e,")");break;default:r="none"}return n?"".concat(n," ").concat(r):r}},{key:"toCSS",value:function(){return{"clip-path":this.toString()}}}])&&Gb(e.prototype,n),r&&Gb(e,r),i}(Ui);function Zb(t){return(Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Qb(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jb(t){return function(t){if(Array.isArray(t))return tm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Qb(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qb(t,e){if(t){if("string"==typeof t)return tm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tm(t,e):void 0}}function tm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?em(Object(n),!0).forEach((function(e){rm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function im(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function am(t,e,n){return(am="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cm(t,e){return(cm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function um(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lm(t);if(e){var o=lm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(t,e){return!e||"object"!==Zb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lm(t){return(lm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cm(t,e)}(i,t);var e,n,r,o=um(i);function i(){return om(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return am(lm(i.prototype),"getDefaultObject",this).call(this,nm({position:"absolute",x:R.z(),y:R.z(),right:"",bottom:"",rootVariable:"",variable:"",width:R.px(300),height:R.px(300),color:"black","font-size":R.px(13),overflow:"visible","z-index":R.auto,layout:"default","flex-layout":"display:flex;","grid-layout":"display:grid;",selectors:[],svg:[]},t))}},{key:"toCloneObject",value:function(){var t=this.json;return nm(nm({},am(lm(i.prototype),"toCloneObject",this).call(this)),{},{position:t.position,right:t.right+"",bottom:t.bottom+"",rootVariable:t.rootVariable,variable:t.variable,transform:t.transform,filter:t.filter,"backdrop-filter":t["backdrop-filter"],"background-color":t["background-color"],"background-image":t["background-image"],"text-clip":t["text-clip"],"border-radius":t["border-radius"],border:t.border,"box-shadow":t["box-shadow"],"text-shadow":t["text-shadow"],"clip-path":t["clip-path"],color:t.color,"font-size":t["font-size"]+"","font-stretch":t["font-stretch"]+"","line-height":t["line-height"]+"","text-align":t["text-align"]+"","text-transform":t["text-transform"]+"","text-decoration":t["text-decoration"]+"","letter-spacing":t["letter-spacing"]+"","word-spacing":t["word-spacing"]+"","text-indent":t["text-indent"]+"","perspective-origin":t["perspective-origin"],"transform-origin":t["transform-origin"],"transform-style":t["transform-style"],perspective:t.perspective+"","mix-blend-mode":t["mix-blend-mode"],overflow:t.overflow,opacity:t.opacity+"",rotate:t.rotate+"","flex-layout":t["flex-layout"],"grid-layout":t["grid-layout"],animation:t.animation,transition:t.transition,selectors:t.selectors.map((function(t){return t.clone()})),svg:t.svg.map((function(t){return t.clone()}))})}},{key:"convert",value:function(t){return t=am(lm(i.prototype),"convert",this).call(this,t)}},{key:"addSelector",value:function(t){return this.json.selectors.push(t),t}},{key:"createSelector",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSelector(new Tb(nm({checked:!0},t)))}},{key:"removePropertyList",value:function(t,e){t.splice(e,1)}},{key:"removeSelector",value:function(t){this.removePropertyList(this.json.selectors,t)}},{key:"enableHasChildren",value:function(){return!0}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(Jb(t.splice(e,1))))}},{key:"updateSelector",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.selectors[+t].reset(e)}},{key:"setSize",value:function(t){this.reset(t)}},{key:"setBorder",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this.json.border;if("all"===t)n?this.json.border={all:n}:["top","right","bottom","left"].forEach((function(t){delete e.json.border[t]}));else{if(r.all&&re(n)){var o=nm({},r.all);r.top=nm({},o),r.bottom=nm({},o),r.left=nm({},o),r.right=nm({},o)}r.all&&delete r.all,n&&(this.json.border[t]=n)}}},{key:"getBorder",value:function(t){return this.json.border[t]||{}}},{key:"setBorderRadius",value:function(t,e){this.json.borderRadius=e}},{key:"traverse",value:function(t,e,n){var r=this;t.isAttribute()||(n||!t.isLayoutItem()||t.isRootItem())&&(e.push(t),t.children.forEach((function(t){r.traverse(t,e)})))}},{key:"tree",value:function(t){var e=this,n=[];return this.children.forEach((function(r){e.traverse(r,n,t)})),n}},{key:"toPropertyCSS",value:function(t){var e={};return t.forEach((function(t){Jt(t.toCSS(),(function(t,n){e[t]||(e[t]=[]),e[t].push(n)}))})),he(e)}},{key:"toStringPropertyCSS",value:function(t){return we(this.json[t])}},{key:"toBackgroundImageCSS",value:function(){var t=[];return Jf.parseStyle(this.json.pattern).forEach((function(e){t.push.apply(t,Jb(Of.parseStyle(we(e.toCSS()))))})),t.push.apply(t,Jb(Of.parseStyle(we(this.json["background-image"])))),Of.joinCSS(t)}},{key:"toLayoutCSS",value:function(){var t=this.json.layout;if(this.hasLayout()){if("flex"===t)return this.toFlexLayoutCSS();if("grid"===t)return this.toGridLayoutCSS()}return{}}},{key:"toLayoutItemCSS",value:function(){var t=this.json.parent.layout,e={};return"flex"===t?e={position:"relative",left:"auto !important",top:"auto !important"}:"grid"===t&&(e={position:"relative",left:"auto !important",top:"auto !important",width:"auto !important",height:"auto !important"}),"flex"===t?e=nm(nm({},e),we(this.json["flex-layout-item"])):"grid"===t&&(e=nm(nm({},e),we(this.json["grid-layout-item"]))),e}},{key:"toFlexLayoutCSS",value:function(){return nm({display:"flex"},this.toStringPropertyCSS("flex-layout"))}},{key:"toGridLayoutCSS",value:function(){return nm({display:"grid"},this.toStringPropertyCSS("grid-layout"))}},{key:"toBorderCSS",value:function(){return this.toStringPropertyCSS("border")}},{key:"toKeyCSS",value:function(t){return this.json[t]?rm({},t,this.json[t]):{}}},{key:"toAnimationKeyframes",value:function(t){return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:t}]}},{key:"toString",value:function(){return ge(this.toCSS())}},{key:"toExport",value:function(){return ge(this.toCSS(!0))}},{key:"toExportSVGCode",value:function(){return""}},{key:"toBoxModelCSS",value:function(){var t=this.json,e={};return t["margin-top"]&&(e["margin-top"]=t["margin-top"]),t["margin-bottom"]&&(e["margin-bottom"]=t["margin-bottom"]),t["margin-left"]&&(e["margin-left"]=t["margin-left"]),t["margin-right"]&&(e["margin-right"]=t["margin-right"]),t["padding-top"]&&(e["padding-top"]=t["padding-top"]),t["padding-bottom"]&&(e["padding-bottom"]=t["padding-bottom"]),t["padding-left"]&&(e["padding-left"]=t["padding-left"]),t["padding-right"]&&(e["padding-right"]=t["padding-right"]),e}},{key:"toKeyListCSS",value:function(){for(var t=this.json,e={},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.filter((function(e){return oe(e)&&""!==t[e]})).forEach((function(n){e[n]=t[n]})),e}},{key:"toDefaultCSS",value:function(){var t={};return this.isAbsolute&&(this.json.x&&(t.left=this.json.x),this.json.y&&(t.top=this.json.y)),t.visibility=this.json.visible?"visible":"hidden",nm(nm({},t),this.toKeyListCSS("position","right","bottom","width","height","overflow","z-index","box-sizing","background-color","color","opacity","mix-blend-mode","transform-origin","transform","transform-style","perspective","perspective-origin","font-size","font-stretch","line-height","font-weight","font-family","font-style","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent","border-radius","filter","backdrop-filter","box-shadow","text-shadow","offset-path","animation","transition"))}},{key:"toDefaultSVGCSS",value:function(){return nm(nm({},{overflow:"visible"}),this.toKeyListCSS("transform","font-size","font-stretch","line-height","font-weight","font-family","font-style","text-align","text-transform","text-decoration","letter-spacing","word-spacing","text-indent"))}},{key:"toVariableCSS",value:function(){var t={};return this.json.variable.split(";").filter((function(t){return t.trim()})).forEach((function(e){var n=qb(e.split(":"),2),r=n[0],o=n[1];t["--".concat(r)]=o})),t}},{key:"toRootVariableCSS",value:function(){var t={};return this.json.rootVariable.split(";").filter((function(t){return t.trim()})).forEach((function(e){var n=qb(e.split(":"),2),r=n[0],o=n[1];t["--".concat(r)]=o})),t}},{key:"toRootVariableString",value:function(){return ge(this.toRootVariableCSS())}},{key:"toWebkitCSS",value:function(){var t=this.toKeyListCSS("text-fill-color","text-stroke-color","text-stroke-width","background-clip"),e={};return Jt(t,(function(t,n){e["-webkit-".concat(t)]=n})),e}},{key:"toTextClipCSS",value:function(){var t={};return"text"===this.json["text-clip"]&&(t["-webkit-background-clip"]="text",t["-webkit-text-fill-color"]="transparent",t.color="transparent"),t}},{key:"toClipPathCSS",value:function(){var t=this.json["clip-path"];switch(Wb.parseStyle(t).type){case"path":case"svg":t="url(#".concat(this.clipPathId,")")}return{"clip-path":t}}},{key:"toCSS",value:function(){return Object.assign({},this.toVariableCSS(),this.toDefaultCSS(),this.toClipPathCSS(),this.toWebkitCSS(),this.toTextClipCSS(),this.toBoxModelCSS(),this.toBorderCSS(),this.toBackgroundImageCSS(),this.toLayoutCSS(),this.toLayoutItemCSS())}},{key:"toSVGCSS",value:function(){return Object.assign({},this.toVariableCSS(),this.toDefaultSVGCSS(),this.toClipPathCSS(),this.toWebkitCSS(),this.toTextClipCSS(),this.toBoxModelCSS(),this.toBorderCSS(),this.toBackgroundImageCSS(),this.toLayoutCSS(),this.toLayoutItemCSS())}},{key:"toSelectorString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.json.selectors.map((function(e){return e.toString(t)})).join("\n\n")}},{key:"toNestedCSS",value:function(t){return[]}},{key:"toNestedBoundCSS",value:function(t){return[]}},{key:"generateView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="\n".concat(t," {  /* ").concat(this.json.itemType," */\n    ").concat(ge(this.toCSS(),"\n    "),"; \n    ").concat(e,"\n}\n").concat(this.toNestedCSS().map((function(e){return"".concat(t," ").concat(e.selector," { \n      ").concat(e.cssText?e.cssText:ge(e.css||{},"\n\t\t"),"; \n  }")})).join("\n"),"\n").concat(this.toSelectorString(t),"\n");return n}},{key:"generateDragView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.generateView(t,e).replace(/background\-/gi,"");return n}},{key:"generateSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t){var e=this.json.width.value,n=this.json.height.value;return'\n<svg width="'.concat(e,'" height="').concat(n,'" viewBox="0 0 ').concat(e," ").concat(n,'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">\n  ').concat(this.rootSVG,"\n</svg>")}return this.svg}},{key:"wrapperRootSVG",value:function(t,e,n,r,o){return"\n    <g>\n      ".concat(this.toDefString,"\n      ").concat(o,"\n    </g>\n    ")}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.layers,i=r.width,a=r.height,c=r.elementType,u=c||"div",s=this.toCSS();return delete s.left,delete s.top,"absolute"===s.position&&delete s.position,n?this.wrapperRootSVG(t,e,i,a,'\n        <g transform="translate('.concat(t,", ").concat(e,')">      \n          <foreignObject ').concat(Oe({width:i.value,height:a.value}),'>\n            <div xmlns="http://www.w3.org/1999/xhtml">\n              <').concat(u,' style="').concat(ge(s),'" ></').concat(u,">      \n            </div>\n          </foreignObject>    \n          ").concat(o.map((function(t){return t.svg})).join("\n\t"),"          \n        </g>\n\n      ")):"\n        ".concat(this.toDefString,'\n        <g transform="translate(').concat(t,", ").concat(e,')">\n          <foreignObject ').concat(Oe({width:i.value,height:a.value}),'>\n            <div xmlns="http://www.w3.org/1999/xhtml">\n              <').concat(u,' style="').concat(ge(s),'" ></').concat(u,">      \n            </div>\n          </foreignObject>    \n          ").concat(o.map((function(t){return t.svg})).join("\n\t"),"                \n        </g>             \n     \n      ")}},{key:"toBound",value:function(){var t={x:this.json.x?this.json.x.clone():R.z(),y:this.json.y?this.json.y.clone():R.z(),width:this.json.width.clone(),height:this.json.height.clone()};return t.x2=R.px(t.x.value+t.width.value),t.y2=R.px(t.y.value+t.height.value),t}},{key:"updateFunction",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=t.$('[data-id="'.concat(this.innerSVGId,'"]'));if(n){var r=this.toDefInnerString.trim();if(r){var o=n.$("defs");o.html(r)}}else{var i=this.toDefString.trim();if(i){var a=er.createByHTML(i);a&&t.prepend(a)}}}}},{key:"html",get:function(){var t=this.json,e=t.elementType,n=t.id,r=t.name,o=t.layers,i=t.itemType,a=e||"div";return"<".concat(a,' class="').concat(ke(rm({"element-item":!0},i,!0)),'" ').concat(Oe({"data-id":n,"data-title":r}),">\n    ").concat(this.toDefString,"\n  ").concat(o.map((function(t){return t.html})).join("\n\t"),"\n</").concat(a,">")}},{key:"svg",get:function(){var t=this.json,e=t.x,n=t.y;return e=e.value,n=n.value,this.toSVG(e,n)}},{key:"rootSVG",get:function(){return this.toSVG(0,0,!0)}},{key:"toDefInnerString",get:function(){return"\n      ".concat(this.toClipPath,"\n    ")}},{key:"toClipPath",get:function(){var t=Wb.parseStyle(this.json["clip-path"]),e=t.value;switch(t.type){case"path":return'<clipPath id="'.concat(this.clipPathId,'"><path d="').concat(e,'" /></clipPath>');case"svg":return'<clipPath id="'.concat(this.clipPathId,'">').concat(e,"</clipPath>")}return""}},{key:"innerSVGId",get:function(){return this.json.id+"inner-svg"}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return t?"\n    <svg class='inner-svg-element' data-id=\"".concat(this.innerSVGId,'" width="0" height="0">\n      <defs>\n        ').concat(t,"\n      </defs>\n    </svg>\n    "):""}},{key:"clipPathId",get:function(){return this.json.id+"clip-path"}}])&&im(e.prototype,n),r&&im(e,r),i}(wb),pm='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 5v3c0 .55.45 1 1 1s1-.45 1-1V6c0-.55.45-1 1-1h2c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2zm1 10c-.55 0-1 .45-1 1v3c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1-.45-1-1v-2c0-.55-.45-1-1-1zm15 3c0 .55-.45 1-1 1h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zm0-15h-3c-.55 0-1 .45-1 1s.45 1 1 1h2c.55 0 1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V5c0-1.1-.9-2-2-2z"/></svg>';function ym(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ym(Object(n),!0).forEach((function(e){dm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vm=hm(hm({},{fullscreen:pm}),{},{arrow_right:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M10 17l5-5-5-5v10z"/>\n    </svg>\n',group:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>\n    </svg>\n',volume_down:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>\n    </svg>\n',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M14 7l-5 5 5 5V7z"/></svg>',volume_up:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>\n</svg>',volume_off:'\n<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>\n</svg>\n',pentool:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <g transform="translate(4.000003875248012, 4.000001937624006)">\n        <path stroke="currentColor" d="M 7.501491970838878 -0.0000015572448855733659Q 14.336036333057622 7.389304433496911 15.674208571053226 11.025537025755131Q 17.012380809048864 14.661769618013372 12.854180922821438 14.544928811787997L 12.854180922821438 16.99999278410904L 3.2146550430021494 16.99999278410904L 3.2146550430021494 14.544928811787997Q -0.8480130988910353 14.661769618013372 0.22369613306813782 11.025537025755131Q 1.295405365027311 7.389304433496911 7.501491970838878 -0.0000015572448855733659Z M 7.501491970838878 -0.0000015572448855733659M 7.043097362212707 10.615180199186797L 7.043097362212707 2.029497238417552Q 2.4235653311211847 7.389304433496911 1.2143202542326725 11.099378313047254Q 0.22369613306813782 14.380813978493594 4.269842778971384 13.709709450113499L 4.269842778971384 16.233605781316655L 11.751764459057853 16.233605781316655L 11.751764459057853 13.709709450113499Q 15.84146041516868 14.140123940309786 14.670231046646997 10.775846698306177Q 14.195747591990225 9.593976493057127 8.077664264490855 2.029497238417552L 8.077664264490855 10.615180199186797L 7.043097362212707 10.615180199186797Z"/>\n    </g>\n</svg>',launch:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>\n    </svg>',apps:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/></svg>',outline_rect:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n    </svg>\n',outline_circle:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>\n    </svg>\n',keyboard:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/></svg>',local_movie:'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"/></svg>',same_height:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,4 L20,4Z M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',same_width:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M20,4 L20,20Z M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',middle:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,12 L20,12Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',bottom:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,20 L20,20Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',top:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M4,4 L20,4Z M10,8 L10,16 L14,16 L14,8Z" stroke-width="1" />\n</svg>\n',right:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M20,4 L20,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',center:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M12,4 L12,20Z M6,10 L18,10 L18,14 L6,14Z" stroke-width="1" />\n</svg>\n',left:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">\n    <path d="M2,4 L2,20Z M6,10 L16,10 L16,14 L6,14Z" stroke-width="1" />\n</svg>\n',flag:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"/></svg>',lens:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>',local_library:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"/></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="a" d="M0 0h24v24H0V0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" d="M7.24 8.75c-.26-.48-.39-1.03-.39-1.67 0-.61.13-1.16.4-1.67.26-.5.63-.93 1.11-1.29.48-.35 1.05-.63 1.7-.83.66-.19 1.39-.29 2.18-.29.81 0 1.54.11 2.21.34.66.22 1.23.54 1.69.94.47.4.83.88 1.08 1.43.25.55.38 1.15.38 1.81h-3.01c0-.31-.05-.59-.15-.85-.09-.27-.24-.49-.44-.68-.2-.19-.45-.33-.75-.44-.3-.1-.66-.16-1.06-.16-.39 0-.74.04-1.03.13-.29.09-.53.21-.72.36-.19.16-.34.34-.44.55-.1.21-.15.43-.15.66 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.05-.08-.11-.17-.15-.25zM21 12v-2H3v2h9.62c.18.07.4.14.55.2.37.17.66.34.87.51.21.17.35.36.43.57.07.2.11.43.11.69 0 .23-.05.45-.14.66-.09.2-.23.38-.42.53-.19.15-.42.26-.71.35-.29.08-.63.13-1.01.13-.43 0-.83-.04-1.18-.13s-.66-.23-.91-.42c-.25-.19-.45-.44-.59-.75-.14-.31-.25-.76-.25-1.21H6.4c0 .55.08 1.13.24 1.58.16.45.37.85.65 1.21.28.35.6.66.98.92.37.26.78.48 1.22.65.44.17.9.3 1.38.39.48.08.96.13 1.44.13.8 0 1.53-.09 2.18-.28s1.21-.45 1.67-.79c.46-.34.82-.77 1.07-1.27s.38-1.07.38-1.71c0-.6-.1-1.14-.31-1.61-.05-.11-.11-.23-.17-.33H21z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/></svg>',cylinder:'\n<svg width="24" height="24" viewBox="0 0 24 24" version="1.1" style=\'transform:scale(0.8)\'>\n<g class="cylinder">\n<path d="M 12 0 C 7.636719 0 3 1.226562 3 3.5 L 3 20.5 C 3 22.773438 7.636719 24 12 24 C 16.363281 24 21 22.773438 21 20.5 L 21 3.5 C 21 1.226562 16.363281 0 12 0 Z M 20 19.121094 C 19.921875 19.140625 19.84375 19.171875 19.78125 19.230469 C 19.574219 19.414062 19.554688 19.726562 19.738281 19.933594 C 19.914062 20.128906 20 20.320312 20 20.5 C 20 21.542969 16.957031 23 12 23 C 7.042969 23 4 21.542969 4 20.5 C 4 20.320312 4.085938 20.128906 4.261719 19.933594 C 4.445312 19.726562 4.425781 19.410156 4.21875 19.226562 C 4.15625 19.171875 4.078125 19.140625 4 19.121094 L 4 5.160156 C 5.59375 6.363281 8.863281 7 12 7 C 15.136719 7 18.40625 6.363281 20 5.160156 Z M 12 6 C 7.042969 6 4 4.542969 4 3.5 C 4 2.457031 7.042969 1 12 1 C 16.957031 1 20 2.457031 20 3.5 C 20 4.542969 16.957031 6 12 6 Z M 12 6 "/>\n</g>\n</svg>\n',text_rotate:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.75 3h-1.5L6.5 14h2.1l.9-2.2h5l.9 2.2h2.1L12.75 3zm-2.62 7L12 4.98 13.87 10h-3.74zm10.37 8l-3-3v2H5v2h12.5v2l3-3z"/></svg>',device_hub:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"/></svg>',control_point:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>',flip_camera:'\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"\n\t height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">\n    <path d="M9,12c0,1.66,1.34,3,3,3s3-1.34,3-3s-1.34-3-3-3S9,10.34,9,12z"/>\n    <path d="M8,10V8H5.09C6.47,5.61,9.05,4,12,4c3.72,0,6.85,2.56,7.74,6h2.06c-0.93-4.56-4.96-8-9.8-8C8.73,2,5.82,3.58,4,6.01V4H2v6\n        H8z"/>\n    <path d="M16,14v2h2.91c-1.38,2.39-3.96,4-6.91,4c-3.72,0-6.85-2.56-7.74-6H2.2c0.93,4.56,4.96,8,9.8,8c3.27,0,6.18-1.58,8-4.01V20\n        h2v-6H16z"/>\n</svg>\n',flipY:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/></svg>',flip:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"/></svg>',account_tree:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"/></svg>',format_shapes:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/></svg>',merge:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"/></svg>',texture:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"/></svg>',settings_input_component:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"/></svg>',view_comfy:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"/></svg>',camera_roll:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z"/></svg>',broken_image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"/></svg>',shadow:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"/></svg>',opacity:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"/></svg>',looks:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z"/></svg>',vintage:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></svg>',waves:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"/></svg>',blur_linear:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"/></svg>',blur:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"/></svg>',landscape:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"/></svg>',palette:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',diffuse:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z"/></svg>',specular:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"/></svg>',photo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>',near_me:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 3L3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"/></svg>',view_list:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"/></svg>',flash_on:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 2v11h3v9l7-12h-4l4-8z"/></svg>',doc:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>',storage:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></svg>',archive:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"/></svg>',file_copy:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"/></svg>',gps_fixed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>',refresh:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>',cat:'\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="864px" height="864px" viewBox="0 0 864 864" enable-background="new 0 0 864 864">\n<path d="M712.4846,631.2673c-8.3777-59.9758-44.6997-121.2822-117.7703-198.7816\n\tc-51.7295-54.8649-72.0865-105.7791-55.8514-139.6883c12.4393-25.9817,42.587-35.8935,65.343-34.1103\n\tc26.3435,2.0661,37.3148,18.5905,41.88,32.0888c6.5847,19.471,2.7829,43.5175-8.4753,53.6029\n\tc-2.4382,2.1843-19.5444,15.6083-31.617,2.486c-16.0995-17.4994,1.3123-34.1181,1.3123-34.1181s25.7198-19.4211,11.5477-34.6431\n\tc-14.1721-15.2219-81.6211,4.7241-73.1766,62.9098c2.102,14.4833,9.8525,35.0453,41.7667,49.9105\n\tc31.3411,14.5985,62.0806,11.5356,84.3365-8.4017c26.8387-24.0431,36.221-68.5172,22.8163-108.1526\n\tc-13.0433-38.5685-45.3375-63.5167-86.387-66.7359c-22.4584-1.7602-45.9053,2.9182-66.0231,13.1776\n\tc-22.1882,11.3155-39.3094,28.5606-49.5124,49.8713c-15.207,31.7608-27.0118,99.5788,64.7797,196.9337\n\tc64.4428,68.3486,97.5892,122.6011,104.3126,170.7358c6.1263,43.8577-32.9753,141.2908-59.1734,141.8642\n\tc-18.2653,0.3997-13.0681-28.0174-11.1219-46.1832c3.4623-32.3166,9.02-64.4668,7.8147-96.946\n\tc-1.7692-47.6774-16.0649-83.7216-38.2463-125.1911c-20.1995-37.7643-37.8974-60.6029-92.5699-111.4463\n\tc-13.4884-12.5438-27.4699-22.5866-44.7675-38.1754c-17.5431-15.8101-21.9685-33.5474-24.195-48.6835\n\tc-4.6472-31.5926,5.266-35.0392,22.933-61.1816c7.51,6.1134,15.132,13.1576,22.5878,21.2593\n\tc0.8908,0.9678,2.1063,1.4586,3.3257,1.4586c1.0938,0,2.1906-0.3947,3.059-1.1939c1.8362-1.6895,1.9548-4.548,0.2647-6.3846\n\tc-8.043-8.7399-16.2394-16.2892-24.29-22.8068c1.0196-1.6815,1.9806-3.3693,2.913-5.06\n\tc11.2809,3.873,22.4781,8.5857,32.8744,14.3263c0.6923,0.3824,1.4415,0.5638,2.1804,0.5638c1.592,0,3.1354-0.8433,3.9596-2.3353\n\tc1.2061-2.1848,0.4133-4.9333-1.7714-6.14c-10.5501-5.8255-21.7927-10.625-33.0861-14.5846\n\tc1.7051-3.6655,3.2152-7.3481,4.5178-11.0449c9.9095,1.0547,20.2559,2.6507,30.8756,4.9542\n\tc2.4407,0.5281,4.8451-1.0193,5.3736-3.4585c0.5285-2.4387-1.0193-4.8446-3.4586-5.3736\n\tc-10.3543-2.2456-20.4231-3.8448-30.0823-4.9431c6.761-25.5357,4.0583-51.5754-8.0207-76.8648\n\tC448.2098,115.8869,474.731,76.8288,466.0513,18c-68.8775,17.9071-87.2624,54.1776-94.1043,50.875\n\tc-7.9472-3.8361-40.5018-11.036-62.952-10.6586c-37.278,0.6267-61.382,7.0395-61.382,7.0395\n\tc-11.2537-14.6686-35.9431-36.6889-90.105-41.2683c2.9433,47.1602,13.4346,82.2557,28.5291,102.9373l-0.7433,2.377\n\tc-11.7879,32.4393-13.5817,62.8858-3.8016,89.6451c-9.0883,1.1019-18.5685,2.7173-28.321,4.9987\n\tc-2.4299,0.5687-3.939,2.9991-3.3708,5.429c0.5687,2.4294,2.9972,3.939,5.429,3.3708c10.3087-2.4115,20.3424-4.0428,29.9266-5.0891\n\tc1.4184,2.9763,2.9836,5.904,4.7147,8.7755c-11.2262,4.119-22.4456,9.1879-32.9296,15.4312\n\tc-2.1445,1.2767-2.8476,4.0498-1.5704,6.1939c0.8453,1.4199,2.3461,2.2073,3.8866,2.2073c0.7859,0,1.5827-0.2054,2.3073-0.6369\n\tc10.5541-6.2849,22.0078-11.3381,33.4798-15.4008c3.3157,4.5403,7.0729,8.9251,11.2576,13.1527\n\tc-5.6694,5.3088-11.3757,11.2216-17,17.8125c-1.6199,1.8979-1.3944,4.7505,0.504,6.3699c0.8507,0.7266,1.8935,1.0816,2.931,1.0816\n\tc1.2767,0,2.5456-0.5383,3.4389-1.5856c5.5062-6.4525,11.1144-12.2327,16.692-17.4078c5.7832,5.4212,11.3758,11.1287,15.514,17.8627\n\tc7.8208,12.7265,8.3216,25.8196,6.7598,40.6753c-3.119,29.6671-13.4278,58.0414-20.0391,87.1301\n\tc-16.8163,73.989-9.0635,132.7513,20.7169,202.5388c8.0053,18.7598,17.5698,36.9144,23.7843,56.341\n\tc10.5081,32.8488,7.8436,88.3559,8.2697,122.8419v2.9318c0,0-19.9931,0.1384-28.4717,6.0748\n\tc-8.2555,5.7802-10.3883,21.931-4.3929,28.6906c6.6872,7.5395,21.6739,10.6397,31.6837,11.8093\n\tc119.664,13.9824,293.6021-2.6707,341.7446-8.3345C701.2023,821.2982,721.1432,693.2562,712.4846,631.2673z M437.2106,66.5267\n\tc-0.1946,33.6617-23.5064,50.7886-23.5064,50.7886c-6.2684-17.19-21.1558-25.3943-21.1558-25.3943\n\tC408.2194,68.8708,437.2106,66.5267,437.2106,66.5267z M201.6607,103.3024c0,0-19.8527-14.6264-20.0184-43.3732\n\tc0,0,24.6894,2.0019,38.035,21.6866C219.6773,81.6158,206.999,88.6223,201.6607,103.3024z M215.969,158.6876\n\tc15.0275-4.1452,27.2506-3.8264,37.1033-1.1182c-15.9193,16.5729-7.4137,31.0502-3.2583,36.286\n\tC221.2402,186.9178,215.969,158.6876,215.969,158.6876z M252.8369,194.4974c13.6546-17.1619,7.1357-30.6827,3.4758-35.9226\n\tc24.8589,8.5877,33.2057,32.5095,33.2057,32.5095C274.4792,195.6167,262.4471,196.221,252.8369,194.4974z M308.1766,232.8661\n\tc-4.1644,0.2111-22.0216-7.8084-21.8634-21.8635c0.1244-11.0539,40.2451-7.8568,42.1652,0\n\tC330.8523,220.7164,312.3411,232.655,308.1766,232.8661z M327.2252,191.0843c0,0,8.7972-25.2037,35.2186-33.1565\n\tc-12.424,19.1432-1.5466,31.7233,3.55,36.1478C356.055,196.2867,343.3752,195.9514,327.2252,191.0843z M369.7458,193.0825\n\tc10.0879-20.4091-1.0878-32.4358-4.9794-35.7968c9.66-2.4378,21.5306-2.5917,36.0081,1.4018\n\tC400.7746,158.6876,395.8536,185.0439,369.7458,193.0825z"/>\n</svg>\n\n',shuffle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"/></svg>',replay:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><defs><path id="a" d="M0 0h24v24H0V0z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" clip-path="url(#b)"/></svg>',speed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/></svg>',alternate_reverse:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z" /></svg>',alternate:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>',note:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"/></svg>',rect:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>',circle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>',color_lens:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',cube:'<svg width="24" height="24" style="transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M21 16.5a1 1 0 0 1-.527.881l-7.907 4.443a.996.996 0 0 1-1.132 0l-7.907-4.443A1 1 0 0 1 3 16.5v-9a1 1 0 0 1 .527-.881l7.907-4.443a.995.995 0 0 1 1.132 0l7.907 4.443A1 1 0 0 1 21 7.5v9zM12 4.15L6.042 7.5l5.96 3.35 5.958-3.35-5.958-3.35zM5 15.916l6 3.372V12.58L5 9.209v6.706zm14 0V9.209l-6 3.372v6.707l6-3.373z" /></svg>',polygon:'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M17,15.7V13H19V17L10,21L3,14L7,5H11V7H8.3L5.4,13.6L10.4,18.6L17,15.7M22,5V7H19V10H17V7H14V5H17V2H19V5H22Z" /></svg>',star:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg>',dahaze:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"/></svg>',brush:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>',list:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"/></svg>',grid:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"/></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/></svg>',color:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/></svg>',size:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>',outline_image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"/></svg>',ballot:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><clipPath><use xlink:href="#a" overflow="visible"/></clipPath><path fill-rule="evenodd" clip-rule="evenodd" d="M13 9.5h5v-2h-5v2zm0 7h5v-2h-5v2zm6 4.5H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zM6 11h5V6H6v5zm1-4h3v3H7V7zM6 18h5v-5H6v5zm1-4h3v3H7v-3z"/></svg>',shape:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/></svg>',scatter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="#010101"><circle cx="7" cy="14" r="3"/><circle cx="11" cy="6" r="3"/><circle cx="16.6" cy="17.6" r="3"/></g></svg>',transform:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z"/></svg>',gradient:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',build:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>',autorenew:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>',skip_next:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>',skip_prev:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>',fast_forward:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/></svg>',fast_rewind:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/></svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"/></svg>',input:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"/></svg>',timer:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/></svg>',title:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 4v3h5.5v12h3V7H19V4z"/></svg>',paint:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 4V3c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6h1v4H9v11c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-9h8V4h-3z"/></svg>',border_all:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1z"/></svg>',border_inner:pm,check:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>',video:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>\n    </svg>\n',arrowRight:'\n    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M10 17l5-5-5-5v10z"/></svg>\n',screen:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',repeat:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/></svg>',remove2:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>',setting:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>',artboard:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>',publish:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"/></svg>',add_note:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"/></svg>',add:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>',save:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',export:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/></svg>',lock:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg>',lock_open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"/></svg>',remove:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>',copy:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"/></svg>',visible:'\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>',add_box:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>',add_circle:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>',create_folder:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M22 6H12l-2-2H2v16h20V6zm-3 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"/>\n</svg>',chevron_right:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/>\n</svg>',chevron_left:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>'});function bm(t){return(bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mm(Object(n),!0).forEach((function(e){wm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sm(t,e,n){return(Sm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function jm(t,e){return(jm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rm(t);if(e){var o=Rm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xm(this,n)}}function xm(t,e){return!e||"object"!==bm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rm(t){return(Rm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jm(t,e)}(i,t);var e,n,r,o=Pm(i);function i(){return Om(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getIcon",value:function(){return vm.rect}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Sm(Rm(i.prototype),"getDefaultObject",this).call(this,gm({itemType:"layer",name:"New Layer",tagName:"div"},t))}},{key:"getDefaultTitle",value:function(){return"Layer"}},{key:"getIcon",value:function(){return vm.rect}},{key:"toCloneObject",value:function(){return gm(gm({},Sm(Rm(i.prototype),"toCloneObject",this).call(this)),{},{tagName:this.json.tagName})}},{key:"screenX",get:function(){return this.json.parent?R.px(this.json.parent.screenX.value+(this.json.x||zero).value):this.json.x||R.z()}},{key:"screenY",get:function(){return this.json.parent?R.px(this.json.parent.screenY.value+(this.json.y||zero).value):this.json.y||R.z()}}])&&km(e.prototype,n),r&&km(e,r),i}(fm);function Em(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return function(t,e){var i=0;return i=0===e?n:1===e?r:n+(r-n)*t,o?i+o:i}}function _m(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"width",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"parent",i=null;return"parent"===o?i=t[o][r]:"self"===o&&(i=t[r]),i?n.toPx(i.value):n}function Cm(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",a=null;return"parent"===i?a=t[i][o]:"self"===i&&(a=t[o]),a?n.to(r,a.value):n}function Tm(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"parent",a=R.parse(n),c=R.parse(r);return a.unit===c.unit?Em(t,e,a.value,c.value,a.unit):a.equals(c)?$(0,0,a):function(n,r){var u=_m(t,e,a,o,i),s=_m(t,e,c,o,i);return 0===r?u:1===r?s:Cm(t,e,R.px(u.value+(s.value-u.value)*n),a.unit,o,i)}}function Dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Am=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parseStyle",value:function(t){var e={isAll:!0,"border-radius":R.z(),"border-top-left-radius":R.z(),"border-top-right-radius":R.z(),"border-bottom-right-radius":R.z(),"border-bottom-left-radius":R.z()},n=t.split(" ").filter((function(t){return R.parse(t)}));return 1===n.length?(e.isAll=!0,e["border-radius"]=n[0]):(e.isAll=!1,e["border-top-left-radius"]=n[0],e["border-top-right-radius"]=n[1],e["border-bottom-right-radius"]=n[2],e["border-bottom-left-radius"]=n[3]),e}}],(n=null)&&Dm(e.prototype,n),r&&Dm(e,r),t}(),Im=function(t){return t.isAll?[t["border-radius"]||"0px",t["border-radius"]||"0px",t["border-radius"]||"0px",t["border-radius"]||"0px"]:[t["border-top-left-radius"]||"0px",t["border-top-right-radius"]||"0px",t["border-bottom-right-radius"]||"0px",t["border-bottom-left-radius"]||"0px"]};function Vm(t,e,n,r){for(var o=Im(Am.parseStyle(n)),i=Im(Am.parseStyle(r)),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++)c[u]=Tm(t,e,o[u],i[u]);return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function Lm(t){return(Lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mm(Object(n),!0).forEach((function(e){Bm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hm(t,e,n){return(Hm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Km(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Xm(t,e){return(Xm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ym(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Km(t);if(e){var o=Km(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nm(this,n)}}function Nm(t,e){return!e||"object"!==Lm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Km(t){return(Km=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Um=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xm(t,e)}(i,t);var e,n,r,o=Ym(i);function i(){return Fm(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}},{key:"parseStyle",value:function(t){var e=[];if(!t)return e;var n=vn(t);return e=n.str.split(",").filter((function(t){return t.trim()})).map((function(t){var e=t.split(" "),r=e.filter((function(t){return"inset"===t})),o=e.filter((function(t){return t.includes("@")})).map((function(t){return mn(t,n.matches)})),a=e.filter((function(t){return"inset"!==t&&!t.includes("@")}));return i.parse({inset:!!r.length,color:o[0]||"rgba(0, 0, 0, 1)",offsetX:R.parse(a[0]||"0px"),offsetY:R.parse(a[1]||"0px"),blurRadius:R.parse(a[2]||"0px"),spreadRadius:R.parse(a[3]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return i.parse(t)})).join(", ")}}],(n=[{key:"getDefaultObject",value:function(){return Hm(Km(i.prototype),"getDefaultObject",this).call(this,{itemType:"box-shadow",inset:!1,offsetX:R.z(),offsetY:R.z(),blurRadius:R.z(),spreadRadius:R.z(),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){var t=this.json;return zm(zm({},Hm(Km(i.prototype),"toCloneObject",this).call(this)),{},{inset:t.inset,offsetX:t.offsetX+"",offsetY:t.offsetY+"",blurRadius:t.blurRadius+"",spreadRadius:t.spreadRadius+"",color:t.color})}},{key:"convert",value:function(t){return(t=Hm(Km(i.prototype),"convert",this).call(this,t)).offsetX=R.parse(t.offsetX),t.offsetY=R.parse(t.offsetY),t.blurRadius=R.parse(t.blurRadius),t.spreadRadius=R.parse(t.spreadRadius),t}},{key:"toCSS",value:function(){return{"box-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.inset?"inset ":"").concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.spreadRadius," ").concat(t.color)}}])&&Gm(e.prototype,n),r&&Gm(e,r),i}(Ui);function Wm(t,e,n,r){return function(t,e){return 1===e?r:n}}function Zm(t,e,n,r){var o=Mn.parse(n||"rgba(0, 0, 0, 1)"),i=Mn.parse(r||"rgba(0, 0, 0, 1)");return function(t,e){return 0===e?n:1===e?r:Sn(o,i,t,"rgb")}}function qm(t,e,n,r){for(var o=Um.parseStyle(n),i=Um.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||Um.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[u]||Um.parseStyle("0px 0px 0px 0px rgba(0, 0, 0, 0)")[0];c.push({inset:Wm(0,0,l.inset,f.inset),offsetX:Tm(t,e,l.offsetX,f.offsetX),offsetY:Tm(t,e,l.offsetY,f.offsetY),blurRadius:Tm(t,e,l.blurRadius,f.blurRadius),spreadRadius:Tm(t,e,l.spreadRadius,f.spreadRadius),color:Zm(0,0,l.color,f.color)})}return function(t,e){return Um.join(c.map((function(n){return{inset:n.inset(t,e),offsetX:n.offsetX(t,e),offsetY:n.offsetY(t,e),blurRadius:n.blurRadius(t,e),spreadRadius:n.spreadRadius(t,e),color:n.color(t,e)}})))}}function Jm(t,e,n,r){return Wm(0,0,n,r)}var Qm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return t=+t,function(n){var r=1/t;return"start"==e?r*Math.ceil(n/r):"end"==e?r*Math.floor(n/r):void 0}};function tg(){return Qm(1,"start")}function eg(){return Qm(1,"end")}var ng=function(){return function(t){return Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1}},rg={step:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return Qm(t,e)},"step-start":tg,"step-end":eg,stepStart:tg,stepEnd:eg,"ease-out-elastic":ng,easeOutElastic:ng};function og(t,e,n){return n.toDeg()}function ig(t,e,n,r){var o=R.parse(n),i=R.parse(r);return function(t,e){var n=og(0,0,o),r=og(0,0,i);return 0===e?n:1===e?r:R.deg(n.value+(r.value-n.value)*t).to(o.unit)}}function ag(t){return(ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cg(Object(n),!0).forEach((function(e){sg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pg(t,e,n){return(pg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vg(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yg(t,e){return(yg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vg(t);if(e){var o=vg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dg(this,n)}}function dg(t,e){return!e||"object"!==ag(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vg(t){return(vg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bg,mg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yg(t,e)}(i,t);var e,n,r,o=hg(i);function i(){return lg(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}},{key:"parseStyle",value:function(t){var e=vn(t);return e.str.split(",").filter((function(t){return t.trim()})).map((function(t){var n=t.split(" "),r=n.filter((function(t){return t.includes("@")})).map((function(t){return e.matches[+t.replace("@","")].color})),o=n.filter((function(t){return!t.includes("@")}));return i.parse({color:r[0]||"rgba(0, 0, 0, 1)",offsetX:R.parse(o[0]||"0px"),offsetY:R.parse(o[1]||"0px"),blurRadius:R.parse(o[2]||"0px")})}))}},{key:"join",value:function(t){return t.map((function(t){return i.parse(t)})).join(", ")}}],(n=[{key:"getDefaultObject",value:function(){return pg(vg(i.prototype),"getDefaultObject",this).call(this,{itemType:"text-shadow",offsetX:R.z(),offsetY:R.z(),blurRadius:R.z(),color:"rgba(0, 0, 0, 1)"})}},{key:"toCloneObject",value:function(){return ug(ug({},pg(vg(i.prototype),"toCloneObject",this).call(this)),{},{offsetX:this.json.offsetX+"",offsetY:this.json.offsetY+"",blurRadius:this.json.blurRadius+"",color:this.json.color})}},{key:"convert",value:function(t){return(t=pg(vg(i.prototype),"convert",this).call(this,t)).offsetX=R.parse(t.offsetX),t.offsetY=R.parse(t.offsetY),t.blurRadius=R.parse(t.blurRadius),t}},{key:"toCSS",value:function(){return{"text-shadow":this.toString()}}},{key:"toString",value:function(){var t=this.json;return"".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color)}}])&&fg(e.prototype,n),r&&fg(e,r),i}(Ui);function gg(t,e,n,r){for(var o=mg.parseStyle(n),i=mg.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||mg.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0],f=i[u]||mg.parseStyle("0px 0px 0px rgba(0, 0, 0, 0)")[0];c.push({offsetX:Tm(t,e,l.offsetX,f.offsetX,"width","self"),offsetY:Tm(t,e,l.offsetY,f.offsetY,"height","self"),blurRadius:Tm(t,e,l.blurRadius,f.blurRadius,"radius"),color:Zm(0,0,l.color,f.color)})}return function(t,e){return mg.join(c.map((function(n){return{offsetX:n.offsetX(t,e),offsetY:n.offsetY(t,e),blurRadius:n.blurRadius(t,e),color:n.color(t,e)}})))}}function wg(t,e,n,r){var o={cut:Wm(0,0,n.cut,r.cut),percent:Em(t,e,n.percent,r.percent),px:Em(t,e,n.px,r.px),em:Em(t,e,n.em,r.em),unit:Jm(0,0,n.unit,r.unit),color:Zm(0,0,n.color,r.color)};return function(t,e){return new Nu({cut:o.cut(t,e),percent:o.percent(t,e),px:o.px(t,e),em:o.em(t,e),unit:o.unit(t,e),color:o.color(t,e)})}}function Og(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Math.max(n.length,r.length),i=[],a=0;a<o;a++){var c=n[a],u=r[a];i[a]=c&&u?wg(t,e,c,u):Wm(0,0,c,u)}return function(t,e){return i.map((function(n){return n(t,e)}))}}function kg(t,e,n,r){var o={angle:Em(t,e,n.angle,r.angle),colorsteps:Og(t,e,n.colorsteps,r.colorsteps)};return function(t,e){var n=o.colorsteps(t,e);return new Us({angle:o.angle(t,e),colorsteps:n})}}function Sg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Sg(bg={},"center",!0),Sg(bg,"top",!0),Sg(bg,"left",!0),Sg(bg,"right",!0),Sg(bg,"bottom",!0);function jg(t,e){switch(e){case"width":if("center"===t)return"50%";if("left"===t)return"0%";if("right"===t)return"100%";break;case"height":if("center"===t)return"50%";if("top"===t)return"0%";if("bottom"===t)return"100%"}return t}function Pg(t,e,n,r){n.radialPosition[0]=jg(n.radialPosition[0],"width"),n.radialPosition[1]=jg(n.radialPosition[1],"height"),r.radialPosition[0]=jg(r.radialPosition[0],"width"),r.radialPosition[1]=jg(r.radialPosition[1],"height");var o={radialType:Jm(0,0,n.radialType,r.radialType),radialPositionX:Tm(t,e,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:Tm(t,e,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:Og(t,e,n.colorsteps,r.colorsteps)};return function(t,e){return new Ol({radialType:o.radialType(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function xg(t,e,n,r){var o={angle:Em(t,e,n.angle,r.angle),radialPositionX:Tm(t,e,n.radialPosition[0],r.radialPosition[0],"width","self"),radialPositionY:Tm(t,e,n.radialPosition[1],r.radialPosition[1],"height","self"),colorsteps:Og(t,e,n.colorsteps,r.colorsteps)};return function(t,e){return new Wl({angle:o.angle(t,e),radialPosition:[o.radialPositionX(t,e),o.radialPositionY(t,e)],colorsteps:o.colorsteps(t,e)})}}function Rg(t,e,n,r){var o={image:function(t,e){return e}};if("url"===n.type||"url"===r.type)o.image=Wm(0,0,n,r);else if(n.type!=r.type)o.image=Wm(0,0,n,r);else switch(n.type){case"linear-gradient":o.image=kg(t,e,n,r);break;case"repeating-linear-gradient":o.image=function(t,e,n,r){var o=kg(t,e,n,r);return function(t,e){var n=o(t,e);return new ol({angle:n.angle,colorsteps:n.colorsteps})}}(t,e,n,r);break;case"radial-gradient":o.image=Pg(t,e,n,r);break;case"repeating-radial-gradient":o.image=function(t,e,n,r){var o=Pg(t,e,n,r);return function(t,e){var n=o(t,e);return new Cl({radialType:n.radialType,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(t,e,n,r);break;case"conic-gradient":o.image=xg(t,e,n,r);break;case"repeating-conic-gradient":o.image=function(t,e,n,r){var o=xg(t,e,n,r);return function(t,e){var n=o(t,e);return new of({angle:n.angle,radialPosition:n.radialPosition,colorsteps:n.colorsteps})}}(t,e,n,r)}return function(t,e){return o.image(t,e)}}function $g(t,e,n,r){for(var o=Of.parseStyle(we(n)),i=Of.parseStyle(we(r)),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u]||null,f=i[u]||null;l&&!f?c.push({image:$(0,0,l.image),size:$(0,0,l.size),width:$(0,0,l.width),height:$(0,0,l.height),x:$(0,0,l.x),y:$(0,0,l.y),blendMode:$(0,0,l.blendMode),repeat:$(0,0,l.repeat)}):!l&&f?c.push({image:$(0,0,f.image),size:$(0,0,f.size),width:$(0,0,f.width),height:$(0,0,f.height),x:$(0,0,f.x),y:$(0,0,f.y),blendMode:$(0,0,f.blendMode),repeat:$(0,0,f.repeat)}):l&&f&&c.push({image:Rg(t,e,l.image,f.image),size:Jm(0,0,l.size,f.size),width:Tm(t,e,l.width,f.width,"width","self"),height:Tm(t,e,l.height,f.height,"height","self"),x:Tm(t,e,l.x,f.x,"width","self"),y:Tm(t,e,l.y,f.y,"height","self"),blendMode:Jm(0,0,l.blendMode,f.blendMode),repeat:Jm(0,0,l.repeat,f.repeat)})}return function(t,e){return Of.join(c.map((function(n){return{image:n.image(t,e),size:n.size(t,e),x:n.x(t,e),y:n.y(t,e),width:n.width(t,e),height:n.height(t,e),blendMode:n.blendMode(t,e),repeat:n.repeat(t,e)}})))}}function Eg(t){return(Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Cg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cg(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tg(Object(n),!0).forEach((function(e){Ag(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ag(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ig(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lg(t,e,n){return e&&Vg(t.prototype,e),n&&Vg(t,n),t}function Mg(t,e,n){return(Mg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hg(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function zg(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bg(t,e)}function Bg(t,e){return(Bg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hg(t);if(e){var o=Hg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gg(this,n)}}function Gg(t,e){return!e||"object"!==Eg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hg(t){return(Hg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xg=/((blur|drop\-shadow|hue\-rotate|invert|brightness|contrast|opacity|saturate|sepia)\(([^\)]*)\))/gi,Yg=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,Dg({itemType:"filter"},t))}},{key:"toString",value:function(){return"".concat(this.json.type,"(").concat(this.json.value||"",")")}}],[{key:"parse",value:function(t){var e=rw[t.type];return e?new e(t):new Kg({value:t.type})}},{key:"parseStyle",value:function(t){var e=[];if(!t)return e;var r=vn(t);return(r.str.match(Xg)||[]).forEach((function(t,o){var i=_g(t.split("("),2),a=i[0],c=i[1];if(c=c.split(")")[0],"drop-shadow"===a){var u=c.split(" "),s=u.filter((function(t){return t.includes("@")})).map((function(t){return r.matches[+t.replace("@","")].color})),l=u.filter((function(t){return!t.includes("@")}));e[o]=n.parse({type:a,offsetX:R.parse(l[0]),offsetY:R.parse(l[1]),blurRadius:R.parse(l[2]),color:s[0]||"rgba(0, 0, 0, 1)"})}else e[o]=n.parse({type:a,value:R.parse(c)})})),e}},{key:"join",value:function(t){return t.map((function(t){return n.parse(t)})).join(" ")}}]),n}(Ui),Ng=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"blur",value:n.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Dg(Dg({},Mg(Hg(n.prototype),"toCloneObject",this).call(this)),{},{value:R.parse(this.json.value)})}}]),n}(Yg);Ng.spec={inputType:"range",min:0,max:100,step:1,unit:"px",units:["px","em"],defaultValue:R.z()};var Kg=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"svg",value:n.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Dg(Dg({},Mg(Hg(n.prototype),"toCloneObject",this).call(this)),{},{value:R.parse(this.json.value)})}},{key:"toString",value:function(){return"url(#".concat(this.json.value||"",")")}}]),n}(Yg);Kg.spec={inputType:"select",defaultValue:""};var Ug=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"grayscale",value:n.spec.defaultValue})}},{key:"toCloneObject",value:function(){return Dg(Dg({},Mg(Hg(n.prototype),"toCloneObject",this).call(this)),{},{value:R.parse(this.json.value)})}}]),n}(Yg);Ug.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:R.percent(0)};var Wg=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"hue-rotate",value:n.spec.defaultValue})}}]),n}(Yg);Wg.spec={inputType:"range",min:0,max:360,step:1,unit:"deg",units:["deg"],defaultValue:R.deg(0)};var Zg=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"invert",value:n.spec.defaultValue})}}]),n}(Yg);Zg.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:R.percent(0)};var qg=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"brightness",value:n.spec.defaultValue})}}]),n}(Yg);qg.spec={inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:R.percent(100)};var Jg=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"contrast",value:n.spec.defaultValue})}}]),n}(Yg);Jg.spec={inputType:"range",min:0,max:200,step:1,unit:"%",units:["%"],defaultValue:R.percent(100)};var Qg=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"opacity",value:n.spec.defaultValue})}}]),n}(Yg);Qg.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:R.percent(100)};var tw=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"saturate",value:n.spec.defaultValue})}}]),n}(Yg);tw.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:R.percent(100)};var ew=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"sepia",value:n.spec.defaultValue})}}]),n}(Yg);ew.spec={inputType:"range",min:0,max:100,step:1,unit:"%",units:["%"],defaultValue:R.percent(0)};var nw=function(t){zg(n,t);var e=Fg(n);function n(){return Ig(this,n),e.apply(this,arguments)}return Lg(n,[{key:"getDefaultObject",value:function(){return Mg(Hg(n.prototype),"getDefaultObject",this).call(this,{type:"drop-shadow",multi:!0,offsetX:n.spec.offsetX.defaultValue,offsetY:n.spec.offsetY.defaultValue,blurRadius:n.spec.blurRadius.defaultValue,color:n.spec.color.defaultValue})}},{key:"toString",value:function(){var t=this.json;return"drop-shadow(".concat(t.offsetX," ").concat(t.offsetY," ").concat(t.blurRadius," ").concat(t.color,")")}}]),n}(Yg);nw.spec={offsetX:{title:"Offset X",inputType:"range",min:-100,max:100,step:1,defaultValue:R.z(),unit:"px",units:["px","em"]},offsetY:{title:"Offset Y",inputType:"range",min:-100,max:100,step:1,defaultValue:R.z(),unit:"px",units:["px","em"]},blurRadius:{title:"Blur Radius",inputType:"range",min:0,max:100,step:1,defaultValue:R.z(),unit:"px",units:["px","em","%"]},color:{title:"Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)",unit:"color"}};var rw={blur:Ng,grayscale:Ug,"hue-rotate":Wg,invert:Zg,brightness:qg,contrast:Jg,opacity:Qg,saturate:tw,sepia:ew,"drop-shadow":nw,svg:Kg},ow={BlurFilter:Ng,GrayscaleFilter:Ug,HueRotateFilter:Wg,InvertFilter:Zg,BrightnessFilter:qg,ContrastFilter:Jg,OpacityFilter:Qg,SaturateFilter:tw,SepiaFilter:ew,DropshadowFilter:nw,URLSvgFilter:Kg};function iw(t,e,n,r){var o={type:Jm(0,0,n.type,r.type),value:Wm(0,0,n.value,r.value)};switch(n.type){case"blur":o.value=Tm(t,e,n.value,r.value);break;case"grayscale":case"invert":case"brightness":case"contrast":case"opacity":case"saturate":case"sepia":case"hue-rotate":o.value=Em(t,e,n.value.value,r.value.value,n.value.unit);break;case"drop-shadow":o.offsetX=Tm(t,e,n.offsetX,r.offsetX,"width","self"),o.offsetY=Tm(t,e,n.offsetY,r.offsetY,"height","self"),o.blurRadius=Tm(t,e,n.blurRadius,r.blurRadius,"width","self"),o.spreadRadius=Tm(t,e,n.spreadRadius,r.spreadRadius,"width","self"),o.color=Zm(0,0,n.color,r.color)}return function(t,e){return"drop-shadow"===o.type(t,e)?{type:o.type(t,e),offsetX:o.offsetX(t,e),offsetY:o.offsetY(t,e),blurRadius:o.blurRadius(t,e),spreadRadius:o.spreadRadius(t,e),color:o.color(t,e)}:{type:o.type(t,e),value:o.value(t,e)}}}function aw(t,e,n,r){for(var o=Yg.parseStyle(n),i=Yg.parseStyle(r),a=Math.max(o.length,i.length),c=[],u=0,s=a;u<s;u++){var l=o[u],f=i[u];l&&!f?c.push($(0,0,l)):!l&&f?c.push($(0,0,f)):l.type!=f.type||"svg"===l.type||"svg"===f.type?c.push(Wm(0,0,l,f)):c.push(iw(t,e,l,f))}return function(t,e){return Yg.join(c.map((function(n){return n(t,e)})))}}function cw(t,e,n,r){var o=Wb.parseStyle(n),i=Wb.parseStyle(r),a={type:Wm(0,0,o.type,o.type),value:Wm(0,0,n,r)};if(o.type==i.type&&"none"!=o)switch(o.type){case"circle":o.value=Wb.parseStyleForCircle(o.value),i.value=Wb.parseStyleForCircle(i.value),a.value=function(t,e,n,r){var o={};return"closest-side"===n.radius||"farthest-side"===n.radius||"closest-side"===r.radius||"farthest-side"===r.radius?o.radius=Wm(0,0,n.radius,r.radius):n.radius.unit===r.radius.unit?o.radius=makeInterpolateNumber(t,e,n.radius.value,r.radius.value,n.radius.unit):o.radius=Tm(t,e,n.radius,r.radius,"width","self"),o.x=Tm(t,e,n.x,r.x,"width","self"),o.y=Tm(t,e,n.y,r.y,"height","self"),function(t,e){var n=o.radius(t,e),r=o.x(t,e),i=o.y(t,e),a="".concat(r," ").concat(i),c=n+"";return c.includes("closest-side")?c="closest-side":c.includes("farthest-side")&&(c="farthest-side"),n?"".concat(c," at ").concat(a):"".concat(a)}}(t,e,o.value,i.value);break;case"ellipse":o.value=Wb.parseStyleForEllipse(o.value),i.value=Wb.parseStyleForEllipse(i.value),a.value=function(t,e,n,r){var o={radiusX:Tm(t,e,n.radiusX,r.radiusX,"width","self"),radiusY:Tm(t,e,n.radiusY,r.radiusY,"height","self"),x:Tm(t,e,n.x,r.x,"width","self"),y:Tm(t,e,n.y,r.y,"height","self")};return function(t,e){var n=o.radiusX(t,e),r=o.radiusY(t,e),i=o.x(t,e),a=o.y(t,e);return"".concat(n," ").concat(r," at ").concat(i," ").concat(a)}}(t,e,o.value,i.value);break;case"inset":o.value=Wb.parseStyleForInset(o.value),i.value=Wb.parseStyleForInset(i.value),a.value=function(t,e,n,r){var o={top:Em(t,e,n.top.value,r.top.value,n.top.unit),left:Em(t,e,n.left.value,r.left.value,n.left.unit),right:Em(t,e,n.right.value,r.right.value,n.right.unit),bottom:Em(t,e,n.bottom.value,r.bottom.value,n.bottom.unit),round:Wm(0,0,n.round,r.round),topRadius:Em(t,e,n.topRadius.value,r.topRadius.value,n.topRadius.unit),leftRadius:Em(t,e,n.leftRadius.value,r.leftRadius.value,n.leftRadius.unit),rightRadius:Em(t,e,n.rightRadius.value,r.rightRadius.value,n.rightRadius.unit),bottomRadius:Em(t,e,n.bottomRadius.value,r.bottomRadius.value,n.bottomRadius.unit)};return function(t,e){var n=o.top(t,e),r=o.right(t,e),i=o.bottom(t,e),a=o.left(t,e),c=o.round(t,e),u=o.topRadius(t,e),s=o.leftRadius(t,e),l=o.bottomRadius(t,e),f=o.rightRadius(t,e),p=[n,r,i,a].join(" "),y=[u,f,l,s].join(" ");return"".concat(p," ").concat(c&&y.trim()?"round ".concat(y):"")}}(t,e,o.value,i.value);break;case"polygon":o.value=Wb.parseStyleForPolygon(o.value),i.value=Wb.parseStyleForPolygon(i.value),a.value=function(t,e,n,r){for(var o=Math.max(n.length,r.length),i=[],a=0;a<o;a++){var c=n[a],u=r[a];c&&!u?i.push({x:$(0,0,c.x),y:$(0,0,c.y)}):!c&&u?i.push({x:$(0,0,u.x),y:$(0,0,u.y)}):i.push({x:Tm(t,e,c.x,u.x,"width","self"),y:Tm(t,e,c.y,u.y,"height","self")})}return function(t,e){return i.map((function(n){return"".concat(n.x(t,e)," ").concat(n.y(t,e))})).join(",")}}(t,e,o.value,i.value);break;case"path":o.value=Wb.parseStyleForPath(o.value),i.value=Wb.parseStyleForPath(i.value),a.value=makeInterpolateClipPathPath(t,e,o.value,i.value)}return function(t,e){var n=a.type(t,e),r=a.value(t,e);return"none"===n?n:"".concat(n,"(").concat(r,")")}}function uw(t,e,n,r){for(var o={type:Wm(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];u&&s?i.push(Tm(t,e,u,s,n.type)):i.push(Tm(t,e,n.value[c]||n.value[c-1]||n.value[c-2],r.value[c]||r.value[c-1]||r.value[c-2],n.type))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(n){return n(t,e)}))}}}function sw(t,e,n,r){for(var o={type:Wm(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];if(u&&s)i.push(Em(t,e,u.value,s.value));else{var l=n.value[c].value||n.value[c-1].value||n.value[c-2].value,f=r.value[c].value||r.value[c-1].value||n.value[c-2].value;i.push(Em(t,e,l,f))}}return o.value=i,function(t,e){var n=o.value.map((function(n){return n(t,e)})),r=o.type(t,e);return(r.includes("matrix")||r.includes("scale"))&&(n=n.map((function(t){return R.number(t)}))),{type:r,value:n}}}function lw(t,e,n,r){for(var o={type:Wm(0,0,n.type,r.type)},i=[],a=Math.max(n.value.length,r.value.length),c=0;c<a;c++){var u=n.value[c],s=r.value[c];u&&s?i.push(ig(0,0,u,s)):i.push(ig(0,0,n.value[c]||n.value[c-1]||n.value[c-2],r.value[c]||r.value[c-1]||n.value[c-2]))}return o.value=i,function(t,e){return{type:o.type(t,e),value:o.value.map((function(n){return n(t,e)}))}}}function fw(t,e,n,r){for(var o=fa.parseStyle(n.trim()),i=fa.parseStyle(r.trim()),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];if(s&&!l)c.push($(0,0,s));else if(!s&&l)c.push($(0,0,l));else if(s.type!=l.type)c.push(Wm(0,0,s,l));else switch(s.type){case"skewX":case"skewY":case"translate":case"translateX":case"translateY":case"translateZ":case"translate3d":case"perspective":c.push(uw(t,e,s,l));break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3d":c.push(lw(0,0,s,l));break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"matrix":case"matrix3d":c.push(sw(t,e,s,l))}}return function(t,e){return fa.join(c.map((function(n){return n(t,e)})))}}function pw(t,e,n,r){for(var o=n.split(" ").map((function(t){return R.parse(t)})),i=r.split(" ").map((function(t){return R.parse(t)})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(Tm(t,e,s,l,"transform-origin"))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function yw(t,e,n,r){for(var o=n.split(" ").map((function(t){return R.parse(t)})),i=r.split(" ").map((function(t){return R.parse(t)})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(Tm(t,e,s,l,"perspective-origin"))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function hw(t,e,n,r){for(var o=n.split(" ").map((function(t){return+t})),i=r.split(" ").map((function(t){return+t})),a=Math.max(o.length,i.length),c=[],u=0;u<a;u++){var s=o[u],l=i[u];c.push(Em(t,e,s,l))}return function(t,e){return c.map((function(n){return n(t,e)})).join(" ")}}function dw(t){return(dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ww(t,e){return(ww=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ow(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sw(t);if(e){var o=Sw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kw(this,n)}}function kw(t,e){return!e||"object"!==dw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sw(t){return(Sw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jw=/[\b\t \,]/g,Pw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ww(t,e)}(i,t);var e,n,r,o=Ow(i);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return mw(this,i),o.call(this,t)}return e=i,(n=[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.segments=[],this.points=t,this.parse()}},{key:"resetSegments",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=t,this.points=this.joinPoints()}},{key:"parse",value:function(){var t=this.points;ie(t)&&(t=t.join(" "));for(var e=t.trim().split(jw).filter((function(t){return t})),n=[],r=0,o=e.length;r<o;r+=2)n.push({x:+e[r],y:+e[r+1]});this.segments=n}},{key:"convertGenerator",value:function(){return this.segments}},{key:"length",value:function(){return this.segments.length}},{key:"toPathString",value:function(){for(var t=new sc,e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];0===e?t.M(r):e===n-1?t.L(r).L(this.segments[0]).Z():t.L(r)}return t.d}},{key:"joinPath",value:function(t){return this.joinPoints(t)}},{key:"joinPoints",value:function(t){return(t||this.segments).map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"each",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.segments.map((function(n){return t.call(e,n)}));if(n)return r;this.segments=r}},{key:"_loop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.each((function(e){var n=vw(t([e.x,e.y],0),2),r=n[0],o=n[1];return e.x=r,e.y=o,e}),e)}},{key:"clone",value:function(){return new i(this.joinPoints())}},{key:"toString",value:function(){return this.joinPoints()}}])&&gw(e.prototype,n),r&&gw(e,r),i}(ec);function xw(t,e,n,r){for(var o=Math.max(n.length,r.length),i=[],a=n[n.length-1],c=r[r.length-1],u=0;u<o;u++){var s=n[u],l=r[u];s&&!l?i.push(Em(t,e,s,c)):!s&&l?i.push(Em(t,e,a,l)):i.push(Em(t,e,s,l))}return function(t,e){return i.map((function(n){return n(t,e)}))}}function Rw(t,e,n,r){for(var o=new ec,i=new ec(n),a=new ec(r),c=Math.max(i.segments.length,a.segments.length),u=[],s=0;s<c;s++){var l=i.segments[s],f=a.segments[s];l.command===f.command?l.values.length===f.values.length?u.push({command:$(0,0,l.command),values:xw(t,e,l.values,f.values)}):u.push({command:$(0,0,l.command),values:$(0,0,l.values)}):u.push({command:Wm(0,0,l.command,f.command),values:Wm(0,0,l.values,f.values)})}return function(t,e){var n=u.map((function(n){return{command:n.command(t,e),values:n.values(t,e)}}));return o.joinPath(n)}}function $w(t,e,n,r){for(var o=new Pw,i=new Pw(n),a=new Pw(r),c=Math.max(i.segments.length,a.segments.length),u=[],s=i.segments[i.segments.length-1].x,l=i.segments[i.segments.length-1].y,f=a.segments[a.segments.length-1].x,p=a.segments[a.segments.length-1].y,y=0;y<c;y++){var h=i.segments[y],d=a.segments[y];h&&!d?u.push({x:Em(t,e,h.x,f),y:Em(t,e,h.y,p)}):!h&&d?u.push({x:Em(t,e,s,d.x),y:Em(t,e,l,d.y)}):u.push({x:Em(t,e,h.x,d.x),y:Em(t,e,h.y,d.y)})}return function(t,e){return o.joinPoints(u.map((function(n){return{x:n.x(t,e),y:n.y(t,e)}})))}}function Ew(t,e,n,r){var o={x:Em("","",t,n),y:Em("","",e,r)};return function(t,e){return{x:o.x(t,e),y:o.y(t,e)}}}function _w(t,e,n,r,o,i){var a=[{x:t,y:e},{x:n,y:r},{x:o,y:i}];return function(t,e){return It(a,e)}}function Cw(t,e,n,r,o,i,a,c){var u=[{x:t,y:e},{x:n,y:r},{x:o,y:i},{x:a,y:c}];return function(t,e){return At(u,e)}}function Tw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dw(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aw(t){var e=[],n=[];t.forEach((function(t,r){switch(t.command){case"M":var o=Tw(t.values,2),i=o[0],a=o[1];n=[i,a];break;case"m":var c=Tw(n,2),u=c[0],s=c[1],l=Tw(t.values,2);i=l[0],a=l[1];n=[i+=u,a+=s];break;case"L":var f=Tw(n,2),p=(u=f[0],s=f[1],Tw(t.values,2));i=p[0],a=p[1];e.push({command:t.command,values:[u,s,i,a],length:Y(u,s,i,a),interpolate:Ew(u,s,i,a)}),n=[i,a];break;case"l":var y=Tw(n,2),h=(u=y[0],s=y[1],Tw(t.values,2));i=h[0],a=h[1];i+=u,a+=s,e.push({command:t.command,values:[u,s,i,a],length:Y(u,s,i,a),interpolate:Ew(u,s,i,a)}),n=[i,a];break;case"C":var d=Tw(n,2),v=(u=d[0],s=d[1],Tw(t.values,6)),b=v[0],m=v[1],g=v[2],w=v[3];i=v[4],a=v[5];e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:xt(u,s,b,m,g,w,i,a),interpolate:Cw(u,s,b,m,g,w,i,a)}),n=[i,a];break;case"c":var O=Tw(n,2),k=(u=O[0],s=O[1],Tw(t.values,6));b=k[0],m=k[1],g=k[2],w=k[3],i=k[4],a=k[5];b+=u,g+=u,i+=u,m+=s,w+=s,a+=s,e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:xt(u,s,b,m,g,w,i,a),interpolate:Cw(u,s,b,m,g,w,i,a)}),n=[i,a];break;case"Q":var S=Tw(n,2),j=(u=S[0],s=S[1],Tw(t.values,4));b=j[0],m=j[1],i=j[2],a=j[3];e.push({command:t.command,values:[u,s,b,m,i,a],length:Rt(u,s,b,m,i,a),interpolate:_w(u,s,b,m,i,a)}),n=[i,a];break;case"q":var P=Tw(n,2),x=(u=P[0],s=P[1],Tw(t.values,4));b=x[0],m=x[1],i=x[2],a=x[3];b+=u,i+=u,m+=s,a+=s,e.push({command:t.command,values:[u,s,b,m,i,a],length:Rt(u,s,b,m,i,a),interpolate:_w(u,s,b,m,i,a)}),n=[i,a];break;case"S":var R=Tw(n,2),$=(u=R[0],s=R[1],Tw(t.values,4)),E=(g=$[0],w=$[1],i=$[2],a=$[3],e[e.length-1]);if(["C","c","S","s"].includes(E.command)){var _=Tw(E.values,8),C=(_[0],_[1],_[2],_[3],_[4]),T=_[5],D=_[6],A=_[7],I=Ya.getReversePoint({x:D,y:A},{x:C,preC1y:T});b=I.x,m=I.y;e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:getCubicDist(u,s,b,m,g,w,i,a),interpolate:Cw(u,s,b,m,g,w,i,a)}),n=[i,a];break}case"s":var V=Tw(n,2),L=(u=V[0],s=V[1],Tw(t.values,4));g=L[0],w=L[1],i=L[2],a=L[3];g+=u,i+=u,w+=s,a+=s;E=e[e.length-1];if(["C","c","S","s"].includes(E.command)){var M=Tw(E.values,8),z=(M[0],M[1],M[2],M[3],C=M[4],T=M[5],D=M[6],A=M[7],Ya.getReversePoint({x:D,y:A},{x:C,preC1y:T}));b=z.x,m=z.y;e.push({command:t.command,values:[u,s,b,m,g,w,i,a],length:getCubicDist(u,s,b,m,g,w,i,a),interpolate:Cw(u,s,b,m,g,w,i,a)}),n=[i,a];break}case"T":var B=Tw(n,2),F=(u=B[0],s=B[1],Tw(t.values,2));i=F[0],a=F[1],E=e[e.length-1];if(["Q","q","T","t"].includes(E.command)){var G=Tw(E.values,6),H=(G[0],G[1],C=G[2],T=G[3],D=G[4],A=G[5],Ya.getReversePoint({x:D,y:A},{x:C,preC1y:T}));b=H.x,m=H.y;e.push({command:t.command,values:[u,s,b,m,i,a],length:Rt(u,s,b,m,i,a),interpolate:_w(u,s,b,m,i,a)}),n=[i,a]}break;case"t":var X=Tw(n,2),N=(u=X[0],s=X[1],Tw(t.values,2));i=N[0],a=N[1];i+=u,a+=s;E=e[e.length-1];if(["Q","q","T","t"].includes(E.command)){var K=Tw(E.values,6),U=(K[0],K[1],C=K[2],T=K[3],D=K[4],A=K[5],Ya.getReversePoint({x:D,y:A},{x:C,preC1y:T}));b=U.x,m=U.y;e.push({command:t.command,values:[u,s,b,m,i,a],length:Rt(u,s,b,m,i,a),interpolate:_w(u,s,b,m,i,a)}),n=[i,a]}}}));var r=0;e.forEach((function(t){r+=t.length}));var o=0;return e.forEach((function(t){t.startT=o/r,t.endT=(o+t.length)/r,t.totalLength=r,o+=t.length})),{totalLength:r,interpolateList:e}}function Iw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Iw(Object(n),!0).forEach((function(e){Lw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bw(t,e,n,r,o){var i=Mw(n.split(",").map((function(t){return t.trim()})),4),a=i[0],c=i[1],u=i[2],s=i[3],l={id:a,distance:R.parse(c||"0%"),rotateStatus:u||"auto",rotate:R.parse(s||"0deg")},f=function(t,e){return{x:x,y:y}},p=0,h=0;if(o){var d=o.searchById(l.id);d&&(p=d.screenX.value,h=d.screenY.value),f=function(t,e,n){var r=Aw(new ec(d.d||"").segments),o=r.totalLength,i=r.interpolateList,a=l.distance.toPx(o);(e+=a/o)>1&&(e-=1);var c=i[0];0===e?c=i[0]:1===e&&(c=i[i.length-1]);var u=i.find((function(t){return t.startT<=e&&e<t.endT}));u&&(c=u);var s=(e-c.startT)/(c.endT-c.startT),f=n(s);return Vw(Vw({},c.interpolate(f,s,n)),{},{totalLength:c.totalLength})}}return function(e,n,r){var o=(t["transform-origin"]||"50% 50%").split(" ").map((function(t){return R.parse(t)})),i=o[0].toPx(t.width.value),a=o[1].toPx(t.height.value),c=f(e,n,r),u={x:c.x+p-i.value,y:c.y+h-a.value};if(t.setScreenX(u.x),t.setScreenY(u.y),"element"===l.rotateStatus);else{var s=c,y=0;n<1&&(y=1/c.totalLength);var d=f(e+y,n+y,r),v=N(d.x-s.x,d.y-s.y),b=R.deg(function(t,e){var n=0;switch(t){case"angle":n=l.rotate.value;break;case"auto angle":n=e+l.rotate.value;break;case"reverse":n=e+180;break;case"auto":n=e}return n}(l.rotateStatus,v));t.reset({transform:fa.rotate(t.transform,b)})}return u}}function Fw(t,e,n,r){var o=r.length-1,i=0;return function(t,e){return 0===e?"":1===e?r:r.substring(i,Math.floor((o-i)*e))}}function Gw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hw(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xw(t,e,n,r,o,i){var a=i.$("video").el,c=Gw(n.split(":"),3),u=c[0],s=(c[1],+(u||0)*+(c[2]||1));return function(e,n){0===n?(a.currentTime=s,a.paused&&a.play()):1===n?(t.reset({currentTime:a.currentTime}),a.pause()):a.paused&&a.play()}}function Yw(t){return function(t){if(Array.isArray(t))return Uw(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Kw(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Kw(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kw(t,e){if(t){if("string"==typeof t)return Uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uw(t,e):void 0}}function Uw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ww=function(){return function(t,e){}};function Zw(t,e,n,r,o,i,a){var c=o||e;switch(c){case"width":case"x":return Tm(t,e,n,r,"width");case"height":case"y":return Tm(t,e,n,r,"height");case"perspective":case"font-size":case"font-stretch":case"font-weight":case"text-stroke-width":case"RangeEditor":case"textLength":case"startOffset":return Tm(t,e,n,r,e);case"fill-opacity":case"opacity":case"stroke-dashoffset":case"currentTime":case"NumberRangeEditor":return Em(t,e,+n,+r);case"background-color":case"color":case"text-fill-color":case"text-stroke-color":case"fill":case"stroke":case"ColorViewEditor":return Zm(0,0,n,r);case"mix-blend-mode":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"SelectEditor":case"lengthAdjust":return Jm(0,0,n,r);case"rotate":return ig(0,0,n,r)}var u=function(t){switch(t){case"border-radius":return Vm;case"border":return makeInterpolateBorder;case"box-shadow":return qm;case"text-shadow":return gg;case"background-image":case"BackgroundImageEditor":return $g;case"filter":case"backdrop-filter":return aw;case"clip-path":return cw;case"transform":return fw;case"transform-origin":return pw;case"perspective-origin":return yw;case"stroke-dasharray":return hw;case"d":return Rw;case"points":return $w;case"offset-path":return Bw;case"text":return Fw;case"playTime":return Xw}}(c);return u?u(t,e,n,r,i,a):Ww}function qw(t,e,n,r,o,i,a){return Zw(t,e,n,r,o,i,a)}function Jw(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"linear",e=t.split("(").map((function(t){return t.trim()})),n=Nw(e,2),r=n[0],o=n[1];o=(o||"").split(")")[0].trim();var i=rg[r];if(i){var a=t.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()}));return i.apply(void 0,Yw(a))}return Qw(t)}function Qw(t){var e=Tt(t);return function(t){return e(t).y}}function tO(t){return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eO(t){return function(t){if(Array.isArray(t))return nO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return nO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rO(Object(n),!0).forEach((function(e){iO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function iO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uO(t,e,n){return(uO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function sO(t,e){return(sO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pO(t);if(e){var o=pO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(t,e){return!e||"object"!==tO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pO(t){return(pO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sO(t,e)}(i,t);var e,n,r,o=lO(i);function i(){return aO(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}}],(n=[{key:"getDefaultObject",value:function(){return uO(pO(i.prototype),"getDefaultObject",this).call(this,{itemType:"offset",offset:R.percent(0),color:"rgba(255, 255, 255, 1)",properties:[]})}},{key:"toCloneObject",value:function(){return oO(oO({},uO(pO(i.prototype),"toCloneObject",this).call(this)),{},{offset:this.json.offset+"",color:this.json.color,properties:this.json.properties.map((function(t){return pe(t)}))})}},{key:"convert",value:function(t){return(t=uO(pO(i.prototype),"convert",this).call(this,t)).offset=R.parse(t.offset),t}},{key:"toCSSText",value:function(){return"".concat(this.json.offset," ").concat(ge(this.toCSS()))}},{key:"createProperty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addProperty(oO({checked:!0,value:R.z()},t))}},{key:"addProperty",value:function(t){this.json.properties.push(t)}},{key:"removeProperty",value:function(t){this.json.properties.splice(t,1)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(eO(t.splice(e,1))))}},{key:"sortProperty",value:function(t,e){this.sortItem(this.json.properties,t,e)}},{key:"updateProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(this.json.properties[+t],oO({},e))}},{key:"updatePropertyByKey",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.json.properties,r=-1,o=0,i=n.length;o<i;o++)if(this.json.properties[o].key===t){r=o;break}Object.assign(this.json.properties[+r],oO({},e))}},{key:"toCSS",value:function(){var t={};return this.json.properties.forEach((function(e){t=oO(oO({},t),e.toCSS())})),t}},{key:"toString",value:function(){return this.toCSSText()}}])&&cO(e.prototype,n),r&&cO(e,r),i}(Ui);function hO(t){return(hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dO(t){return function(t){if(Array.isArray(t))return t}(t)||mO(t)||bO(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vO(t){return function(t){if(Array.isArray(t))return gO(t)}(t)||mO(t)||bO(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bO(t,e){if(t){if("string"==typeof t)return gO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gO(t,e):void 0}}function mO(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function gO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function OO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wO(Object(n),!0).forEach((function(e){kO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PO(t,e,n){return(PO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=EO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xO(t,e){return(xO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function RO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=EO(t);if(e){var o=EO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $O(this,n)}}function $O(t,e){return!e||"object"!==hO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function EO(t){return(EO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xO(t,e)}(i,t);var e,n,r,o=RO(i);function i(){return SO(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}},{key:"parseStyle",value:function(t){var e=[],n={};if(t.keyframe){var r=vn(t.keyframe);r.str.split("|").map((function(t){return t.trim()})).forEach((function(t,o){var a=dO(t.split(" ")),c=a[0],u=a[1],s=a[2],l=a.slice(3).join(" ");n[c]||(n[c]=new i({name:c}),e[o]=c);var f=n[c].offsets.filter((function(t){return t.offset.equals(R.parse(u))})),p=null;f.length?p=f[0]:(p=new yO({offset:R.parse(u)}),n[c].offsets.push(p)),p.addProperty({key:s,value:mn(l,r.matches)})}))}return e.map((function(t){return n[t].offsets.forEach((function(t){var e=[],n=[];t.properties.forEach((function(t){t.key.includes("--")?e.push(t):n.push(t)}));var r=e.map((function(t){return"".concat(t.key,":").concat(t.value)})).join(";");e.length&&n.push({key:"var",value:r}),t.properties=n})),n[t]}))}}],(n=[{key:"getDefaultObject",value:function(){return PO(EO(i.prototype),"getDefaultObject",this).call(this,{itemType:"keyframe",name:"sample",selectedType:"list",offsets:[]})}},{key:"toCloneObject",value:function(){var t=this.json,e=t.name,n=t.selectedType,r=t.offsets;return OO(OO({},PO(EO(i.prototype),"toCloneObject",this).call(this)),{},{name:e,selectedType:n,offsets:r.map((function(t){return t.clone()}))})}},{key:"isMultiStyle",value:function(t){switch(t){case"background-image":case"var":return!0}return!1}},{key:"getMultiStyleString",value:function(t){switch(t.key){case"background-image":return t.value.toString()+";";case"var":return(t.value+"").split(";").map((function(t){return"--"+t})).join(";")+";"}return t.value.toString()+";"}},{key:"toOffsetString",value:function(t){var e=this;return"".concat(t.offset.toString()," {\n").concat("      ").concat(t.properties.map((function(t){if(e.isMultiStyle(t.key))return e.getMultiStyleString(t);var n=(t.value||"").toString();if(n){var r=t.key;return"x"===r?r="left":"y"===r&&(r="top"),"".concat(r,": ").concat(n,";")}return""})).join("").replace(/\;/g,";\n      ").trim(),"\n  }")}},{key:"toOffsetText",value:function(){var t=this,e=this.json.offsets.map((function(t){return t}));return e.sort((function(t,e){return t.offset.value>e.offset.value?1:-1})),e.map((function(e){return 0===e.properties.length?"":t.toOffsetString(e)})).join("\n")}},{key:"toCSSText",value:function(){return this.json.offsets.map((function(t){return t})).sort((function(t,e){return t.offset.value>e.offset.value?1:-1})),"\n@keyframes ".concat(this.json.name," {\n\n  ").concat(this.toOffsetText(),"\n\n}\n")}},{key:"createOffset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addOffset(new yO(OO({checked:!0},t)))}},{key:"addOffset",value:function(t){this.json.offsets.push(t)}},{key:"removeOffset",value:function(t){this.json.offsets.splice(t,1)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(vO(t.splice(e,1))))}},{key:"sortOffset",value:function(t,e){this.sortItem(this.json.offsets,t,e)}},{key:"updateOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.offsets[+t].reset(e)}},{key:"toCSS",value:function(){return{}}},{key:"toString",value:function(){return this.toCSSText()}}])&&jO(e.prototype,n),r&&jO(e,r),i}(Ui);function CO(t){return(CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TO(t){return function(t){if(Array.isArray(t))return DO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return DO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DO(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AO(Object(n),!0).forEach((function(e){VO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function VO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zO(t,e,n){return(zO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=HO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function BO(t,e){return(BO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function FO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=HO(t);if(e){var o=HO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GO(this,n)}}function GO(t,e){return!e||"object"!==CO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HO(t){return(HO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function XO(t){return(XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YO(t){return function(t){if(Array.isArray(t))return NO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return NO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NO(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?KO(Object(n),!0).forEach((function(e){WO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function WO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JO(t,e,n){return(JO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function QO(t,e){return(QO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nk(t);if(e){var o=nk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ek(this,n)}}function ek(t,e){return!e||"object"!==XO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nk(t){return(nk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QO(t,e)}(i,t);var e,n,r,o=tk(i);function i(){return ZO(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JO(nk(i.prototype),"getDefaultObject",this).call(this,UO({timeline:[],compiledTimeline:{}},t))}},{key:"expectJSON",value:function(t){return"compiledTimeline"!==t&&JO(nk(i.prototype),"expectJSON",this).call(this,t)}},{key:"setTimelineInfo",value:function(t){var e=this.getSelectedTimeline();e&&["speed","iterationCount","direction"].forEach((function(n){oe(t[n])&&(e[n]=t[n])}))}},{key:"compileAll",value:function(){var t=this,e=this.getSelectedTimeline();this.json.compiledTimeline={},e&&e.animations.forEach((function(e){e.properties.forEach((function(n){t.compiledTimingFunction(e.id,n.property)}))}))}},{key:"searchTimelineOffset",value:function(t){var e=this,n=this.getSelectedTimeline(),r=[];return n&&n.animations.forEach((function(n){n.properties.forEach((function(o){var i=e.getCompiledTimingFunction(n.id,o.property);r.push(i.find((function(e){return!!(e.isOnlyTime&&e.startTime<=t)||e.startTime<=t&&t<e.endTime})))}))})),r.filter((function(t){return t}))}},{key:"getCompiledTimingFunction",value:function(t,e){return this.json.compiledTimeline["".concat(t,".").concat(e)]}},{key:"compiledTimingFunction",value:function(t,e){var n=this,r=this,o=this.getTimelineProperty(t,e),i=this.searchById(t),a="".concat(t,".").concat(e);if(1!==o.keyframes.length){var c=er.body().$('[data-id="'.concat(t,'"]')),u=o.keyframes.map((function(t){return t.editor}))[0];this.json.compiledTimeline[a]=o.keyframes.map((function(t,e){var a=t,s=o.keyframes[e+1];t.editor=u,s||(s={time:t.time,value:t.value+""});var l={layer:i,layerElement:c,property:o.property,isOnlyTime:a.time===s.time,startTime:t.time,endTime:s.time,startValue:t.value,endValue:s.value,timing:t.timing,interpolateFunction:qw(i,o.property,t.value,s.value,t.editor,r,c),timingFunction:Jw(t.timing)};return l.func=n.makeTimingFunction(l),l})).filter((function(t){return t}))}else this.json.compiledTimeline[a]=[]}},{key:"makeTimingFunction",value:function(t){return function(e){var n=t.endTime-t.startTime,r=1;return 0!==n&&(r=(e-t.startTime)/n),t.interpolateFunction(t.timingFunction(r),r,n,t.timingFunction)}}},{key:"stop",value:function(t){var e=this.getSelectedTimeline();if(e){var n=e.currentTime;this.searchTimelineOffset(n).forEach((function(t){if("playTime"===t.property){var e=t.layerElement.$("video");e&&e.el.pause()}}))}}},{key:"seek",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=this.getSelectedTimeline();if(n){oe(t)&&this.setTimelineCurrentTime(t);var r=n.currentTime;this.searchTimelineOffset(r).filter(e).forEach((function(t){"offset-path"===t.property||"playTime"===t.property?t.func(r):t.layer&&t.layer.reset(WO({},t.property,t.func(r)))}))}}},{key:"getSelectedTimeline",value:function(){var t=this.json.timeline,e=t.filter((function(t){return t.selected}));return(e.length?e[0]:t[0])||null}},{key:"getKeyframeListReturnArray",value:function(){var t=this.getSelectedTimeline(),e=[];return t&&t.animations.forEach((function(t){t.properties.forEach((function(t){e.push.apply(e,YO(t.keyframes))}))})),e}},{key:"getKeyframeList",value:function(t){var e=this.getSelectedTimeline();e&&e.animations.forEach((function(n){n.properties.forEach((function(n){n.keyframes.forEach((function(n){t&&t(e,n)}))}))}))}},{key:"getSelectedTimelineLastTime",value:function(){var t=0;return this.getKeyframeList((function(e,n){t=Math.max(n.time,t)})),t}},{key:"getSelectedTimelineFirstTime",value:function(){var t=Number.MAX_SAFE_INTEGER;return this.getKeyframeList((function(e,n){t=Math.min(n.time,t)})),t}},{key:"getSelectedTimelinePrevTime",value:function(){var t=this.getSelectedTimelineFirstTime();return this.getKeyframeList((function(e,n){pu(e.fps,n.time)<e.currentTimecode&&(t=Math.max(n.time,t))})),t}},{key:"getSelectedTimelineNextTime",value:function(){var t=this.getSelectedTimelineLastTime();return this.getKeyframeList((function(e,n){pu(e.fps,n.time)>e.currentTimecode&&(t=Math.min(n.time,t))})),t}},{key:"setTimelineTitle",value:function(t,e){var n=this.json.timeline.find((function(e){return e.id===t}));n&&(n.title=e)}},{key:"selectTimeline",value:function(t){t?this.json.timeline.forEach((function(e){e.selected=e.id===t})):this.json.timeline.filter((function(t){return t.selected})).length||this.json.timeline.length&&(this.json.timeline.selected=!0),this.compileAll()}},{key:"removeAnimation",value:function(t){this.json.timeline=this.json.timeline.filter((function(e){return e.id!==t})),this.json.timeline.length&&(this.json.timeline[0].selected=!0),this.compileAll()}},{key:"addTimeline",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",n=J(),r=UO(UO({id:n,title:"sample"},this.getTimelineLayerInfo(t,e)),{},{animations:[]});return this.json.timeline.push(r),this.selectTimeline(n),r}},{key:"addTimelineLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"00:00:10:00",r=this.getSelectedTimeline();if(r||(r=this.addTimeline(e,n)),r.selected=!0,t){var o=r.animations.filter((function(e){return e.id===t}));o[0]||r.animations.push({id:t,properties:[]})}}},{key:"getTimelineLayerInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"00:00:10:00",n=fu(t,e);return{fps:t,speed:1,direction:"normal",iterationCount:1,currentTimecode:pu(t,0),totalTimecode:pu(t,n),currentTime:0,totalTime:n,displayStartTime:0,displayEndTime:n}}},{key:"setTimelineCurrentTime",value:function(t){var e=this.getSelectedTimeline(),n=e.fps,r=e.totalTimecode;if(e){var o=t,i=t;+o+""===o&&(i=yu(n,o=+o)),i>r&&(i=r);var a=fu(n,i);e.currentTime=a,e.currentTimecode=pu(n,a)}}},{key:"setDisplayTimeDxRate",value:function(t,e,n){var r=this.getSelectedTimeline();if(r){var o=t*r.totalTime,i=e+o,a=n+o;i=Math.max(i,0),0===(i=Math.min(i,a))&&(a=n-e),a=Math.max(a,i),(a=Math.min(a,r.totalTime))===r.totalTime&&(i=r.totalTime-(n-e)),r.displayStartTime=i,r.displayEndTime=a}}},{key:"setDisplayStartTimeRate",value:function(t){var e=this.getSelectedTimeline();e&&(e.displayStartTime=t*e.totalTime)}},{key:"setDisplayEndTimeRate",value:function(t){var e=this.getSelectedTimeline();e&&(e.displayEndTime=t*e.totalTime)}},{key:"setTimelineCurrentTimeRate",value:function(t){var e=this.getSelectedTimeline();if(e){var n=e.displayStartTime,r=e.displayEndTime,o=e.fps,i=n+(r-n)*t;this.setTimelineCurrentTime(pu(o,i))}}},{key:"setTimelineTotalTime",value:function(t){var e=this.getSelectedTimeline();if(e){var n=t,r=t;+n+""===n&&(n=+n,r=yu(e.fps,n)),fu(e.fps,r)<e.displayEndTime&&(e.displayEndTime=fu(e.fps,r),e.displayStartTime=0),e.totalTimecode=r,e.totalTime=fu(e.fps,r)}}},{key:"getTimelineObject",value:function(t){var e=this.getSelectedTimeline();if(e)return e.animations.find((function(e){return e.id===t}))}},{key:"addTimelineProperty",value:function(t,e){this.addTimelineLayer(t);var n=this.getTimelineObject(t);n&&(n.properties.filter((function(t){return t.property===e})).length||(n.properties.push({property:e,keyframes:[]}),this.compiledTimingFunction(t,e)))}},{key:"getTimelineProperty",value:function(t,e){var n=this.getSelectedTimeline();if(n){t=t||n.selectedLayerId,e=e||n.selectedProperty;var r=this.getTimelineObject(t);if(r)return r.properties.find((function(t){return t.property===e}))}}},{key:"setSelectedOffset",value:function(t,e,n){var r=this.getSelectedTimeline();r&&(r.selectedLayerId=t,r.selectedProperty=e,r.selectedOffsetTime=n,this.getTimelineProperty().keyframes.forEach((function(t){t.selected=t.time===n})))}},{key:"deleteTimelineKeyframe",value:function(t,e,n){var r=this.getTimelineProperty(t,e);r&&(r.keyframes=r.keyframes.filter((function(t){return t.id!=n})))}},{key:"removeTimelineProperty",value:function(t,e){var n=this.getTimelineObject(t);n&&(n.properties=n.properties.filter((function(t){return t.property!=e})))}},{key:"removeTimeline",value:function(t){var e=this.getSelectedTimeline();e&&(e.animations=e.animations.filter((function(e){return e.id!=t})))}},{key:"setTimelineKeyframeOffsetTime",value:function(t,e,n,r){var o=this.getTimelineKeyframeById(t,e,n);o&&(o.time=r,this.compiledTimingFunction(t,e))}},{key:"setTimelineKeyframeOffsetValue",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.getTimelineKeyframeById(t,e,n);a&&(oe(i)&&(a.time=i),oe(r)&&(a.value=r),oe(o)&&(a.timing=o),this.compiledTimingFunction(t,e))}},{key:"addTimelineKeyframe",value:function(t){var e=t.layerId,n=t.property,r=t.value,o=t.timing,i=t.time,a=t.editor;this.addTimelineProperty(e,n);var c=this.getSelectedTimeline(),u=this.getTimelineProperty(e,n);if(u){var s=i||c.currentTime;if(!u.keyframes.filter((function(t){return t.time===s})).length){r=re(r)||""===r?this.getDefaultPropertyValue(n):r;var l={id:J(),layerId:e,property:n,time:s,value:r,timing:o||"linear",editor:a};return u.keyframes.push(l),u.keyframes.sort((function(t,e){return t.time>e.time?1:-1})),this.compiledTimingFunction(e,n),l}}}},{key:"getDefaultPropertyValue",value:function(t){switch(t){case"mix-blend-mode":return"normal";case"rotate":return"0deg";case"box-shadow":return"0px 0px 0px 0px rgba(0, 0, 0, 1)";case"text-shadow":return"0px 0px 0px rgba(0, 0, 0, 1)";case"opacity":return 1;default:return""}}},{key:"copyTimelineKeyframe",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getTimelineProperty(t,e);if(r){var o=this.getSelectedTimeline(),i=n||o.currentTime,a=r.keyframes.filter((function(t){return t.time<i})),c=this.getDefaultPropertyValue(e),u="linear",s="";a.length&&(a.sort((function(t,e){return t.time>e.time?-1:1})),c=a[0].value+"",u=a[0].timing+"",s=a[0].editor),this.addTimelineKeyframe({layerId:t,property:e,value:c,timing:u,editor:s})}}},{key:"getTimelineKeyframe",value:function(t,e,n){var r=this.getTimelineProperty(t,e);if(r)return r.keyframes.find((function(t){return t.time===n}))}},{key:"getTimelineKeyframeById",value:function(t,e,n){var r=this.getTimelineProperty(t,e);if(r)return r.keyframes.find((function(t){return t.id===n}))}},{key:"sortTimelineKeyframe",value:function(t,e){var n=this.getTimelineProperty(t,e);n&&(n.keyframes.sort((function(t,e){return t.time>e.time?1:-1})),this.compiledTimingFunction(t,e))}},{key:"setFps",value:function(t){var e=this.getSelectedTimeline();e&&(e.fps=t,e.currentTimecode=pu(t,e.currentTime),e.totalTimecode=pu(t,e.totalTime))}},{key:"toCloneObject",value:function(){return UO(UO({},JO(nk(i.prototype),"toCloneObject",this).call(this)),{},{timeline:pe(this.json.timeline)})}}])&&qO(e.prototype,n),r&&qO(e,r),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BO(t,e)}(i,t);var e,n,r,o=FO(i);function i(){return LO(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zO(HO(i.prototype),"getDefaultObject",this).call(this,IO({colors:[],gradients:[],svgfilters:[],svgimages:[],keyframes:[],images:[],videos:[],audios:[]},t))}},{key:"addKeyframe",value:function(t){return this.json.keyframes.push(t),t}},{key:"createKeyframe",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addKeyframe(new _O(IO({checked:!0},t)))}},{key:"removeKeyframe",value:function(t){this.removePropertyList(this.json.keyframes,t)}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(TO(t.splice(e,1))))}},{key:"sortKeyframe",value:function(t,e){this.sortItem(this.json.keyframes,t,e)}},{key:"updateKeyframe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.keyframes[+t].reset(e)}},{key:"toKeyframeString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.json.keyframes.map((function(e){return e.toString(t)})).join("\n\n")}},{key:"copyPropertyList",value:function(t,e){var n=IO({},t[e]);t.splice(e,0,n)}},{key:"toCloneObject",value:function(){var t=this.json;return IO(IO({},zO(HO(i.prototype),"toCloneObject",this).call(this)),{},{colors:pe(t.colors),gradients:pe(t.gradients),svgfilters:pe(t.svgfilters),svgimages:pe(t.svgimages),images:pe(t.images),keyframes:t.keyframes.map((function(t){return t.clone()}))})}},{key:"removePropertyList",value:function(t,e){t.splice(e,1)}},{key:"removeColor",value:function(t){this.removePropertyList(this.json.colors,t)}},{key:"copyColor",value:function(t){this.copyPropertyList(this.json.colors,t)}},{key:"sortColor",value:function(t,e){this.sortItem(this.json.colors,t,e)}},{key:"setColorValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.colors[t]=IO(IO({},this.json.colors[t]),e)}},{key:"getColorIndex",value:function(t){return this.json.colors[t]}},{key:"getColor",value:function(t){return this.json.colors.filter((function(e){return e.name===t}))[0]}},{key:"addColor",value:function(t){return this.json.colors.push(t),t}},{key:"createColor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addColor(t)}},{key:"removeImage",value:function(t){this.removePropertyList(this.json.images,t)}},{key:"copyImage",value:function(t){this.copyPropertyList(this.json.images,t)}},{key:"sortImage",value:function(t,e){this.sortItem(this.json.images,t,e)}},{key:"setImageValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.images[t]=IO(IO({},this.json.images[t]),e)}},{key:"addImage",value:function(t){return this.json.images.push(t),t}},{key:"createImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addImage(t)}},{key:"removeVideo",value:function(t){this.removePropertyList(this.json.videos,t)}},{key:"copyVideo",value:function(t){this.copyPropertyList(this.json.videos,t)}},{key:"sortVideo",value:function(t,e){this.sortItem(this.json.videos,t,e)}},{key:"setVideoValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json.videos[t]=IO(IO({},this.json.videos[t]),e)}},{key:"addVideo",value:function(t){return this.json.videos.push(t),t}},{key:"createVideo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addVideo(t)}},{key:"removeGradient",value:function(t){this.removePropertyList(this.json.gradients,t)}},{key:"copyGradient",value:function(t){this.copyPropertyList(this.json.gradients,t)}},{key:"sortGradient",value:function(t,e){this.sortItem(this.json.gradients,t,e)}},{key:"setGradientValue",value:function(t,e){this.json.gradients[t]=IO(IO({},this.json.gradients[t]),e)}},{key:"getGradientIndex",value:function(t){return this.json.gradients[t]}},{key:"getGradient",value:function(t){return this.json.gradients.filter((function(e){return e.name===t}))[0]}},{key:"addGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.json.gradients.push(t),t}},{key:"createGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addGradient(t)}},{key:"getSVGFilterIndex",value:function(t){var e=this.json.svgfilters.map((function(t,e){return{id:t.id,index:e}})).filter((function(e){return e.id===t}))[0];return e?e.index:-1}},{key:"removeSVGFilter",value:function(t){this.removePropertyList(this.json.svgfilters,t)}},{key:"copySVGFilter",value:function(t){this.copyPropertyList(this.json.svgfilters,t)}},{key:"sortSVGFilter",value:function(t,e){this.sortItem(this.json.svgfilters,t,e)}},{key:"setSVGFilterValue",value:function(t,e){this.json.svgfilters[t]=IO(IO({},this.json.svgfilters[t]),e)}},{key:"addSVGFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.json.svgfilters.push(t);var e=this.json.svgfilters.length-1;return e}},{key:"createSVGFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSVGFilter(t)}},{key:"getSVGImageIndex",value:function(t){var e=this.json.svgimages.map((function(t,e){return{id:t.id,index:e}})).filter((function(e){return e.id===t}))[0];return e?e.index:-1}},{key:"removeSVGImage",value:function(t){this.removePropertyList(this.json.svgimages,t)}},{key:"copySVGImage",value:function(t){this.copyPropertyList(this.json.svgimages,t)}},{key:"sortSVGImage",value:function(t,e){this.sortItem(this.json.svgimages,t,e)}},{key:"setSVGImageValue",value:function(t,e){this.json.svgimages[t]=IO(IO({},this.json.svgimages[t]),e)}},{key:"addSVGImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.json.svgimages.push(t);var e=this.json.svgimages.length-1;return e}},{key:"createSVGImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.addSVGImage(t)}}])&&MO(e.prototype,n),r&&MO(e,r),i}(Li));function ok(t){return(ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ak(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ik(Object(n),!0).forEach((function(e){ck(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ck(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lk(t,e,n){return(lk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fk(t,e){return(fk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hk(t);if(e){var o=hk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yk(this,n)}}function yk(t,e){return!e||"object"!==ok(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hk(t){return(hk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dk="SourceGraphic,SourceAlpha,BackgroundImage,BackgroundAlpha,FillPaint,StrokePaint".split(","),vk={xChannelSelector:!0,yChannelSelector:!0},bk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fk(t,e)}(i,t);var e,n,r,o=pk(i);function i(){return uk(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new(0,e$[t.type])(t)}}],(n=[{key:"hasLight",value:function(){return!1}},{key:"isLight",value:function(){return!1}},{key:"isSource",value:function(){return!1}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=J();return lk(hk(i.prototype),"getDefaultObject",this).call(this,ak({itemType:"svgfilter",id:e,in:[],bound:{x:100,y:100,targetX:0,targetY:0},connected:[]},t))}},{key:"getInCount",value:function(){return 0}},{key:"setIn",value:function(t,e){this.json.in[t]={id:e.id,type:e.type}}},{key:"setConnected",value:function(t){0===this.json.connected.filter((function(e){return e.id===t.id})).length&&this.json.connected.push({id:t.id})}},{key:"convert",value:function(t){return ce(t.in)&&(t.in=JSON.parse(t.in)),ce(t.bound)&&(t.bound=JSON.parse(t.bound)),ce(t.connected)&&(t.connected=JSON.parse(t.connected)),t}},{key:"toCloneObject",value:function(){return ak(ak({},lk(hk(i.prototype),"toCloneObject",this).call(this)),{},{id:this.json.id,in:pe(this.json.in),bound:pe(this.json.bound),connected:pe(this.json.connected)})}},{key:"getDefaultAttribute",value:function(){var t=this,e=[];return this.json.connected.length&&e.push('result="'.concat(this.json.id,'result"')),Object.keys(vk).filter((function(e){return!!t.json[e]})).forEach((function(n){e.push("".concat(n,'="').concat(t.json[n],'"'))})),e.join(" ")+" "+this.getSourceInAttribute()}},{key:"hasInIndex",value:function(){return!1}},{key:"getSourceInAttribute",value:function(t){var e=this;return(t||this.json.in).map((function(t,n){if(!t)return"";var r=0===n?"":n+1+"";return e.hasInIndex()||(r=""),dk.includes(t.type)?"in".concat(r,'="').concat(t.type,'"'):"in".concat(r,'="').concat(t.id,'result"')})).join(" ")}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.value;return"<fe".concat(e,' value="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&sk(e.prototype,n),r&&sk(e,r),i}(Ui);function mk(t){return(mk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ok(t,e,n){return(Ok="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function kk(t,e){return(kk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Sk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pk(t);if(e){var o=Pk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jk(this,n)}}function jk(t,e){return!e||"object"!==mk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pk(t){return(Pk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kk(t,e)}(i,t);var e,n,r,o=Sk(i);function i(){return gk(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Ok(Pk(i.prototype),"getDefaultObject",this).call(this,{type:"RotaMatrix",hueRotate:i.spec.hueRotate.defaultValue})}},{key:"convert",value:function(t){return t.hueRotate=R.parse(t.hueRotate),t}},{key:"toString",value:function(){var t=this.json,e=t.id,n=t.hueRotate;return'\n      <feColorMatrix type="hueRotate" result="romatrix-'.concat(e,'"  values="').concat(n,'"/>\n      <feColorMatrix type="matrix" in="romatrix-').concat(e,'" in2="SourceGraphic"  ').concat(this.getDefaultAttribute(),' values="-1 2 -3 0 -.5 2 1 0 0 0 0 3 1 0 0 0 0 1 1 0"/>\n    ')}}])&&wk(e.prototype,n),r&&wk(e,r),i}(bk);function Rk(t){return(Rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _k(t,e,n){return(_k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ak(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ck(t,e){return(Ck=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ak(t);if(e){var o=Ak(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dk(this,n)}}function Dk(t,e){return!e||"object"!==Rk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ak(t){return(Ak=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}xk.spec={hueRotate:{title:"hue-rotate",inputType:"number-range",min:0,max:360,step:1,defaultValue:R.number(0)}};var Ik=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ck(t,e)}(i,t);var e,n,r,o=Tk(i);function i(){return $k(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return _k(Ak(i.prototype),"getDefaultObject",this).call(this,{type:"Merge"})}},{key:"getInCount",value:function(){return 3}},{key:"getDefaultAttribute",value:function(){var t=[];return this.json.connected.length&&t.push('result="'.concat(this.json.id,'result"')),t.join(" ")}},{key:"toString",value:function(){var t=this,e=this.json.in;return"\n    <feMerge  ".concat(this.getDefaultAttribute()," >\n      ").concat(e.map((function(e){return"<feMergeNode ".concat(t.getSourceInAttribute([e])," />")})).join(""),"\n    </feMerge>")}}])&&Ek(e.prototype,n),r&&Ek(e,r),i}(bk);function Vk(t){return(Vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zk(t,e,n){return(zk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Bk(t,e){return(Bk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hk(t);if(e){var o=Hk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gk(this,n)}}function Gk(t,e){return!e||"object"!==Vk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hk(t){return(Hk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ik.spec={};var Xk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bk(t,e)}(i,t);var e,n,r,o=Fk(i);function i(){return Lk(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return zk(Hk(i.prototype),"getDefaultObject",this).call(this,{type:"Composite",operator:i.spec.operator.defaultValue,k1:i.spec.k1.defaultValue,k2:i.spec.k2.defaultValue,k3:i.spec.k3.defaultValue,k4:i.spec.k4.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"toString",value:function(){var t=this.json,e=t.operator,n=t.k1,r=t.k2,o=t.k3,i=t.k4,a="";return"arithmetic"===e&&(a=' k1="'.concat(n,'" k2="').concat(r,'" k3="').concat(o,'" k4="').concat(i,'" ')),'<feComposite operator="'.concat(e,'" ').concat(a,"  ").concat(this.getDefaultAttribute()," />")}},{key:"hasInIndex",value:function(){return!0}}])&&Mk(e.prototype,n),r&&Mk(e,r),i}(bk);function Yk(t){return(Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uk(t,e,n){return(Uk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Wk(t,e){return(Wk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jk(t);if(e){var o=Jk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qk(this,n)}}function qk(t,e){return!e||"object"!==Yk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jk(t){return(Jk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Xk.spec={operator:{title:"operator",inputType:"select",options:"over,in,out,atop,xor,arithmetic",defaultValue:"over"},k1:{title:"k1",inputType:"number-range",min:0,max:1,step:.01,defaultValue:R.number(0)},k2:{title:"k2",inputType:"number-range",min:0,max:1,step:.01,defaultValue:R.number(0)},k3:{title:"k3",inputType:"number-range",min:0,max:1,step:.01,defaultValue:R.number(0)},k4:{title:"k4",inputType:"number-range",min:0,max:1,step:.01,defaultValue:R.number(0)}};var Qk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wk(t,e)}(i,t);var e,n,r,o=Zk(i);function i(){return Nk(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Uk(Jk(i.prototype),"getDefaultObject",this).call(this,{type:"Morphology",operator:i.spec.operator.defaultValue,radius:i.spec.radius.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.operator,n=t.radius;return'<feMorphology operator="'.concat(e,'" radius="').concat(n,'"  ').concat(this.getDefaultAttribute()," />")}}])&&Kk(e.prototype,n),r&&Kk(e,r),i}(bk);function tS(t){return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rS(t,e,n){return(rS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function oS(t,e){return(oS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function iS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cS(t);if(e){var o=cS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aS(this,n)}}function aS(t,e){return!e||"object"!==tS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cS(t){return(cS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Qk.spec={operator:{title:"Operator",inputType:"select",options:"erode,dilate",defaultValue:"erode"},radius:{title:"Radius",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(0)}};var uS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oS(t,e)}(i,t);var e,n,r,o=iS(i);function i(){return eS(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return rS(cS(i.prototype),"getDefaultObject",this).call(this,{type:"Turbulence",filterType:i.spec.filterType.defaultValue,baseFrequency:i.spec.baseFrequency.defaultValue,numOctaves:i.spec.numOctaves.defaultValue,seed:i.spec.seed.defaultValue})}},{key:"convert",value:function(t){return t.baseFrequency=R.parse(t.baseFrequency),t.numOctaves=R.parse(t.numOctaves),t.seed=R.parse(t.seed),t}},{key:"toString",value:function(){var t=this.json,e=t.filterType,n=t.baseFrequency,r=t.numOctaves,o=t.seed;return"<feTurbulence ".concat(Oe({type:e,baseFrequency:n,numOctaves:r,seed:o}),"   ").concat(this.getDefaultAttribute()," />")}}])&&nS(e.prototype,n),r&&nS(e,r),i}(bk);function sS(t){return(sS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pS(t,e,n){return(pS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function yS(t,e){return(yS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vS(t);if(e){var o=vS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dS(this,n)}}function dS(t,e){return!e||"object"!==sS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vS(t){return(vS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}uS.spec={filterType:{title:"Type",inputType:"select",options:"fractalNoise,turbulence",defaultValue:"turbulence"},baseFrequency:{title:"Frequency",inputType:"number-range",min:0,max:1,step:.01,defaultValue:R.number(0)},numOctaves:{title:"Octaves",inputType:"number-range",min:1,max:10,step:1,defaultValue:R.number(1)},seed:{title:"Seed",inputType:"number-range",min:0,max:1e4,step:1,defaultValue:R.number(0)}};var bS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yS(t,e)}(i,t);var e,n,r,o=hS(i);function i(){return lS(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return pS(vS(i.prototype),"getDefaultObject",this).call(this,{type:"DisplacementMap",scale:i.spec.scale.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"convert",value:function(t){return t.scale=R.parse(t.scale),t}},{key:"toString",value:function(){var t=this.json.scale,e=t.value?'scale="'.concat(t,'"'):"";return"<feDisplacementMap ".concat(e,"  ").concat(this.getDefaultAttribute()," />")}},{key:"hasInIndex",value:function(){return!0}}])&&fS(e.prototype,n),r&&fS(e,r),i}(bk);function mS(t){return(mS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OS(t,e,n){return(OS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=PS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function kS(t,e){return(kS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function SS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=PS(t);if(e){var o=PS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jS(this,n)}}function jS(t,e){return!e||"object"!==mS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PS(t){return(PS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}bS.spec={scale:{title:"scale",inputType:"number-range",min:0,max:5e3,step:1,defaultValue:R.number(0)}};var xS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kS(t,e)}(i,t);var e,n,r,o=SS(i);function i(){return gS(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return OS(PS(i.prototype),"getDefaultObject",this).call(this,{type:"ColorMatrix",values:i.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values.join(" ");return'<feColorMatrix type="matrix" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />")}}])&&wS(e.prototype,n),r&&wS(e,r),i}(bk);function RS(t){return(RS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ES(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _S(t,e,n){return(_S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=AS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function CS(t,e){return(CS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=AS(t);if(e){var o=AS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DS(this,n)}}function DS(t,e){return!e||"object"!==RS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AS(t){return(AS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}xS.spec={values:{title:"values",inputType:"color-matrix",column:5,defaultValue:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}};var IS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CS(t,e)}(i,t);var e,n,r,o=TS(i);function i(){return $S(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return _S(AS(i.prototype),"getDefaultObject",this).call(this,{type:"ConvolveMatrix",kernelMatrix:i.spec.kernelMatrix.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.kernelMatrix.join(" ");return'<feConvolveMatrix kernelMatrix="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />")}}])&&ES(e.prototype,n),r&&ES(e,r),i}(bk);function VS(t){return(VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zS(t,e,n){return(zS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=HS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function BS(t,e){return(BS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function FS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=HS(t);if(e){var o=HS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GS(this,n)}}function GS(t,e){return!e||"object"!==VS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HS(t){return(HS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}IS.spec={kernelMatrix:{title:"kernelMatrix",inputType:"input-array",column:3,defaultValue:[1,0,0,0,1,0,0,0,1]}};var XS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BS(t,e)}(i,t);var e,n,r,o=FS(i);function i(){return LS(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return zS(HS(i.prototype),"getDefaultObject",this).call(this,{type:"GaussianBlur",stdDeviationX:i.spec.stdDeviationX.defaultValue,stdDeviationY:i.spec.stdDeviationY.defaultValue,edgeMode:i.spec.edgeMode.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"convert",value:function(t){return t.stdDeviationX=R.parse(t.stdDeviationX),t.stdDeviationY=R.parse(t.stdDeviationY),t}},{key:"toString",value:function(){var t=this.json,e=t.stdDeviationX,n=t.stdDeviationY,r=t.edgeMode,o="".concat(e," ").concat(n);return e===n&&(o=e),'<feGaussianBlur  stdDeviation="'.concat(o,'" edgeMode="').concat(r,'"  ').concat(this.getDefaultAttribute()," />")}}])&&MS(e.prototype,n),r&&MS(e,r),i}(bk);function YS(t){return(YS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function US(t,e,n){return(US="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=JS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function WS(t,e){return(WS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=JS(t);if(e){var o=JS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qS(this,n)}}function qS(t,e){return!e||"object"!==YS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JS(t){return(JS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}XS.spec={stdDeviationX:{title:"X",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(0)},stdDeviationY:{title:"Y",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(0)},edgeMode:{title:"edge",inputType:"select",options:"none,duplicate,wrap",defaultValue:"none"}};var QS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WS(t,e)}(i,t);var e,n,r,o=ZS(i);function i(){return NS(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return US(JS(i.prototype),"getDefaultObject",this).call(this,{type:"Flood",x:i.spec.x.defaultValue,y:i.spec.y.defaultValue,width:i.spec.width.defaultValue,height:i.spec.height.defaultValue,color:i.spec.color.defaultValue,opacity:i.spec.opacity.defaultValue})}},{key:"convert",value:function(t){return t.x=R.parse(t.x),t.y=R.parse(t.y),t.width=R.parse(t.width),t.height=R.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.opacity,n=t.color,r=t.x,o=t.y,i=t.width,a=t.height;return"<feFlood ".concat(Oe({x:r,y:o,width:i,height:a}),' flood-opacity="').concat(e,'" flood-color="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&KS(e.prototype,n),r&&KS(e,r),i}(bk);function tj(t){return(tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ej(t,e){return aj(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||oj(t,e)||rj()}function nj(t){return aj(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||oj(t)||rj()}function rj(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oj(t,e){if(t){if("string"==typeof t)return ij(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ij(t,e):void 0}}function ij(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aj(t){if(Array.isArray(t))return t}function cj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sj(t,e,n){return(sj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function lj(t,e){return(lj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yj(t);if(e){var o=yj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pj(this,n)}}function pj(t,e){return!e||"object"!==tj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yj(t){return(yj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}QS.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},opacity:{title:"opacity",inputType:"number-range",min:0,max:1,step:.01,defaultValue:R.number(0)},color:{title:"color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var hj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lj(t,e)}(i,t);var e,n,r,o=fj(i);function i(){return cj(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return sj(yj(i.prototype),"getDefaultObject",this).call(this,{type:"ComponentTransfer",r:i.spec.r.defaultValue,g:i.spec.g.defaultValue,b:i.spec.b.defaultValue,a:i.spec.a.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"parse",value:function(t){var e=nj(t.split(" ")),n=e[0],r=e.slice(1);if("table"===n||"discrete"===n)return{type:n,tableValues:r.join(" ")};if("linear"===n){var o=ej(r,2);return{type:n,slop:o[0],intercept:o[1]}}if("gamma"===n){var i=ej(r,3);return{type:n,amplitude:i[0],exponent:i[1],offset:i[2]}}return{type:n}}},{key:"toString",value:function(){var t=this.json,e=t.r,n=t.g,r=t.b,o=t.a;return e=this.parse(e),n=this.parse(n),r=this.parse(r),o=this.parse(o),"<feComponentTransfer ".concat(this.getDefaultAttribute()," >\n      ").concat(e&&"<feFuncR ".concat(Oe(e)," />"),"\n      ").concat(n&&"<feFuncG ".concat(Oe(n)," />"),"\n      ").concat(r&&"<feFuncB ".concat(Oe(r)," />"),"\n      ").concat(o&&"<feFuncA ".concat(Oe(o)," />"),"\n    </feComponentTransfe>")}}])&&uj(e.prototype,n),r&&uj(e,r),i}(bk);function dj(t){return(dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mj(t,e,n){return(mj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gj(t,e){return(gj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kj(t);if(e){var o=kj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oj(this,n)}}function Oj(t,e){return!e||"object"!==dj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kj(t){return(kj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}hj.spec={r:{title:"R",inputType:"FuncFilter",defaultValue:"identity"},g:{title:"G",inputType:"FuncFilter",defaultValue:"identity"},b:{title:"B",inputType:"FuncFilter",defaultValue:"identity"},a:{title:"A",inputType:"FuncFilter",defaultValue:"identity"}};var Sj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gj(t,e)}(i,t);var e,n,r,o=wj(i);function i(){return vj(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return mj(kj(i.prototype),"getDefaultObject",this).call(this,{type:"DistantLight",azimuth:i.spec.azimuth.defaultValue,elevation:i.spec.elevation.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){return""}},{key:"toLightString",value:function(){var t=this.json,e=t.azimuth,n=t.elevation;return"<feDistantLight ".concat(Oe({azimuth:e,elevation:n})," />")}}])&&bj(e.prototype,n),r&&bj(e,r),i}(bk);function jj(t){return(jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rj(t,e,n){return(Rj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $j(t,e){return($j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ej(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cj(t);if(e){var o=Cj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _j(this,n)}}function _j(t,e){return!e||"object"!==jj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cj(t){return(Cj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Sj.spec={azimuth:{title:"azimuth",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},elevation:{title:"elevation",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)}};var Tj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$j(t,e)}(i,t);var e,n,r,o=Ej(i);function i(){return Pj(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Rj(Cj(i.prototype),"getDefaultObject",this).call(this,{type:"PointLight",x:i.spec.x.defaultValue,y:i.spec.y.defaultValue,z:i.spec.z.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){return""}},{key:"toLightString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.z;return"<fePointLight ".concat(Oe({x:e,y:n,z:r})," />")}}])&&xj(e.prototype,n),r&&xj(e,r),i}(bk);function Dj(t){return(Dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vj(t,e,n){return(Vj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Lj(t,e){return(Lj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bj(t);if(e){var o=Bj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zj(this,n)}}function zj(t,e){return!e||"object"!==Dj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bj(t){return(Bj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Tj.spec={x:{title:"x",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},y:{title:"y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},z:{title:"z",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)}};var Fj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lj(t,e)}(i,t);var e,n,r,o=Mj(i);function i(){return Aj(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Vj(Bj(i.prototype),"getDefaultObject",this).call(this,{type:"SpotLight",x:i.spec.x.defaultValue,y:i.spec.x.defaultValue,z:i.spec.x.defaultValue,pointsAtX:i.spec.pointsAtX.defaultValue,pointsAtY:i.spec.pointsAtY.defaultValue,pointsAtZ:i.spec.pointsAtZ.defaultValue,specularExponent:i.spec.specularExponent.defaultValue,limitingConeAngle:i.spec.limitingConeAngle.defaultValue})}},{key:"isLight",value:function(){return!0}},{key:"toString",value:function(){}},{key:"toLightString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.z,o=t.pointsAtX,i=t.pointsAtY,a=t.pointsAtZ,c=t.specularExponent,u=t.limitingConeAngle;return"<feSpotLight ".concat(Oe({x:e,y:n,z:r,pointsAtX:o,pointsAtY:i,pointsAtZ:a,specularExponent:c,limitingConeAngle:u})," />")}}])&&Ij(e.prototype,n),r&&Ij(e,r),i}(bk);function Gj(t){return(Gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hj(Object(n),!0).forEach((function(e){Yj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uj(t,e,n){return(Uj="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Jj(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Wj(t,e){return(Wj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jj(t);if(e){var o=Jj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qj(this,n)}}function qj(t,e){return!e||"object"!==Gj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jj(t){return(Jj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Fj.spec={x:{title:"x",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},y:{title:"y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},z:{title:"z",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},pointsAtX:{title:"pointsAtX",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},pointsAtY:{title:"pointsAtY",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},pointsAtZ:{title:"pointsAtZ",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},specularExponent:{title:"specularExponent",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(1)},limitingConeAngle:{title:"limitingConeAngle",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(1)}};var Qj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wj(t,e)}(i,t);var e,n,r,o=Zj(i);function i(){return Nj(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Uj(Jj(i.prototype),"getDefaultObject",this).call(this,{type:"DiffuseLighting",surfaceScale:i.spec.surfaceScale.defaultValue,lightingColor:i.spec.lightingColor.defaultValue,diffuseConstant:i.spec.diffuseConstant.defaultValue,lightInfo:""})}},{key:"toCloneObject",value:function(){return Xj(Xj({},Uj(Jj(i.prototype),"toCloneObject",this).call(this)),{},{surfaceScale:this.json.surfaceScale,lightingColor:this.json.lightingColor,diffuseConstant:this.json.diffuseConstant,lightInfo:this.json.lightInfo})}},{key:"hasLight",value:function(){return!0}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.surfaceScale,n=t.diffuseConstant,r=t.lightingColor;return"<feDiffuseLighting ".concat(Oe({surfaceScale:e,diffuseConstant:n,"lighting-color":r}),"  ").concat(this.getDefaultAttribute()," >\n      ").concat(this.json.lightInfo,"\n    </feDiffuseLighting>")}}])&&Kj(e.prototype,n),r&&Kj(e,r),i}(bk);function tP(t){return(tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eP(Object(n),!0).forEach((function(e){rP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aP(t,e,n){return(aP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cP(t,e){return(cP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lP(t);if(e){var o=lP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sP(this,n)}}function sP(t,e){return!e||"object"!==tP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lP(t){return(lP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Qj.spec={surfaceScale:{title:"surfaceScale",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(1)},diffuseConstant:{title:"diffuseConstant",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(1)},lightingColor:{title:"Lighting Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var fP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cP(t,e)}(i,t);var e,n,r,o=uP(i);function i(){return oP(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return aP(lP(i.prototype),"getDefaultObject",this).call(this,{type:"SpecularLighting",surfaceScale:i.spec.surfaceScale.defaultValue,lightingColor:i.spec.lightingColor.defaultValue,specularConstant:i.spec.specularConstant.defaultValue,specularExponent:i.spec.specularExponent.defaultValue,lightInfo:""})}},{key:"toCloneObject",value:function(){return nP(nP({},aP(lP(i.prototype),"toCloneObject",this).call(this)),{},{surfaceScale:this.json.surfaceScale,lightingColor:this.json.lightingColor,specularConstant:this.json.specularConstant,specularExponent:this.json.specularExponent,lightInfo:""})}},{key:"hasLight",value:function(){return!0}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.surfaceScale,n=t.specularConstant,r=t.specularExponent,o=t.lightingColor;return"<feSpecularLighting ".concat(Oe({surfaceScale:e,specularConstant:n,specularExponent:r,"lighting-color":o}),"  ").concat(this.getDefaultAttribute()," >\n      ").concat(this.json.lightInfo,"\n    </feSpecularLighting>")}},{key:"getSourceInAttribute",value:function(){return""}}])&&iP(e.prototype,n),r&&iP(e,r),i}(bk);function pP(t){return(pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dP(t,e,n){return(dP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vP(t,e){return(vP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gP(t);if(e){var o=gP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mP(this,n)}}function mP(t,e){return!e||"object"!==pP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gP(t){return(gP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}fP.spec={surfaceScale:{title:"surfaceScale",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(1)},specularConstant:{title:"Constant",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(1)},specularExponent:{title:"Exponent",inputType:"number-range",min:0,max:100,step:1,defaultValue:R.number(1)},lightingColor:{title:"Lighting Color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var wP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vP(t,e)}(i,t);var e,n,r,o=bP(i);function i(){return yP(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return dP(gP(i.prototype),"getDefaultObject",this).call(this,{type:"Offset",dx:i.spec.dx.defaultValue,dy:i.spec.dy.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.dx,n=t.dy;return"<feOffset \n      ".concat(Oe({dx:e,dy:n}),"  ").concat(this.getDefaultAttribute()," />")}}])&&hP(e.prototype,n),r&&hP(e,r),i}(bk);function OP(t){return(OP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jP(t,e,n){return(jP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function PP(t,e){return(PP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$P(t);if(e){var o=$P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RP(this,n)}}function RP(t,e){return!e||"object"!==OP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $P(t){return($P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}wP.spec={dx:{title:"dx",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},dy:{title:"dy",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)}};var EP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PP(t,e)}(i,t);var e,n,r,o=xP(i);function i(){return kP(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return jP($P(i.prototype),"getDefaultObject",this).call(this,{type:"Blend",mode:i.spec.mode.defaultValue})}},{key:"getInCount",value:function(){return 2}},{key:"toString",value:function(){var t=this.json.mode;return"<feBlend ".concat(Oe({mode:t})," ").concat(this.getDefaultAttribute()," />")}},{key:"hasInIndex",value:function(){return!0}}])&&SP(e.prototype,n),r&&SP(e,r),i}(bk);function _P(t){return(_P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?CP(Object(n),!0).forEach((function(e){DP(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function DP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VP(t,e,n){return(VP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=BP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function LP(t,e){return(LP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function MP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=BP(t);if(e){var o=BP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zP(this,n)}}function zP(t,e){return!e||"object"!==_P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BP(t){return(BP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}EP.spec={mode:{title:"mode",inputType:"blend",defaultValue:"normal"}};var FP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LP(t,e)}(i,t);var e,n,r,o=MP(i);function i(){return AP(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return VP(BP(i.prototype),"getDefaultObject",this).call(this,TP({type:"Source"},t))}},{key:"isSource",value:function(){return!0}},{key:"toString",value:function(){return""}}])&&IP(e.prototype,n),r&&IP(e,r),i}(bk);function GP(t){return(GP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YP(t,e,n){return(YP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=WP(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function NP(t,e){return(NP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function KP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=WP(t);if(e){var o=WP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UP(this,n)}}function UP(t,e){return!e||"object"!==GP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WP(t){return(WP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ZP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NP(t,e)}(i,t);var e,n,r,o=KP(i);function i(){return HP(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return YP(WP(i.prototype),"getDefaultObject",this).call(this,{type:"SourceGraphic"})}}])&&XP(e.prototype,n),r&&XP(e,r),i}(FP);function qP(t){return(qP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tx(t,e,n){return(tx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ox(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ex(t,e){return(ex=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ox(t);if(e){var o=ox(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rx(this,n)}}function rx(t,e){return!e||"object"!==qP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ox(t){return(ox=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ix=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ex(t,e)}(i,t);var e,n,r,o=nx(i);function i(){return JP(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return tx(ox(i.prototype),"getDefaultObject",this).call(this,{type:"SourceAlpha"})}}])&&QP(e.prototype,n),r&&QP(e,r),i}(FP);function ax(t){return(ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ux(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sx(t,e,n){return(sx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function lx(t,e){return(lx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yx(t);if(e){var o=yx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return px(this,n)}}function px(t,e){return!e||"object"!==ax(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yx(t){return(yx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lx(t,e)}(i,t);var e,n,r,o=fx(i);function i(){return cx(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return sx(yx(i.prototype),"getDefaultObject",this).call(this,{type:"BackgroundImage"})}}])&&ux(e.prototype,n),r&&ux(e,r),i}(FP);function dx(t){return(dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mx(t,e,n){return(mx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gx(t,e){return(gx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kx(t);if(e){var o=kx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ox(this,n)}}function Ox(t,e){return!e||"object"!==dx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kx(t){return(kx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gx(t,e)}(i,t);var e,n,r,o=wx(i);function i(){return vx(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return mx(kx(i.prototype),"getDefaultObject",this).call(this,{type:"BackgroundAlpha"})}}])&&bx(e.prototype,n),r&&bx(e,r),i}(FP);function jx(t){return(jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Px(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rx(t,e,n){return(Rx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $x(t,e){return($x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ex(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cx(t);if(e){var o=Cx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _x(this,n)}}function _x(t,e){return!e||"object"!==jx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cx(t){return(Cx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$x(t,e)}(i,t);var e,n,r,o=Ex(i);function i(){return Px(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Rx(Cx(i.prototype),"getDefaultObject",this).call(this,{type:"FillPaint"})}}])&&xx(e.prototype,n),r&&xx(e,r),i}(FP);function Dx(t){return(Dx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ax(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ix(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vx(t,e,n){return(Vx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Lx(t,e){return(Lx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bx(t);if(e){var o=Bx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zx(this,n)}}function zx(t,e){return!e||"object"!==Dx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bx(t){return(Bx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lx(t,e)}(i,t);var e,n,r,o=Mx(i);function i(){return Ax(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Vx(Bx(i.prototype),"getDefaultObject",this).call(this,{type:"StrokePaint"})}}])&&Ix(e.prototype,n),r&&Ix(e,r),i}(FP);function Gx(t){return(Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yx(t,e,n){return(Yx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Nx(t,e){return(Nx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wx(t);if(e){var o=Wx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ux(this,n)}}function Ux(t,e){return!e||"object"!==Gx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wx(t){return(Wx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nx(t,e)}(i,t);var e,n,r,o=Kx(i);function i(){return Hx(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return Yx(Wx(i.prototype),"getDefaultObject",this).call(this,{type:"DropShadow",dx:i.spec.dx.defaultValue,dy:i.spec.dy.defaultValue,stdDeviation:i.spec.stdDeviation.defaultValue,color:i.spec.color.defaultValue,opacity:i.spec.opacity.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json,e=t.dx,n=t.dy,r=t.stdDeviation,o=t.color,i=t.opacity;return"<feDropShadow ".concat(Oe({dx:e,dy:n,stdDeviation:r,"flood-color":o,"flood-opacity":i}),"  ").concat(this.getDefaultAttribute()," />")}}])&&Xx(e.prototype,n),r&&Xx(e,r),i}(bk);function qx(t){return(qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tR(t,e,n){return(tR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=oR(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function eR(t,e){return(eR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oR(t);if(e){var o=oR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rR(this,n)}}function rR(t,e){return!e||"object"!==qx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oR(t){return(oR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Zx.spec={dx:{title:"dx",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},dy:{title:"dy",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},stdDeviation:{title:"stdDeviation",inputType:"number-range",min:0,max:1e3,step:.1,defaultValue:R.number(0)},opacity:{title:"opacity",inputType:"number-range",min:0,max:1,step:.01,defaultValue:R.number(1)},color:{title:"color",inputType:"color",defaultValue:"rgba(0, 0, 0, 1)"}};var iR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eR(t,e)}(i,t);var e,n,r,o=nR(i);function i(){return Jx(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return tR(oR(i.prototype),"getDefaultObject",this).call(this,{type:"Saturate",values:i.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values;return'<feColorMatrix type="saturate" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />")}}])&&Qx(e.prototype,n),r&&Qx(e,r),i}(bk);function aR(t){return(aR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sR(t,e,n){return(sR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yR(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function lR(t,e){return(lR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yR(t);if(e){var o=yR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pR(this,n)}}function pR(t,e){return!e||"object"!==aR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yR(t){return(yR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}iR.spec={values:{title:"values",inputType:"number-range",min:-1,max:1,step:.01,defaultValue:R.number(0)}};var hR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lR(t,e)}(i,t);var e,n,r,o=fR(i);function i(){return cR(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return sR(yR(i.prototype),"getDefaultObject",this).call(this,{type:"HueRotate",values:i.spec.values.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){var t=this.json.values;return'<feColorMatrix type="hueRotate" values="'.concat(t,'"  ').concat(this.getDefaultAttribute()," />")}}])&&uR(e.prototype,n),r&&uR(e,r),i}(bk);function dR(t){return(dR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mR(t,e,n){return(mR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kR(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gR(t,e){return(gR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kR(t);if(e){var o=kR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OR(this,n)}}function OR(t,e){return!e||"object"!==dR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kR(t){return(kR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}hR.spec={values:{title:"values",inputType:"number-range",min:0,max:360,step:.1,defaultValue:R.number(0)}};var SR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gR(t,e)}(i,t);var e,n,r,o=wR(i);function i(){return vR(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return mR(kR(i.prototype),"getDefaultObject",this).call(this,{type:"LuminanceAlpha"})}},{key:"getInCount",value:function(){return 1}},{key:"toString",value:function(){return'<feColorMatrix type="luminanceToAlpha" '.concat(this.getDefaultAttribute()," />")}}])&&bR(e.prototype,n),r&&bR(e,r),i}(bk);function jR(t){return(jR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RR(t,e,n){return(RR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=CR(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $R(t,e){return($R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ER(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=CR(t);if(e){var o=CR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _R(this,n)}}function _R(t,e){return!e||"object"!==jR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CR(t){return(CR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}SR.spec={};var TR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$R(t,e)}(i,t);var e,n,r,o=ER(i);function i(){return PR(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return RR(CR(i.prototype),"getDefaultObject",this).call(this,{type:"Tile",x:i.spec.x.defaultValue,y:i.spec.y.defaultValue,width:i.spec.width.defaultValue,height:i.spec.height.defaultValue})}},{key:"getInCount",value:function(){return 1}},{key:"convert",value:function(t){return t.x=R.parse(t.x),t.y=R.parse(t.y),t.width=R.parse(t.width),t.height=R.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.x,n=t.y,r=t.width,o=t.height;return"<feTile ".concat(Oe({x:e,y:n,width:r,height:o})," ").concat(this.getDefaultAttribute()," />")}}])&&xR(e.prototype,n),r&&xR(e,r),i}(bk);function DR(t){return(DR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VR(t,e,n){return(VR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=BR(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function LR(t,e){return(LR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function MR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=BR(t);if(e){var o=BR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zR(this,n)}}function zR(t,e){return!e||"object"!==DR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BR(t){return(BR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}TR.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)}};var FR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LR(t,e)}(i,t);var e,n,r,o=MR(i);function i(){return AR(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){return VR(BR(i.prototype),"getDefaultObject",this).call(this,{type:"Image",x:i.spec.x.defaultValue,y:i.spec.y.defaultValue,width:i.spec.width.defaultValue,height:i.spec.height.defaultValue,src:i.spec.src.defaultValue,alignment:i.spec.alignment.defaultValue,scaleing:i.spec.scaleing.defaultValue})}},{key:"convert",value:function(t){return t.x=R.parse(t.x),t.y=R.parse(t.y),t.width=R.parse(t.width),t.height=R.parse(t.height),t}},{key:"toString",value:function(){var t=this.json,e=t.src,n=t.x,r=t.y,o=t.width,i=t.height,a=t.alignment,c=t.scaleing;return"<feImage ".concat(Oe({x:n,y:r,width:o,height:i,"xlink:href":e,preserveAspectRatio:"".concat(a," ").concat(c)})," ").concat(this.getDefaultAttribute()," />")}}])&&IR(e.prototype,n),r&&IR(e,r),i}(bk);function GR(t){return(GR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?HR(Object(n),!0).forEach((function(e){YR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function YR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UR(t,e,n){return(UR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=JR(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function WR(t,e){return(WR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=JR(t);if(e){var o=JR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qR(this,n)}}function qR(t,e){return!e||"object"!==GR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JR(t){return(JR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}FR.spec={x:{title:"X",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},y:{title:"Y",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},width:{title:"width",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},height:{title:"height",inputType:"number-range",min:0,max:1e3,step:1,defaultValue:R.number(0)},alignment:{title:"alignment",inputType:"select",options:"xMinYMin,xMidYMin,xMaxYMin,xMinYMid,xMidYMid,xMaxYMid,xMinYMax,xMidYMax,xMaxYMax",defaultValue:"xMidYMid"},scaleing:{title:"scaleing",inputType:"select",options:"meet,slice",defaultValue:"meet"},src:{title:"Image",inputType:"ImageSelectEditor",defaultValue:""}};var QR=["result"],t$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WR(t,e)}(i,t);var e,n,r,o=ZR(i);function i(){return NR(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new(0,e$[t.type])(t)}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return UR(JR(i.prototype),"getDefaultObject",this).call(this,XR({itemType:"svgfilter",result:""},t))}},{key:"getDefaultAttribute",value:function(){var t=this;return QR.map((function(e){return"".concat(e,'="').concat(t.json[e],'"')})).join(" ")}},{key:"toString",value:function(){var t=this.json,e=t.type,n=t.value;return"<fe".concat(e,' value="').concat(n,'" ').concat(this.getDefaultAttribute()," />")}}])&&KR(e.prototype,n),r&&KR(e,r),i}(Ui),e$={Image:FR,Tile:TR,Saturate:iR,HueRotate:hR,LuminanceAlpha:SR,DropShadow:Zx,SourceGraphic:ZP,SourceAlpha:ix,BackgroundImage:hx,BackgroundAlpha:Sx,FillPaint:Tx,StrokePaint:Fx,ComponentTransfer:hj,DistantLight:Sj,PointLight:Tj,SpotLight:Fj,DiffuseLighting:Qj,SpecularLighting:fP,Blend:EP,Offset:wP,RotaMatrix:xk,GaussianBlur:XS,Flood:QS,Merge:Ik,Composite:Xk,Morphology:Qk,Turbulence:uS,DisplacementMap:bS,ColorMatrix:xS,ConvolveMatrix:IS},n$={Image:FR.spec,Tile:TR.spec,DropShadow:Zx.spec,Saturate:iR.spec,HueRotate:hR.spec,LuminanceAlpha:SR.spec,Offset:wP.spec,ComponentTransfer:hj.spec,SpecularLighting:fP.spec,SpotLight:Fj.spec,PointLight:Tj.spec,DistantLight:Sj.spec,DiffuseLighting:Qj.spec,Blend:EP.spec,RotaMatrix:xk.spec,Merge:Ik.spec,GaussianBlur:XS.spec,Flood:QS.spec,Morphology:Qk.spec,Composite:Xk.spec,Turbulence:uS.spec,DisplacementMap:bS.spec,ColorMatrix:xS.spec,ConvolveMatrix:IS.spec};function r$(t){return(r$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o$(Object(n),!0).forEach((function(e){a$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u$(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f$(t,e,n){return(f$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function p$(t,e){return(p$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d$(t);if(e){var o=d$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h$(this,n)}}function h$(t,e){return!e||"object"!==r$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d$(t){return(d$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p$(t,e)}(i,t);var e,n,r,o=y$(i);function i(){return s$(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultTitle",value:function(){return"New Project"}},{key:"toRootVariableCSS",value:function(){var t={};return this.json.rootVariable.split(";").filter((function(t){return t.trim()})).forEach((function(e){var n=c$(e.split(":"),2),r=n[0],o=n[1];t["--".concat(r)]=o})),t}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f$(d$(i.prototype),"getDefaultObject",this).call(this,i$({itemType:"project",name:"new Project",description:"",rootVariable:""},t))}},{key:"toCloneObject",value:function(){var t=this.json,e=t.name,n=t.description,r=t.rootVariable;return i$(i$({},f$(d$(i.prototype),"toCloneObject",this).call(this)),{},{name:e,description:n,rootVariable:r})}},{key:"toSVGString",value:function(){return this.json.svgfilters.map((function(t){var e=t.filters.map((function(t){return t$.parse(t)}));return"<filter id='".concat(t.id,"'>\n  ").concat(e.join("\n"),"\n</filter>\n")})).join("\n\n")}},{key:"isAbsolute",get:function(){return!1}},{key:"parent",get:function(){return null}},{key:"artboards",get:function(){return this.json.layers||[]}},{key:"html",get:function(){return this.artboards.map((function(t){return t.html})).join("\n\n")}}])&&l$(e.prototype,n),r&&l$(e,r),i}(rk);function b$(t){return(b$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w$(t,e,n){return(w$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function O$(t,e){return(O$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j$(t);if(e){var o=j$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S$(this,n)}}function S$(t,e){return!e||"object"!==b$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j$(t){return(j$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("project",v$);var P$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O$(t,e)}(i,t);var e,n,r,o=k$(i);function i(){return m$(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"is",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return!!n.includes("component")||(t=w$(j$(i.prototype),"is",this)).call.apply(t,[this].concat(n))}},{key:"getProps",value:function(){return[]}}])&&g$(e.prototype,n),r&&g$(e,r),i}($m);function x$(t){return(x$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R$(t){return function(t){if(Array.isArray(t))return $$(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return $$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $$(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E$(Object(n),!0).forEach((function(e){C$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A$(t,e,n){return(A$="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M$(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function I$(t,e){return(I$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M$(t);if(e){var o=M$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L$(this,n)}}function L$(t,e){return!e||"object"!==x$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M$(t){return(M$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("component",P$);var z$=["front","back","left","right","top","bottom"],B$={"front.color":".front","back.color":".back","left.color":".left","right.color":".right","top.color":".top","bottom.color":".bottom","front.background":".front","back.background":".back","left.background":".left","right.background":".right","top.background":".top","bottom.background":".bottom"},F$={position:!0,left:!0,top:!0,right:!0,bottom:!0,width:!0,height:!0,opacity:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"background-clip":!0,"clip-path":!0,animation:!0,transition:!0,transform:!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"perspective-origin":!0,"offset-path":!0},G$={filter:!0,"mix-blend-mode":!0,"background-image":!0,"border-radius":!0,border:!0},H$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I$(t,e)}(i,t);var e,n,r,o=V$(i);function i(){return T$(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getIcon",value:function(){return vm.cube}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A$(M$(i.prototype),"getDefaultObject",this).call(this,_$({itemType:"cube",name:"New Cube","transform-style":"preserve-3d","backface-visibility":"visible",rate:R.number(1),transform:"rotateX(10deg) rotateY(30deg)",border:"border:1px solid black"},t))}},{key:"getProps",value:function(){return[{key:"rate",editor:"NumberRangeEditor",editorOptions:{label:"radius",min:0,max:10,step:.1},refresh:!0,defaultValue:this.json.rate.value},{key:"backface-visibility",editor:"SelectIconEditor",editorOptions:{label:"visibility",options:"visible,hidden"},refresh:!0,defaultValue:this.json["backface-visibility"]},"Background Color"].concat(R$(z$.map((function(t){return{key:"".concat(t,".color"),editor:"ColorViewEditor",editorOptions:{label:t,params:"".concat(t,".color")},defaultValue:"rgba(0, 0, 0, 1)"}}))),["Background Image"],R$(z$.map((function(t){return{key:"".concat(t,".background"),editor:"BackgroundImageEditor",editorOptions:{title:t},defaultValue:""}}))))}},{key:"setCustomKeyframes",value:function(t,e){e.property.includes(".color")&&t.push({selector:'[data-id="'.concat(this.json.id,'"] ').concat(B$[e.property]),properties:[_$(_$({},e),{},{property:"background-color"})]}),e.property.includes(".background")&&t.push({selector:'[data-id="'.concat(this.json.id,'"] ').concat(B$[e.property]),properties:[_$(_$({},e),{},{property:"background-image"})]})}},{key:"toAnimationKeyframes",value:function(t){var e=this,n=[],r=[],o=[];t.forEach((function(t){t.property.includes(".color")||t.property.includes(".background")?n.push(t):F$[t.property]?r.push(t):G$[t.property]&&o.push(t)}));var i=[];return r.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"]'),properties:r}),o.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"] div'),properties:o}),n.length&&n.forEach((function(t){e.setCustomKeyframes(i,t)})),i}},{key:"convert",value:function(t){return(t=A$(M$(i.prototype),"convert",this).call(this,t)).rate=R.parse(t.rate),t}},{key:"toCloneObject",value:function(){var t=this,e={};return z$.forEach((function(n){e["".concat(n,".color")]=t.json["".concat(n,".color")],e["".concat(n,".background")]=t.json["".concat(n,".background")]})),_$(_$({},A$(M$(i.prototype),"toCloneObject",this).call(this)),{},{rate:this.json.rate.clone()},e)}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Cube"}},{key:"getIcon",value:function(){return vm.cube}},{key:"toDefaultCSS",value:function(){var t={};return this.json.x&&(t.left=this.json.x),this.json.y&&(t.top=this.json.y),t.visibility=this.json.visible?"visible":"hidden",_$(_$({},t),this.toKeyListCSS("position","right","bottom","width","height","transform-origin","transform","transform-style","perspective","perspective-origin"))}},{key:"toCSS",value:function(){return _$(_$(_$(_$(_$(_$(_$({},this.toVariableCSS()),this.toDefaultCSS()),this.toWebkitCSS()),this.toBoxModelCSS()),this.toAnimationCSS()),this.toTransitionCSS()),this.toLayoutItemCSS())}},{key:"toNestedCSS",value:function(){var t=this.json,e=t.rate.value,n=t.width,r=t.height,o=n.value/2,i=r.value/2,a=t["backface-visibility"],c=_$(_$(_$(_$({},this.toKeyListCSS("filter","mix-blend-mode","border-radius","background-color","opacity","color")),this.toClipPathCSS()),this.toBackgroundImageCSS()),this.toBorderCSS());return[{selector:"div",cssText:"\n          position: absolute;\n          left: 0px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          opacity: 1;\n          pointer-events: none;\n          ".concat(ge(c),"\n        ").trim()},{selector:".front",cssText:"\n          transform:rotateY(0deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";     \n          backface-visibility: ").concat(a,";          \n          ").concat(t["front.color"]?"background-color: ".concat(t["front.color"],";"):"","\n          ").concat(t["front.background"]?"".concat(t["front.background"],";"):"","\n\n        ").trim()},{selector:".back",cssText:"\n          transform: rotateY(180deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";        \n          backface-visibility: ").concat(a,";              \n          ").concat(t["back.color"]?"background-color: ".concat(t["back.color"],";"):"","                  \n          ").concat(t["back.background"]?"".concat(t["back.background"],";"):"","\n        ").trim()},{selector:".left",cssText:"\n          transform: rotateY(-90deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";    \n          backface-visibility: ").concat(a,";          \n          ").concat(t["left.color"]?"background-color: ".concat(t["left.color"],";"):"","                          \n          ").concat(t["left.background"]?"".concat(t["left.background"],";"):"","\n        ").trim()},{selector:".right",cssText:"\n          transform: rotateY(90deg) translateZ(".concat(o*e,"px);\n          width: ").concat(n,";\n          height: ").concat(r,";      \n          backface-visibility: ").concat(a,";          \n          ").concat(t["right.color"]?"background-color: ".concat(t["right.color"],";"):"","                        \n          ").concat(t["right.background"]?"".concat(t["right.background"],";"):"","          \n        ").trim()},{selector:".top",cssText:"\n          transform: rotateX(90deg) translateZ(".concat(i*e,"px);\n          top: ").concat(i-o,"px;\n          width: ").concat(n,";\n          height: ").concat(n,";\n          backface-visibility: ").concat(a,";          \n          ").concat(t["top.color"]?"background-color: ".concat(t["top.color"],";"):"","      \n          ").concat(t["top.background"]?"".concat(t["top.background"],";"):"","              \n        ").trim()},{selector:".bottom",cssText:"\n          transform: rotateX(-90deg) translateZ(".concat(i*e,"px);\n          top: ").concat(i-o,"px;          \n          width: ").concat(n,";\n          height: ").concat(n,";    \n          backface-visibility: ").concat(a,";          \n          ").concat(t["bottom.color"]?"background-color: ".concat(t["bottom.color"],";"):"","\n          ").concat(t["bottom.background"]?"".concat(t["bottom.background"],";"):"","                          \n        ").trim()}]}},{key:"toSVG",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.width,i=r.height,a=this.toCSS(),c=this.toNestedCSS(),u={},s=c.find((function(t){return"div"===t.selector}))||{cssText:""};return s=s.cssText.replace(/\n/g,""),z$.forEach((function(t){u[t]=c.find((function(e){return e.selector==="."+t}))||{cssText:""},u[t]=u[t].cssText.replace(/\n/g,"")})),n?(delete a.left,delete a.top,"absolute"===a.position&&delete a.position,this.wrapperRootSVG(t,e,o,i,"\n        <foreignObject ".concat(Oe({width:o.value,height:i.value,overflow:"visible"}),'>\n          <div xmlns="http://www.w3.org/1999/xhtml">\n            <div style="').concat(ge(a),'">\n            ').concat(z$.map((function(t){return'<div style="'.concat(s,";").concat(u[t],'"></div>')})).join(""),"          \n          </div>   \n          </div>\n        </foreignObject>          \n\n      "))):"\n        ".concat(this.toDefString,"\n        <foreignObject ").concat(Oe({width:o.value,height:i.value,overflow:"visible"}),'>\n          <div xmlns="http://www.w3.org/1999/xhtml">\n            <div style="').concat(ge(a),'">\n              ').concat(z$.map((function(t){return'<div style="'.concat(s,";").concat(u[t],'"></div>')})).join(""),"          \n            </div>   \n          </div>\n        </foreignObject>          \n      ")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType;return"\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'">\n        ').concat(this.toDefString,"\n        ").concat(z$.map((function(t){return"<div class='".concat(t,"'></div>")})).join(""),"\n      </div>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&D$(e.prototype,n),r&&D$(e,r),i}(P$);function X$(t){return(X$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||K$(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N$(t){return function(t){if(Array.isArray(t))return U$(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||K$(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K$(t,e){if(t){if("string"==typeof t)return U$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U$(t,e):void 0}}function U$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W$(Object(n),!0).forEach((function(e){q$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function q$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tE(t,e,n){return(tE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=oE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function eE(t,e){return(eE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oE(t);if(e){var o=oE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rE(this,n)}}function rE(t,e){return!e||"object"!==X$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oE(t){return(oE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("cube",H$);var iE={count:!0,rate:!0,face:!0},aE={position:!0,left:!0,top:!0,right:!0,bottom:!0,width:!0,height:!0,opacity:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"background-clip":!0,"clip-path":!0,animation:!0,transition:!0,transform:!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"perspective-origin":!0,"offset-path":!0},cE={filter:!0,"mix-blend-mode":!0,"background-image":!0,"background-color":!0,"border-radius":!0,border:!0},uE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eE(t,e)}(i,t);var e,n,r,o=nE(i);function i(){return J$(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getIcon",value:function(){return vm.cylinder}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tE(oE(i.prototype),"getDefaultObject",this).call(this,Z$({itemType:"cylinder",name:"New Cylinder","transform-style":"preserve-3d","backface-visibility":"visible",transform:"rotateX(10deg) rotateY(30deg)",count:R.number(40),rate:R.number(1),border:"border-top: 1px solid black;border-bottom: 1px solid black;"},t))}},{key:"getProps",value:function(){var t=this.json.count.value;return["Side",{key:"count",editor:"NumberRangeEditor",editorOptions:{label:"Count",min:3,max:100,step:1},refresh:!0,defaultValue:t},{key:"rate",editor:"NumberRangeEditor",editorOptions:{label:"radius",min:0,max:10,step:.1},refresh:!0,defaultValue:this.json.rate.value},{key:"backface-visibility",editor:"SelectIconEditor",editorOptions:{label:"visibility",options:"visible,hidden"},refresh:!0,defaultValue:this.json["backface-visibility"]},"Color"].concat(N$(de(t).map((function(t,e){return{key:"face.".concat(e,".color"),editor:"ColorViewEditor",editorOptions:{label:"face ".concat(e),params:"face.".concat(e,".color")},defaultValue:"rgba(0, 0, 0, 1)"}}))),["Background"],N$(de(t).map((function(t,e){return{key:"face.".concat(e,".background"),editor:"BackgroundImageEditor",editorOptions:{title:"face ".concat(e)},defaultValue:""}}))))}},{key:"setCustomKeyframes",value:function(t,e){var n=this;if("rate"===e.property){var r=this.json.width,o=this.json.count.value,i=r.value/2,a=360/o,c=de(o).map((function(t,r){var o=r*a;return{selector:'[data-id="'.concat(n.json.id,'"] .face[data-index="').concat(r,'"]'),properties:[{keyframes:e.keyframes.map((function(t){var e=t.time,n=t.value,r=t.timing;return{time:e,value:"rotateY(".concat(o,"deg) translateZ(").concat(i*n,"px)"),timing:r}})),property:"transform"}]}}));t.push.apply(t,N$(c))}if(e.property.includes(".color")){var u=Y$(e.property.split("."),3),s=(u[0],u[1]);u[2],t.push({selector:'[data-id="'.concat(this.json.id,'"] .face[data-index="').concat(s,'"]'),properties:[Z$(Z$({},e),{},{property:"background-color"})]})}if(e.property.includes(".background")){var l=Y$(e.property.split("."),3);l[0],s=l[1],l[2],t.push({selector:'[data-id="'.concat(this.json.id,'"] .face[data-index="').concat(s,'"]'),properties:[Z$(Z$({},e),{},{property:"background-image"})]})}}},{key:"toAnimationKeyframes",value:function(t){var e=this,n=[],r=[],o=[];t.forEach((function(t){t.property.includes("face")||iE[t.property]?n.push(t):aE[t.property]?r.push(t):cE[t.property]&&o.push(t)}));var i=[];return r.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"]'),properties:r}),o.length&&i.push({selector:'[data-id="'.concat(this.json.id,'"] div'),properties:o}),n.length&&n.forEach((function(t){e.setCustomKeyframes(i,t)})),i}},{key:"convert",value:function(t){return(t=tE(oE(i.prototype),"convert",this).call(this,t)).count=R.parse(t.count),t.rate=R.parse(t.rate),t}},{key:"toCloneObject",value:function(){var t=this,e={};return de(this.json.count.value).forEach((function(n,r){e["face.".concat(r,".color")]=t.json["face.".concat(r,".color")],e["face.".concat(r,".background")]=t.json["face.".concat(r,".background")]})),Z$(Z$({},tE(oE(i.prototype),"toCloneObject",this).call(this)),{},{count:this.json.count.clone(),rate:this.json.rate.clone()},e)}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Cylinder"}},{key:"getIcon",value:function(){return vm.cylinder}},{key:"toDefaultCSS",value:function(){var t={};return this.json.x&&(t.left=this.json.x),this.json.y&&(t.top=this.json.y),Z$(Z$({},t),this.toKeyListCSS("position","right","bottom","width","height","transform-origin","transform","transform-style","perspective","perspective-origin"))}},{key:"toCSS",value:function(){return Z$(Z$(Z$(Z$(Z$(Z$({},this.toVariableCSS()),this.toDefaultCSS()),this.toWebkitCSS()),this.toBoxModelCSS()),this.toAnimationCSS()),this.toTransitionCSS())}},{key:"toNestedCSS",value:function(){var t=this.json,e=t.count.value,n=t.width,r=t["backface-visibility"],o=t.rate.value,i=this.cylinderInfo,a=i.angle,c=i.r,u=i.faceWidth,s=Z$(Z$(Z$(Z$({},this.toKeyListCSS("filter","mix-blend-mode","border-radius","opacity","background-color")),this.toBackgroundImageCSS()),this.toBorderCSS()),this.toClipPathCSS()),l=de(e).map((function(e,n){var r=n*a,i="face.".concat(n,".color"),u="face.".concat(n,".background");return{selector:'.face[data-index="'.concat(n,'"]'),cssText:"\n          transform:rotateY(".concat(r,"deg) translateZ(").concat(c*o,"px);\n          ").concat(t[i]?"background-color: ".concat(t[i],";"):"","\n          ").concat(t[u]?"".concat(t[u],";"):"","\n        ").trim()}}));return[{selector:".face",cssText:"\n          position: absolute;\n          left: ".concat(n.value/2-u/2,"px;\n          top: 0px;\n          bottom: 0px;\n          right: 0px;\n          width: ").concat(u,"px;\n          backface-visibility: ").concat(r,";\n          opacity: 1;\n          pointer-events: none;\n          ").concat(ge(s),"\n        ").trim()}].concat(N$(l))}},{key:"updateFunction",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(tE(oE(i.prototype),"updateFunction",this).call(this,t,e),e){var n=+t.attr("data-count");if(n!==this.json.count.value){t.$$(".face").forEach((function(t){return t.remove()}));var r=de(this.json.count.value).map((function(t,e){return"<div class='face' data-index=\"".concat(e,'"></div>')})).join("");t.appendHTML(r),t.attr("data-count",this.json.count)}}}},{key:"cylinderInfo",get:function(){var t=this.json.width.value,e={x:a=t/2,y:t/2},n=[],r=this.json.count.value;r<3&&(r=3);for(var o=360/r,i=0;i<360;i+=o)n.push(X(i,a,e.x,e.y));var a,c=Y(n[0].x,n[0].y,n[1].x,n[1].y),u={x:(n[0].x+n[1].x)/2,y:(n[0].y+n[1].y)/2};return{polygon:n,faceWidth:c,angle:o,r:a=Y(u.x,u.y,e.x,e.y)}}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType,r=this.json.count.value;return"\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'" data-count="').concat(r,'">\n        ').concat(this.toDefString,"\n        ").concat(de(r).map((function(t,e){return"<div class='face' data-index=\"".concat(e,'"></div>')})).join(""),"\n      </div>")}},{key:"svg",get:function(){var t=this.json,e=t.width,n=t.height,r=t.x,o=t.y;r=r.value,o=o.value;var i=this.toCSS(),a=this.toNestedCSS(),c=this.json.count.value,u=a.find((function(t){return".face"===t.selector}))||{cssText:""};u=u.cssText.replace(/\n/g,"");var s=de(c).map((function(t,e){return a[e+1].cssText.replace(/\n/g,"")}));return delete i.left,delete i.top,"absolute"===i.position&&delete i.position,'\n    <g transform="translate('.concat(r,", ").concat(o,')">\n    ').concat(this.toDefString,"\n      <foreignObject ").concat(Oe({width:e.value,height:n.value,overflow:"visible"}),'>\n        <div xmlns="http://www.w3.org/1999/xhtml">\n          <div style="').concat(ge(i),'">\n            ').concat(de(c).map((function(t,e){return"<div class='face' data-index=\"".concat(e,"\" style='").concat(u,";").concat(s[e],";'></div>")})).join(""),"\n          </div>\n        </div>\n      </foreignObject>    \n    </g>\n")}}])&&Q$(e.prototype,n),r&&Q$(e,r),i}(P$);function sE(t){return(sE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lE(Object(n),!0).forEach((function(e){pE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dE(t,e,n){return(dE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vE(t,e){return(vE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gE(t);if(e){var o=gE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mE(this,n)}}function mE(t,e){return!e||"object"!==sE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gE(t){return(gE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("cylinder",uE);var wE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vE(t,e)}(i,t);var e,n,r,o=bE(i);function i(){return yE(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dE(gE(i.prototype),"getDefaultObject",this).call(this,fE({itemType:"artboard",name:"New ArtBoard",width:R.px(1e3),height:R.px(1e3),"background-color":"white"},t))}},{key:"isLeaf",value:function(){return!1}},{key:"toCloneObject",value:function(){return fE(fE({},dE(gE(i.prototype),"toCloneObject",this).call(this)),{},{name:this.json.name})}},{key:"getDefaultTitle",value:function(){return"ArtBoard"}},{key:"getIcon",value:function(){return vm.artboard}},{key:"toDefaultCSS",value:function(){return fE({},dE(gE(i.prototype),"toDefaultCSS",this).call(this))}}])&&hE(e.prototype,n),r&&hE(e,r),i}(fm);function OE(t){return(OE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function SE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kE(Object(n),!0).forEach((function(e){jE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RE(t,e,n){return(RE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=CE(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $E(t,e){return($E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function EE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=CE(t);if(e){var o=CE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _E(this,n)}}function _E(t,e){return!e||"object"!==OE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CE(t){return(CE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("artboard",wE);var TE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$E(t,e)}(i,t);var e,n,r,o=EE(i);function i(){return PE(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getIcon",value:function(){return vm.image}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return RE(CE(i.prototype),"getDefaultObject",this).call(this,SE({itemType:"image",name:"New Image",elementType:"image",src:""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Image"}},{key:"getIcon",value:function(){return vm.image}},{key:"toCloneObject",value:function(){return SE(SE({},RE(CE(i.prototype),"toCloneObject",this).call(this)),{},{src:this.json.src+""})}},{key:"resize",value:function(){this.reset({width:this.json.naturalWidth.clone(),height:this.json.naturalHeight.clone()})}},{key:"updateFunction",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.json.src;e&&t.$("img").attr("src",n),RE(CE(i.prototype),"updateFunction",this).call(this,t,e)}},{key:"toNestedCSS",value:function(){return this.json,SE(SE(SE(SE({},this.toKeyListCSS("filter","mix-blend-mode","border-radius","background-color","opacity")),this.toClipPathCSS()),this.toBackgroundImageCSS()),this.toBorderCSS()),[{selector:"img",cssText:"\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        ".trim()}]}},{key:"toSVG",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.width,i=r.height,a=r.src,c=this.toCSS();return n?(delete c.left,delete c.top,"absolute"===c.position&&delete c.position,this.wrapperRootSVG(t,e,o,i,'\n        <img style="'.concat(ge(c),'" src="').concat(a,' "/>\n      '))):"\n        ".concat(this.toDefString,'      \n        <img style="').concat(ge(c),'" src="').concat(a,' "/>\n      ')}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType,r=t.src;return"\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'">\n        ').concat(this.toDefString,"\n        <img src='").concat(r,"' />\n      </div>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&xE(e.prototype,n),r&&xE(e,r),i}($m);function DE(t){return(DE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VE(t,e){return(VE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function LE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zE(t);if(e){var o=zE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ME(this,n)}}function ME(t,e){return!e||"object"!==DE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zE(t){return(zE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("image",TE);var BE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VE(t,e)}(i,t);var e,n,r,o=LE(i);function i(){return AE(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"toString",value:function(){return""}},{key:"toSVGString",value:function(t){return""}},{key:"toFillValue",value:function(t){return""}}])&&IE(e.prototype,n),r&&IE(e,r),i}(is);function FE(t){return(FE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||XE(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HE(t){return function(t){if(Array.isArray(t))return YE(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||XE(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XE(t,e){if(t){if("string"==typeof t)return YE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YE(t,e):void 0}}function YE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function KE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?NE(Object(n),!0).forEach((function(e){UE(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function UE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qE(t,e,n){return(qE="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=e_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function JE(t,e){return(JE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function QE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=e_(t);if(e){var o=e_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return t_(this,n)}}function t_(t,e){return!e||"object"!==FE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function e_(t){return(e_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JE(t,e)}(i,t);var e,n,r,o=QE(i);function i(){return WE(this,i),o.apply(this,arguments)}return e=i,r=[{key:"toLinearGradient",value:function(t){return 0===t.length?"none":new LinearGradient({angle:"to right",colorsteps:t})+""}},{key:"parse",value:function(t){var e=vn(t),n={},r=[];return e.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,o){if(t.includes("@"))t=mn(t,e.matches),r.push.apply(r,HE(Nu.parse(t)));else{var i=GE(t.split(" "),5),a=i[0],c=i[1],u=i[2],s=i[3],l=i[4];n.x1=R.parse(a),n.y1=R.parse(c),n.x2=R.parse(u),n.y2=R.parse(s),n.spreadMethod=l||"pad"}})),new i(KE(KE({},n),{},{colorsteps:r}))}}],(n=[{key:"getDefaultObject",value:function(t){return qE(e_(i.prototype),"getDefaultObject",this).call(this,KE({type:"linear-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",spreadMethod:"pad"},t))}},{key:"toCloneObject",value:function(){return KE(KE({},qE(e_(i.prototype),"toCloneObject",this).call(this)),{},{x1:this.json.x1,y1:this.json.y1,x2:this.json.x2,y2:this.json.y2,spreadMethod:this.json.spreadMethod})}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e=this.json,n=[e.x1,e.y1,e.x2,e.y2,e.spreadMethod].join(" ");return"".concat(this.json.type,"(").concat(n,", ").concat(t,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.x1,r=e.y1,o=e.x2,i=e.y2,a=e.spreadMethod;return"\n<linearGradient ".concat(Oe({id:t,x1:n,x2:o,y1:r,y2:i,spreadMethod:a})," >\n  ").concat(this.colorsteps.map((function(t){return'<stop offset="'.concat(t.percent,'%"  stop-color="').concat(t.color,'" ></stop>')})).join("\n"),"\n</linearGradient>\n      ")}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&ZE(e.prototype,n),r&&ZE(e,r),i}(BE);function r_(t){return(r_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||a_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i_(t){return function(t){if(Array.isArray(t))return c_(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a_(t,e){if(t){if("string"==typeof t)return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c_(t,e):void 0}}function c_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u_(Object(n),!0).forEach((function(e){l_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y_(t,e,n){return(y_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function h_(t,e){return(h_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b_(t);if(e){var o=b_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v_(this,n)}}function v_(t,e){return!e||"object"!==r_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b_(t){return(b_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h_(t,e)}(i,t);var e,n,r,o=d_(i);function i(){return f_(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){var e=vn(t),n={},r=[];return e.str.split("(")[1].split(")")[0].split(",").map((function(t){return t.trim()})).forEach((function(t,o){if(t.includes("@"))t=mn(t,e.matches),r.push.apply(r,i_(Nu.parse(t)));else{var i=o_(t.split(" "),7),a=i[0],c=i[1],u=i[2],s=i[3],l=i[4],f=i[5],p=i[6];n.cx=a,n.cy=c,n.r=u,n.fx=s,n.fy=l,n.fr=f,n.spreadMethod=p||"pad"}})),new i(s_(s_({},n),{},{colorsteps:r}))}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y_(b_(i.prototype),"getDefaultObject",this).call(this,s_({type:"radial-gradient",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",fr:"0%",spreadMethod:"pad"},t))}},{key:"toCloneObject",value:function(){var t=this.json,e=t.cx,n=t.cy,r=t.r,o=t.fx,a=t.fy,c=t.fr,u=t.spreadMethod;return s_(s_({},y_(b_(i.prototype),"toCloneObject",this).call(this)),{},{cx:e,cy:n,r:r,fx:o,fy:a,fr:c,spreadMethod:u})}},{key:"toString",value:function(){if(0===this.colorsteps.length)return"";var t=this.getColorString(),e=this.json,n=[e.cx,e.cy,e.r,e.fx,e.fy,e.fr,e.spreadMethod].join(" ");return"".concat(this.json.type,"(").concat(n,", ").concat(t,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.cx,r=e.cy,o=e.r,i=e.fx,a=e.fy,c=e.fr,u=e.spreadMethod;return"\n<radialGradient ".concat(Oe({id:t,cx:n,cy:r,r:o,fx:i,fy:a,fr:c,spreadMethod:u})," >\n  ").concat(this.colorsteps.map((function(t){return'<stop offset="'.concat(t.percent,'%"  stop-color="').concat(t.color,'" />')})).join("\n"),"\n</radialGradient>\n")}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&p_(e.prototype,n),r&&p_(e,r),i}(BE);function g_(t){return(g_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w_(Object(n),!0).forEach((function(e){k_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P_(t,e,n){return(P_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function x_(t,e){return(x_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E_(t);if(e){var o=E_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $_(this,n)}}function $_(t,e){return!e||"object"!==g_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E_(t){return(E_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var __=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x_(t,e)}(i,t);var e,n,r,o=R_(i);function i(){return S_(this,i),o.apply(this,arguments)}return e=i,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";return new i({colorsteps:[new Nu({color:t,percent:0,index:0}),new Nu({color:t,percent:100,index:0})]})}}],(n=[{key:"getDefaultObject",value:function(){return P_(E_(i.prototype),"getDefaultObject",this).call(this,{type:"static-gradient",static:!0,colorsteps:[new Nu({color:"red",percent:0,index:0}),new Nu({color:"red",percent:100,index:1})]})}},{key:"toCloneObject",value:function(){return O_(O_({},P_(E_(i.prototype),"toCloneObject",this).call(this)),{},{static:!0})}},{key:"setColor",value:function(t){this.colorsteps.forEach((function(e){e.color=t}))}},{key:"toString",value:function(){return this.json.colorsteps[0].color}},{key:"toSVGString",value:function(){return""}},{key:"toFillValue",value:function(){return this.toString()}},{key:"isStatic",value:function(){return!0}}])&&j_(e.prototype,n),r&&j_(e,r),i}(BE);function C_(t){return(C_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return D_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D_(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A_(Object(n),!0).forEach((function(e){V_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z_(t,e,n){return(z_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function B_(t,e){return(B_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H_(t);if(e){var o=H_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G_(this,n)}}function G_(t,e){return!e||"object"!==C_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H_(t){return(H_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X_=["jpg","jpeg","png","gif","svg"];var Y_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B_(t,e)}(i,t);var e,n,r,o=F_(i);function i(){return L_(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){var e=T_(t.split("(")[1].split(")")[0].trim().split("#"),2),n=e[0],r=e[1];if(!r)return new i({url:n});var o=T_(r.split(","),7);return new i({patternUnits:o[0],patternWidth:o[1],patternHeight:o[2],imageX:o[3],imageY:o[4],imageWidth:o[5],imageHeight:o[6],url:n})}},{key:"isImageFile",value:function(t){return X_.includes(t)}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z_(H_(i.prototype),"getDefaultObject",this).call(this,I_({type:"url",url:"",datauri:"",patternUnits:"userSpaceOnUse",patternWidth:"100%",patternHeight:"100%",imageX:"0%",imageY:"0%",imageWidth:"100%",imageHeight:"100%"},t))}},{key:"toCloneObject",value:function(){return I_(I_({},z_(H_(i.prototype),"toCloneObject",this).call(this)),{},{url:this.json.url,datauri:this.json.datauri,patternUnits:this.json.patternUnits,patternWidth:this.json.patternWidth,patternHeight:this.json.patternHeight,imageX:this.json.imageX,imageY:this.json.imageY,imageWidth:this.json.imageWidth,imageHeight:this.json.imageHeight})}},{key:"isUrl",value:function(){return!0}},{key:"toString",value:function(){var t=this.json,e=t.patternUnits,n=t.patternWidth,r=t.patternHeight,o=t.imageX,i=t.imageY,a=t.imageWidth,c=t.imageHeight,u=t.url,s=[e,n,r,o,i,a,c].join(",").trim();return"url(".concat(u,"#").concat(s,")")}},{key:"toSVGString",value:function(t){var e=this.json,n=e.patternUnits,r=e.patternWidth,o=e.patternHeight,i=e.imageX,a=e.imageY,c=e.imageWidth,u=e.imageHeight;return"\n  <pattern ".concat(Oe({id:t,patternUnits:n,width:r,height:o}),' >\n    <image xlink:href="').concat(this.json.url,'" ').concat(Oe({x:i,y:a,width:c,height:u,preserveAspectRatio:"none"})," />\n  </pattern>\n      ")}},{key:"toFillValue",value:function(t){return"url(#".concat(t,")")}}])&&M_(e.prototype,n),r&&M_(e,r),i}(Du);function N_(t){return(N_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K_(Object(n),!0).forEach((function(e){W_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J_(t,e){return(J_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=eC(t);if(e){var o=eC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tC(this,n)}}function tC(t,e){return!e||"object"!==N_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eC(t){return(eC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nC=/((linear\-gradient|radial\-gradient|url)\(([^\)]*)\))/gi,rC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J_(t,e)}(i,t);var e,n,r,o=Q_(i);function i(){return Z_(this,i),o.apply(this,arguments)}return e=i,r=[{key:"createImage",value:function(t){return new SVGLImageResource({url:t})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps||e.colorsteps,r=e.toJSON();switch(delete r.itemType,delete r.type,t.type){case"linear-gradient":return new n_(U_(U_({},r),{},{colorsteps:n}));case"radial-gradient":return new m_(U_(U_({},r),{},{colorsteps:n}));default:return new __(U_(U_({},r),{},{colorsteps:n}))}}},{key:"parse",value:function(t){return new i(t)}},{key:"parseImage",value:function(t){var e=vn(t),n=null,r=e.str.match(nC);return r?(r.forEach((function(t,r){t=mn(t,e.matches),n=t.includes("linear")?n_.parse(t):t.includes("radial")?m_.parse(t):t.includes("url")?Y_.parse(t):__.parse(t)})),n):__.create(t||"transparent")}},{key:"changeImageType",value:function(t){switch(t.type){case"linear-gradient":return new n_(t);case"radial-gradient":return new m_(t);case"image-resource":case"url":return new Y_(t);default:return new __(t)}}}],(n=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:i.createImage(t.images[0])})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:i.createGradient(t,this.json.image)})}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&q_(e.prototype,n),r&&q_(e,r),i}(Ui);function oC(t){return(oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iC(Object(n),!0).forEach((function(e){cC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lC(t,e,n){return(lC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fC(t,e){return(fC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pC(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hC(t);if(e){var o=hC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yC(this,n)}}function yC(t,e){return!e||"object"!==oC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hC(t){return(hC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fC(t,e)}(i,t);var e,n,r,o=pC(i);function i(){return uC(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lC(hC(i.prototype),"getDefaultObject",this).call(this,aC({itemType:"svg",name:"New SVG",elementType:"svg",overflow:"visible",stroke:"black","stroke-width":1,svgfilter:"",fill:"transparent","fill-rule":"","fill-opacity":"","stroke-linecap":"","stroke-linejoin":"","stroke-dashoffset":"","stroke-dasharray":" ","text-anchor":"start","motion-based":!1},t))}},{key:"toCloneObject",value:function(){var t=this.json;return aC(aC({},lC(hC(i.prototype),"toCloneObject",this).call(this)),{},{overflow:t.overflow,stroke:t.stroke,"stroke-width":t["stroke-width"],svgfilter:t.svgfilter,fill:t.fill,"fill-rule":t["fill-rule"],"fill-opacity":t["fill-opacity"],"stroke-linecap":t["stroke-linecap"],"stroke-linejoin":t["stroke-linejoin"],"stroke-dashoffset":t["stroke-dashoffset"],"stroke-dasharray":t["stroke-dasharray"],"text-anchor":t["text-anchor"],"motion-based":t["motion-based"]})}},{key:"toDefaultCSS",value:function(){return aC(aC({},lC(hC(i.prototype),"toDefaultCSS",this).call(this)),this.toKeyListCSS("stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray","stroke-dashoffset","fill-opacity","fill-rule","text-anchor"))}},{key:"toSVGAttribute",value:function(){return aC(aC({},this.toDefaultSVGCSS()),this.toKeyListCSS("stroke-width","stroke-linecap","stroke-linejoin","stroke-dasharray","stroke-dashoffset","fill-opacity","fill-rule","text-anchor"))}},{key:"toLayoutCSS",value:function(){return{}}},{key:"getDefaultTitle",value:function(){return"SVG"}},{key:"updateDefString",value:function(t){var e=t.$("defs");if(e)e.html(this.toDefInnerString);else{var n=this.toDefString.trim();t.prepend(er.createByHTML(n))}}},{key:"toExportSVGCode",value:function(){return"\n      ".concat(this.toFillSVG,"\n      ").concat(this.toStrokeSVG,"\n    ")}},{key:"toDefInnerString",get:function(){return"\n        ".concat(this.toFillSVG,"\n        ").concat(this.toStrokeSVG,"\n    ")}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return"\n      <defs>\n        ".concat(t,"\n      </defs>\n    ")}},{key:"fillId",get:function(){return this.getInnerId("fill")}},{key:"strokeId",get:function(){return this.getInnerId("stroke")}},{key:"toFillSVG",get:function(){return rC.parseImage(this.json.fill||"transparent").toSVGString(this.fillId)}},{key:"toStrokeSVG",get:function(){return rC.parseImage(this.json.stroke||"black").toSVGString(this.strokeId)}},{key:"toFillValue",get:function(){return rC.parseImage(this.json.fill||"transparent").toFillValue(this.fillId)}},{key:"toFillOpacityValue",get:function(){return Mn.parse(this.json.fill||"transparent").a}},{key:"toStrokeValue",get:function(){return rC.parseImage(this.json.stroke||"black").toFillValue(this.strokeId)}},{key:"toFilterValue",get:function(){return this.json.svgfilter?"url(#".concat(this.json.svgfilter,")"):""}}])&&sC(e.prototype,n),r&&sC(e,r),i}($m);function vC(t){return function(t){if(Array.isArray(t))return bC(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return bC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bC(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gC=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getAllDropItems",value:function(t){var e=[];t.dataTransfer&&(e=vC(t.dataTransfer.types).map((function(e,n){if(e.includes("text"))return{kind:"string",type:e,data:t.dataTransfer.getData(e)}})).filter((function(t){return t})));var n=[];return t.dataTransfer&&(n=vC(t.dataTransfer.files)),[].concat(vC(e),vC(n))}}],(n=null)&&mC(e.prototype,n),r&&mC(e,r),t}(),wC=["blur","grayscale","hue-rotate","invert","brightness","contrast","drop-shadow","opacity","saturate","sepia","svg"],OC=["check","grid","dot","cross-dot","diagonal-line","vertical-line","horizontal-line"],kC=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"].join(","),SC={text:!0,points:!0,textLength:!0,startOffset:!0,lengthAdjust:!0},jC={d:!0},PC={position:!0,x:!0,y:!0,right:!0,bottom:!0,width:!0,height:!0,rootVariable:!0,variable:!0,transform:!0,filter:!0,"backdrop-filter":!0,"background-color":!0,"background-clip":!0,"background-image":!0,"border-radius":!0,"box-shadow":!0,"text-shadow":!0,"text-clip":!0,"clip-path":!0,color:!0,"font-size":!0,"font-stretch":!0,"line-height":!0,"text-align":!0,"text-transform":!0,"text-decoration":!0,"letter-spacing":!0,"word-spacing":!0,"text-indent":!0,"perspective-origin":!0,"transform-origin":!0,"transform-style":!0,perspective:!0,"mix-blend-mode":!0,opacity:!0,rotate:!0,"text-fill-color":!0,"text-stroke-color":!0,"text-stroke-width":!0,"offset-path":!0,"offset-distance":!0,border:!0,outline:!0,borderRadius:!0,animations:!0,transitions:!0,fill:!0,"fill-opacity":!0,stroke:!0,"stroke-width":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"fill-rule":!0,"stroke-linecap":!0,"stroke-linejoin":!0},xC=function(t){return SC[t]||!1},RC=function(t){return jC[t]||!1},$C=function(t){return PC[t]||!1};function EC(t){return(EC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function CC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_C(Object(n),!0).forEach((function(e){TC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function TC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IC(t,e,n){return(IC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function VC(t,e){return(VC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function LC(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zC(t);if(e){var o=zC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return MC(this,n)}}function MC(t,e){return!e||"object"!==EC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zC(t){return(zC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var BC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VC(t,e)}(i,t);var e,n,r,o=LC(i);function i(){return DC(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return vm.edit}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return IC(zC(i.prototype),"getDefaultObject",this).call(this,CC({itemType:"svg-path",name:"New Path","stroke-width":5,d:"",segments:[],totalLength:0},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"updatePathItem",value:function(t){this.json.d=t.d,this.json.totalLength=t.totalLength,this.json.path=new ec(t.d),t.segments&&this.json.path.resetSegment(t.segments)}},{key:"setCache",value:function(){this.rect=this.clone(),this.cachePath=this.json.path.clone()}},{key:"recover",value:function(){var t=this.rect.width.value;0===t&&(t=1);var e=this.rect.height.value;0===e&&(e=1);var n=this.json.width.value/t,r=this.json.height.value/e;this.scale(n,r)}},{key:"scale",value:function(t,e){this.json.d=this.cachePath.clone().scaleTo(t,e),this.json.path.reset(this.json.d)}},{key:"convert",value:function(t){return(t=IC(zC(i.prototype),"convert",this).call(this,t)).d&&(t.path=new ec(t.d)),t}},{key:"toCloneObject",value:function(){var t=this.json;return CC(CC({},IC(zC(i.prototype),"toCloneObject",this).call(this)),{},{totalLength:t.totalLength,d:t.d,segments:pe(this.json.segments)})}},{key:"getDefaultTitle",value:function(){return"Path"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return xC(t.property)&&RC(t.property)})),n=t.filter((function(t){return $C(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:n},{selector:'[data-id="'.concat(this.json.id,'"] path'),properties:e}]}},{key:"updateFunction",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){var r=t.$("path");r.attr("d",this.json.d),e&&(r.setAttr({filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue}),this.updateDefString(t)),n&&(this.json.totalLength=r.totalLength)}}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return'\n      <g transform="translate('.concat(t,", ").concat(e,')">\n      ').concat(this.toDefString,"\n      <path ").concat(Oe(CC(CC({class:"svg-path-item",d:this.json.d,filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue},this.toSVGAttribute()),{},{style:ge(this.toSVGCSS())}))," />\n    </g>\n  ")}},{key:"html",get:function(){var t=this.json.id,e={"motion-based":this.json["motion-based"]};return"\n  <svg class='element-item path ".concat(ke(e),"'  ").concat(Oe({"motion-based":this.json["motion-based"],xmlns:"http://www.w3.org/2000/svg"}),'  data-id="').concat(t,'" >\n    ').concat(this.toDefString,"\n    <path ").concat(Oe({class:"svg-path-item",d:this.json.d,filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue})," />\n  </svg>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&AC(e.prototype,n),r&&AC(e,r),i}(dC);Va.registerComponent("svg-path",BC);function FC(t){return(FC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function HC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GC(Object(n),!0).forEach((function(e){XC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function XC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KC(t,e,n){return(KC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function UC(t,e){return(UC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WC(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qC(t);if(e){var o=qC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ZC(this,n)}}function ZC(t,e){return!e||"object"!==FC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qC(t){return(qC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var JC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UC(t,e)}(i,t);var e,n,r,o=WC(i);function i(){return YC(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return vm.title}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return KC(qC(i.prototype),"getDefaultObject",this).call(this,HC({itemType:"svg-text",name:"New Text",totalLength:0,fill:"rgba(0, 0, 0, 1)",text:"Insert a text","font-weight":R.number(100),textLength:R.em(0),lengthAdjust:"spacingAndGlyphs","shape-inside":"","shape-subtract":"","shape-margin":"","shape-padding":""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"updatePathItem",value:function(t){this.json.d=t.d,this.json.totalLength=t.totalLength,this.json.path=new ec(t.d),t.segments&&this.json.path.resetSegment(t.segments)}},{key:"setCache",value:function(){this.rect=this.clone()}},{key:"convert",value:function(t){return(t=KC(qC(i.prototype),"convert",this).call(this,t)).textLength=R.parse(t.textLength),t}},{key:"toCloneObject",value:function(){var t=this.json;return HC(HC({},KC(qC(i.prototype),"toCloneObject",this).call(this)),{},{totalLength:t.totalLength,text:t.text,textLength:"".concat(t.textLength),lengthAdjust:t.lengthAdjust,"shape-inside":t["shape-inside"]})}},{key:"getDefaultTitle",value:function(){return"Text"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return xC(t.property)})),n=t.filter((function(t){return $C(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:n},{selector:'[data-id="'.concat(this.json.id,'"] text'),properties:e}]}},{key:"updateFunction",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=t.$("text");n.text(this.json.text),n.setAttr({filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue,textLength:this.json.textLength,lengthAdjust:this.json.lengthAdjust}),this.updateDefString(t)}}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.json,r=n.textLength,o=n.lengthAdjust;return'\n    <g transform="translate('.concat(t,", ").concat(e,')">    \n      ').concat(this.toDefString,"\n      <text ").concat(Oe(HC(HC({class:"svg-text-item"},this.toSVGAttribute()),{},{textLength:r,lengthAdjust:o,style:ge(this.toSVGCSS())}))," >").concat(this.json.text,"</text>\n    </g>")}},{key:"toDefInnerString",get:function(){return"\n        ".concat(this.toFillSVG,"\n        ").concat(this.toStrokeSVG,"\n    ")}},{key:"shapeInsideId",get:function(){return this.getInnerId("shape-inside")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.textLength,r=t.lengthAdjust;return"\n  <svg class='element-item textpath' data-id=\"".concat(e,'">\n    ').concat(this.toDefString,"\n      <text ").concat(Oe({class:"svg-text-item",textLength:n,lengthAdjust:r})," >").concat(this.json.text,"</text>\n  </svg>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&NC(e.prototype,n),r&&NC(e,r),i}(dC);function QC(t){return(QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tT(Object(n),!0).forEach((function(e){nT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iT(t,e,n){return(iT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=sT(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function aT(t,e){return(aT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sT(t);if(e){var o=sT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uT(this,n)}}function uT(t,e){return!e||"object"!==QC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sT(t){return(sT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("svgtext",JC);var lT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aT(t,e)}(i,t);var e,n,r,o=cT(i);function i(){return rT(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return vm.text_rotate}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return iT(sT(i.prototype),"getDefaultObject",this).call(this,eT({itemType:"svg-textpath",name:"New TextPath",d:"",totalLength:0,fill:"rgba(0, 0, 0, 1)",text:"Insert a text",textLength:R.em(0),lengthAdjust:"spacingAndGlyphs",startOffset:R.em(0)},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"updatePathItem",value:function(t){this.json.d=t.d,this.json.totalLength=t.totalLength,this.json.path=new ec(t.d),t.segments&&this.json.path.resetSegment(t.segments)}},{key:"setCache",value:function(){this.rect=this.clone(),this.cachePath=this.json.path.clone()}},{key:"recover",value:function(){var t=this.json.width.value/this.rect.width.value,e=this.json.height.value/this.rect.height.value;this.scale(t,e)}},{key:"scale",value:function(t,e){this.json.d=this.cachePath.clone().scaleTo(t,e),this.json.path.reset(this.json.d)}},{key:"convert",value:function(t){return(t=iT(sT(i.prototype),"convert",this).call(this,t)).path=new ec(t.d),t.textLength=R.parse(t.textLength),t.startOffset=R.parse(t.startOffset),t}},{key:"toCloneObject",value:function(){var t=this.json;return eT(eT({},iT(sT(i.prototype),"toCloneObject",this).call(this)),{},{totalLength:t.totalLength,d:t.d,text:t.text,textLength:"".concat(t.textLength),lengthAdjust:t.lengthAdjust,startOffset:"".concat(t.startOffset)})}},{key:"getDefaultTitle",value:function(){return"TextPath"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return xC(t.property)})),n=t.filter((function(t){return RC(t.property)})),r=t.filter((function(t){return $C(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:r},{selector:'[data-id="'.concat(this.json.id,'"] textPath'),properties:e},{selector:'[data-id="'.concat(this.json.id,'"] path'),properties:n}]}},{key:"updateFunction",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.$("path");if(n.attr("d",this.json.d),e){var r=t.$("textPath");r.text(this.json.text),r.setAttr({filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue,textLength:this.json.textLength,lengthAdjust:this.json.lengthAdjust,startOffset:this.json.startOffset}),this.updateDefString(t)}this.json.totalLength=n.totalLength}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.json,r=n.textLength,o=n.lengthAdjust,i=n.startOffset;return'\n    <g transform="translate('.concat(t,", ").concat(e,')">    \n      ').concat(this.toDefString,"\n      <text ").concat(Oe(eT(eT({class:"svg-textpath-item"},this.toSVGAttribute()),{},{style:ge(this.toSVGCSS())}))," >\n        <textPath ").concat(Oe({"xlink:href":"#".concat(this.toPathId),textLength:r,lengthAdjust:o,startOffset:i})," >").concat(this.json.text,"</textPath>\n      </text>\n    </g>")}},{key:"toDefInnerString",get:function(){return"\n        ".concat(this.toPathSVG,"\n        ").concat(this.toFillSVG,"\n        ").concat(this.toStrokeSVG,"\n    ")}},{key:"toPathId",get:function(){return this.getInnerId("path")}},{key:"toPathSVG",get:function(){return"\n    <path ".concat(Oe({class:"svg-path-item",id:this.toPathId,d:this.json.d,fill:"none"})," />\n    ")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.textLength,r=t.lengthAdjust,o=t.startOffset;return"\n  <svg class='element-item textpath' data-id=\"".concat(e,'">\n    ').concat(this.toDefString,"\n      <text ").concat(Oe({class:"svg-textpath-item"})," >\n        <textPath ").concat(Oe({"xlink:href":"#".concat(this.toPathId),textLength:n,lengthAdjust:r,startOffset:o})," >").concat(this.json.text,"</textPath>\n    </text>\n  </svg>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&oT(e.prototype,n),r&&oT(e,r),i}(dC);function fT(t){return(fT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pT(Object(n),!0).forEach((function(e){hT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bT(t,e,n){return(bT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=OT(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function mT(t,e){return(mT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=OT(t);if(e){var o=OT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wT(this,n)}}function wT(t,e){return!e||"object"!==fT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function OT(t){return(OT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("svg-textpath",lT);var kT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mT(t,e)}(i,t);var e,n,r,o=gT(i);function i(){return dT(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return vm.title}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return bT(OT(i.prototype),"getDefaultObject",this).call(this,yT({itemType:"text",name:"New Text",elementType:"p",content:""},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Text"}},{key:"toCloneObject",value:function(){return yT(yT({},bT(OT(i.prototype),"toCloneObject",this).call(this)),{},{content:this.json.content})}},{key:"updateFunction",value:function(t){var e=this.json.content;t.updateDiff(e)}},{key:"toCSS",value:function(){var t=bT(OT(i.prototype),"toCSS",this).call(this);return t.margin=t.margin||"0px",t}},{key:"toNestedCSS",value:function(){return[{selector:"> *",cssText:"\n          pointer-events: none;\n        "}]}},{key:"toSVG",value:function(t,e){var n=this.json,r=n.width,o=n.height,i=n.content,a=this.toCSS();return delete a.left,delete a.top,"absolute"===a.position&&delete a.position,'\n    <g transform="translate('.concat(t,", ").concat(e,')">\n    ').concat(this.toDefString,"\n      <foreignObject ").concat(Oe({width:r.value,height:o.value}),'>\n        <div xmlns="http://www.w3.org/1999/xhtml">\n          <p style="').concat(ge(a),'" >').concat(i,"</p>\n        </div>\n      </foreignObject>    \n    </g>\n")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType,r=t.content;return"<p class='element-item ".concat(n,'\' contenteditable="true" tabIndex="-1" data-id="').concat(e,'">').concat(r,"</p>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&vT(e.prototype,n),r&&vT(e,r),i}($m);function ST(t){return(ST="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function PT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jT(Object(n),!0).forEach((function(e){xT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ET(t,e,n){return(ET="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=DT(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _T(t,e){return(_T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function CT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=DT(t);if(e){var o=DT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TT(this,n)}}function TT(t,e){return!e||"object"!==ST(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DT(t){return(DT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("text",kT);var AT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_T(t,e)}(i,t);var e,n,r,o=CT(i);function i(){return RT(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return vm.rect}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ET(DT(i.prototype),"getDefaultObject",this).call(this,PT({itemType:"rect",name:"New Rect"},t))}},{key:"getDefaultTitle",value:function(){return"Rect"}}])&&$T(e.prototype,n),r&&$T(e,r),i}($m);function IT(t){return(IT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VT(Object(n),!0).forEach((function(e){MT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function MT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FT(t,e,n){return(FT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=YT(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function GT(t,e){return(GT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function HT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=YT(t);if(e){var o=YT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XT(this,n)}}function XT(t,e){return!e||"object"!==IT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YT(t){return(YT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("rect",AT);var NT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GT(t,e)}(i,t);var e,n,r,o=HT(i);function i(){return zT(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return vm.lens}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return FT(YT(i.prototype),"getDefaultObject",this).call(this,LT({itemType:"circle",name:"New Circle","border-radius":"100%"},t))}},{key:"getDefaultTitle",value:function(){return"Circle"}}])&&BT(e.prototype,n),r&&BT(e,r),i}($m);function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function UT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?KT(Object(n),!0).forEach((function(e){WT(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function WT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZT(t){var e=Jw("linear"),n=Aw(t.segments),r=n.totalLength,o=n.interpolateList;return{totalLength:r,xy:function(t){t>1&&(t-=1);var n=o[0];if(0===t)n=o[0];else if(1===t)n=o[o.length-1];else{var r=o.find((function(e){return e.startT<=t&&t<e.endT}));r&&(n=r)}var i=(t-n.startT)/(n.endT-n.startT),a=e(i);return UT(UT({},n.interpolate(a,i,e)),{},{newT:i,t:t,totalLength:n.totalLength})}}}function qT(t){return(qT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function QT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JT(Object(n),!0).forEach((function(e){tD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rD(t,e,n){return(rD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cD(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function oD(t,e){return(oD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function iD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cD(t);if(e){var o=cD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aD(this,n)}}function aD(t,e){return!e||"object"!==qT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cD(t){return(cD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("circle",NT);var uD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oD(t,e)}(i,t);var e,n,r,o=iD(i);function i(){return eD(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return vm.brush}},{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rD(cD(i.prototype),"getDefaultObject",this).call(this,QT({itemType:"svg-brush",name:"New Brush",d:"",segments:[],totalLength:0,distance:0},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"updatePathItem",value:function(t){this.json.d=t.d,this.json.totalLength=t.totalLength,this.json.path=new ec(t.d),t.segments&&this.json.path.resetSegment(t.segments),t.rect&&(this.json.width=R.px(t.rect.width),this.json.height=R.px(t.rect.height),this.setScreenX(R.px(t.rect.x)),this.setScreenY(R.px(t.rect.y)))}},{key:"setCache",value:function(){this.rect=this.clone(),this.cachePath=this.json.path.clone()}},{key:"recover",value:function(){var t=this.rect.width.value;0===t&&(t=1);var e=this.rect.height.value;0===e&&(e=1);var n=this.json.width.value/t,r=this.json.height.value/e;this.scale(n,r)}},{key:"scale",value:function(t,e){this.json.d=this.cachePath.clone().scaleTo(t,e),this.json.path.reset(this.json.d)}},{key:"convert",value:function(t){return(t=rD(cD(i.prototype),"convert",this).call(this,t)).d&&(t.path=new ec(t.d)),t}},{key:"toCloneObject",value:function(){var t=this.json;return QT(QT({},rD(cD(i.prototype),"toCloneObject",this).call(this)),{},{totalLength:t.totalLength,d:t.d,segments:pe(this.json.segments)})}},{key:"getDefaultTitle",value:function(){return"Brush"}},{key:"toAnimationKeyframes",value:function(t){var e=t.filter((function(t){return xC(t.property)&&RC(t.property)})),n=t.filter((function(t){return $C(t.property)}));return[{selector:'[data-id="'.concat(this.json.id,'"]'),properties:n},{selector:'[data-id="'.concat(this.json.id,'"] path'),properties:e}]}},{key:"updateFunction",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.$("path.svg-brush-item");if(r.attr("d",this.json.d),e){this.updateDefString(t);var o=t.$(".svg-brush-items");o.attr("filter",this.toFilterValue),o.attr("fill",this.toFillValue),o.attr("fill-opacity",this.toFillOpacityValue),o.updateSVGDiff(this.makeBrushItem(this.json["stroke-width"]))}n&&(this.json.totalLength=r.totalLength)}},{key:"makeBrushShape",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"\n      <circle ".concat(Oe({cx:t,cy:e,r:n,transform:"rotate(".concat(360*Math.random(),", ").concat(t,", ").concat(e,")")}),"></circle>\n    ")}},{key:"makeBrushItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.makeBrushItemRate().map((function(n){return t.makeBrushShape(n.x,n.y,e*n.scale,n.t)})).join("")}},{key:"makeBrushItemRate",value:function(){var t=this.json,e=t.d,n=t.totalLength,r=t.distance;return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=ZT(t),o=r.totalLength,i=r.xy,a=o/e,c=n/o,u=a/o+c,s=[],l=1,f=0;f<e;f++){var p=f*u;if(p>l)break;s.push(i(p))}return s}(new ec(e),n,r).map((function(t){var e=t.t>.5?1-t.t:t.t;return QT(QT({},t),{},{scale:e/.4*1.3})}))}},{key:"toSVG",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return'\n      <g transform="translate('.concat(t,", ").concat(e,')">\n      ').concat(this.toDefString,"\n      <path ").concat(Oe(QT(QT({class:"svg-brush-item",d:this.json.d,filter:this.toFilterValue,fill:this.toFillValue,stroke:this.toStrokeValue},this.toSVGAttribute()),{},{style:ge(this.toSVGCSS())}))," />\n    </g>\n  ")}},{key:"toDefInnerString",get:function(){return"\n        ".concat(rD(cD(i.prototype),"toDefInnerString",this),"\n    ")}},{key:"brushId",get:function(){return this.getInnerId("brush")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.d,r=this.makeBrushItem(this.json["stroke-width"]);return"\n  <svg class='element-item brush' data-id=\"".concat(e,'" >\n    ').concat(this.toDefString,"\n    <path class='svg-brush-item' d=\"").concat(n,'" fill="transparent" stroke="transparent" stroke-width="3" style=\'pointer-events: stroke;\' />\n    <g class=\'svg-brush-items\' style=\'pointer-events:none;\' \n        filter="').concat(this.toFilterValue,'" \n        fill="').concat(this.toFillValue,"\" \n        stroke='transparent'\n        fill-opacity=\"").concat(this.toFillOpacityValue,'"\n      >\n      ').concat(r,"\n    </g>\n  </svg>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&nD(e.prototype,n),r&&nD(e,r),i}(dC);function sD(t){return(sD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lD(Object(n),!0).forEach((function(e){pD(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dD(t,e,n){return(dD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gD(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vD(t,e){return(vD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gD(t);if(e){var o=gD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mD(this,n)}}function mD(t,e){return!e||"object"!==sD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gD(t){return(gD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Va.registerComponent("svg-brush",uD);var wD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vD(t,e)}(i,t);var e,n,r,o=bD(i);function i(){return yD(this,i),o.apply(this,arguments)}return e=i,r=[{key:"getIcon",value:function(){return vm.video}}],(n=[{key:"getDefaultObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dD(gD(i.prototype),"getDefaultObject",this).call(this,fD({itemType:"video",name:"New Video",elementType:"video",src:"",srcType:"video/mp4",controls:!1,preload:"auto",poster:"",autoplay:!1,buffered:!1,crossorigin:"anonymous",loop:!1,muted:!1,played:!1,currentTime:0,playbackRate:1,playTime:"0:1:1"},t))}},{key:"enableHasChildren",value:function(){return!1}},{key:"getDefaultTitle",value:function(){return"Video"}},{key:"getIcon",value:function(){return vm.video}},{key:"toCloneObject",value:function(){return fD(fD({},dD(gD(i.prototype),"toCloneObject",this).call(this)),{},{src:this.json.src+""})}},{key:"resize",value:function(){this.reset({width:this.json.naturalWidth.clone(),height:this.json.naturalHeight.clone()})}},{key:"updateDiff",value:function(t,e){t.el[e]!=this.json[e]&&(t.el[e]=this.json[e])}},{key:"updateFunction",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.json;if(a.src,a.currentTime,a.playbackRate,e){var c=t.$("video");c&&(o||(this.updateDiff(c,"currentTime"),this.updateDiff(c,"playbackRate"),this.updateDiff(c,"volume")))}dD(gD(i.prototype),"updateFunction",this).call(this,t,e,n,r)}},{key:"toNestedCSS",value:function(){return[{selector:"video",cssText:"\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n        ".trim()}]}},{key:"toSVG",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.json,o=r.width,i=r.height,a=r.src,c=r.srcType,u=this.toCSS();return n?(delete u.left,delete u.top,"absolute"===u.position&&delete u.position,this.wrapperRootSVG(t,e,o,i,'\n        <video controls width="250" style="'.concat(ge(u),'" >\n          <source src="').concat(a,'"\n                  type="').concat(c,"\">\n          Sorry, your browser doesn't support embedded videos.\n        </video>      \n      "))):"\n        ".concat(this.toDefString,'      \n        <video src="').concat(a,'" controls width="250" style="').concat(ge(u),"\" >\n          Sorry, your browser doesn't support embedded videos.\n        </video>      \n      ")}},{key:"html",get:function(){var t=this.json,e=t.id,n=t.itemType,r=t.src,o=t.controls,i=t.muted,a=t.poster,c=t.loop,u=t.crossorigin,s=t.autoplay;return"\n      <div class='element-item ".concat(n,"' data-id=\"").concat(e,'">\n        ').concat(this.toDefString,"\n        <video ").concat(Oe({controls:o,src:r,muted:i,poster:a,loop:c,crossorigin:u,autoplay:s}),">\n          Sorry, your browser doesn't support embedded videos.\n        </video>\n      </div>")}},{key:"svg",get:function(){var t=this.json.x.value,e=this.json.y.value;return this.toSVG(t,e)}}])&&hD(e.prototype,n),r&&hD(e,r),i}($m);Va.registerComponent("video",wD);var OD,kD,SD,jD,PD,xD,RD={Project:v$,ArtBoard:wE,Layer:$m,RectLayer:AT,CircleLayer:NT,ImageLayer:TE,TextLayer:kT,VideoLayer:wD,SVGPathItem:BC,SVGBrushItem:uD,SVGTextItem:JC,SVGTextPathItem:lT,Component:P$,CubeLayer:H$,CylinderLayer:uE};function $D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ED(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _D=ED({},"move",!0),CD=(ED(OD={},"to right",!0),ED(OD,"to top right",!0),ED(OD,"to bottom right",!0),OD),TD=(ED(kD={},"to left",!0),ED(kD,"to top left",!0),ED(kD,"to bottom left",!0),kD),DD=(ED(SD={},"to top",!0),ED(SD,"to top right",!0),ED(SD,"to top left",!0),SD),AD=(ED(jD={},"to bottom",!0),ED(jD,"to bottom left",!0),ED(jD,"to bottom right",!0),jD),ID=(ED(PD={},"to right",2),ED(PD,"to top right",2),ED(PD,"to bottom right",2),ED(PD,"to left",0),ED(PD,"to top left",0),ED(PD,"to bottom left",0),PD),VD=(ED(xD={},"to bottom",2),ED(xD,"to bottom left",2),ED(xD,"to bottom right",2),ED(xD,"to top",0),ED(xD,"to top left",0),ED(xD,"to top right",0),xD),LD=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isMove",value:function(t){return _D[t]}},{key:"isTop",value:function(t){return DD[t]}},{key:"isRight",value:function(t){return CD[t]}},{key:"isBottom",value:function(t){return AD[t]}},{key:"isLeft",value:function(t){return TD[t]}},{key:"getXDirection",value:function(t){return ID[t]}},{key:"getYDirection",value:function(t){return VD[t]}}],(n=null)&&$D(e.prototype,n),r&&$D(e,r),t}();function MD(t){return function(t){if(Array.isArray(t))return zD(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var FD=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$editor=e,this.$selectionToolView=n}var e,n,r;return e=t,(n=[{key:"makeGuideCache",value:function(){var t=this,e=this.$selection.currentArtboard;return this.cachedExtraItems=[],e&&(this.$selection.isArtBoard()?this.cachedExtraItems=[]:this.cachedExtraItems=e.allLayers.filter((function(e){return!t.$selection.check(e)||e.is("artboard")&&t.$selection.currentArtboard!=e})).map((function(t){return{x:t.screenX.value,y:t.screenY.value,width:t.width.value,height:t.height.value}})),this.rect=this.$selection.allRect?pe(this.$selection.allRect):null),this.cachedPosition={},this.$selection.each((function(e){t.cachedPosition[e.id]={x:e.x.value,y:e.y.value,width:e.width.value,height:e.height.value,screenX:e.screenX.value,screenY:e.screenY.value}})),this.rect}},{key:"move",value:function(t,e,n){var r=this.$selection.allRect;this.pointerType=t,this.dx=e,this.dy=n,"move"===t?(this.rect.x=r.x+e,this.rect.y=r.y+n):(LD.isRight(t)?this.rect.width=r.width+e:LD.isLeft(t)&&(this.rect.x=r.x+e,this.rect.width=r.width-e),LD.isBottom(t)?this.rect.height=r.height+n:LD.isTop(t)&&(this.rect.height=r.height-n,this.rect.y=r.y+n))}},{key:"recover",value:function(t){if(this.rect){var e=this.$selection.allRect,n=this.rect.width/e.width,r=this.rect.height/e.height,o=this.cachedPosition[t.id],i=this.rect.x+this.rect.width*((o.screenX-e.x)/e.width),a=this.rect.y+this.rect.height*((o.screenY-e.y)/e.height);t.reset({x:R.px(o.x+(i-o.screenX)).round(),y:R.px(o.y+(a-o.screenY)).round(),width:R.px(o.width*n).round(),height:R.px(o.height*r).round()})}}},{key:"compareX",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=[t.x,Math.floor(t.x+t.width/2),t.x+t.width],o=[e.x,Math.floor(e.x+e.width/2),e.x+e.width],i=[];if(r.forEach((function(r,a){o.forEach((function(o,c){Math.abs(r-o)<=n&&i.push({A:t,B:e,source:a,target:c,ax:o,bx:o})}))})),i.length){var a=LD.getXDirection(this.pointerType),c=i.filter((function(t){return t.source==a}));return c.length?c:[i[0]]}return i}},{key:"compareY",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=[t.y,Math.floor(t.y+t.height/2),t.y+t.height],o=[e.y,Math.floor(e.y+e.height/2),e.y+e.height],i=[];if(r.forEach((function(r,a){o.forEach((function(o,c){Math.abs(r-o)<=n&&i.push({A:t,B:e,source:a,target:c,ay:o,by:o})}))})),i.length){var a=LD.getYDirection(this.pointerType),c=i.filter((function(t){return t.source==a}));return c.length?c:[i[0]]}return i}},{key:"compare",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=this.compareX(t,e,n),o=this.compareY(t,e,n);return{x:r,y:o}}},{key:"getLayers",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=this.cachedExtraItems,r=[],o=[];return n.forEach((function(n){var i=t.compare(t.rect,n,e);r.push.apply(r,MD(i.x)),o.push.apply(o,MD(i.y))})),[r[0],o[0]].filter(oe)}},{key:"calculate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=this.getLayers(e);return LD.isMove(this.pointerType)?n.forEach((function(e){return t.moveSnap(e)})):n.forEach((function(e){return t.sizeSnap(e)})),n}},{key:"sizeSnap",value:function(t){if(oe(t.ax))switch(t.source){case 2:this.rect.width=t.bx-this.rect.x;break;case 0:this.rect.width=this.rect.x+this.rect.width-t.bx,this.rect.x=t.bx}else switch(t.source){case 2:this.rect.height=t.by-this.rect.y;break;case 0:this.rect.height=this.rect.y+this.rect.height-t.by,this.rect.y=t.by}}},{key:"moveSnap",value:function(t){if(oe(t.ax)){var e=Math.round(this.rect.width/2*t.source),n=t.bx-e;this.rect.x=n}else if(oe(t.ay)){var r=Math.round(this.rect.height/2*t.source),o=t.by-r;this.rect.y=o}}},{key:"recoverAll",value:function(){var t=this;LD.isMove(this.pointerType)?this.$selection.each((function(e){t.$selection.isInParent(e,t.$selection.items)||(t.recover(e),e.recover())})):this.$selection.each((function(e){t.recover(e),e.recover()}))}},{key:"$selection",get:function(){return this.$editor.selection}}])&&BD(e.prototype,n),r&&BD(e,r),t}();function GD(t){return(GD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HD(t,e,n){return(HD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=QD(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function XD(t){return function(t){if(Array.isArray(t))return YD(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return YD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YD(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ND(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UD(t,e,n){return e&&KD(t.prototype,e),n&&KD(t,n),t}function WD(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZD(t,e)}function ZD(t,e){return(ZD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=QD(t);if(e){var o=QD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return JD(this,n)}}function JD(t,e){return!e||"object"!==GD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function QD(t){return(QD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tA={move:"move","to top":"move","to top right":"move","to top left":"move","to bottom":"move","to bottom right":"move","to bottom left":"move","to left":"move","to right":"move",translate:"transform","transform-origin":"transform",rotate3d:"transform"},eA={artboard:"artboard",rect:"rect",circle:"lens",text:"title",image:"image","svg-path":"edit","svg-textpath":"text_rotate","svg-text":"title"},nA=function(t){WD(n,t);var e=qD(n);function n(){return ND(this,n),e.apply(this,arguments)}return UD(n,[{key:"initialize",value:function(){HD(QD(n.prototype),"initialize",this).call(this),this.guideView=new FD(this.$editor,this)}},{key:"template",value:function(){return"\n    <div class='selection-view' ref='$selectionView' >\n        <div class='selection-tool' ref='$selectionTool' style='left:-100px;top:-100px;'>\n            <div class='selection-tool-item' data-position='move' ref='$selectionMove' title='move'>\n                <span class='icon' ref='$selectionIcon'>".concat(vm.flag,"</span>\n                <span ref='$selectionTitle'></span>\n            </div>       \n            <div class='selection-tool-item' data-position='to top'></div>            \n            <div class='selection-tool-item' data-position='to bottom'></div>            \n            <div class='selection-tool-item' data-position='to left'></div>            \n            <div class='selection-tool-item' data-position='to right'></div>\n            <div class='selection-tool-item' data-position='to top right'></div>\n            <div class='selection-tool-item' data-position='to bottom right'></div>\n            <div class='selection-tool-item' data-position='to top left'></div>\n            <div class='selection-tool-item' data-position='to bottom left'></div>\n        </div>\n        <div class='selection-pointer' ref='$selectionPointer'></div>\n    </div>")}},{key:lr('$selectionTool .selection-tool-item[data-position="path"]'),value:function(t){this.trigger("openPathEditor")}},{key:"toggleEditingPath",value:function(t){this.refs.$selectionTool.toggleClass("editing-path",t)}},{key:"checkEditMode",value:function(){return this.$editor.isSelectionMode()}},{key:Er("$selectionView .selection-tool-item")+Vr("checkEditMode")+Xr()+Yr(),value:function(t){var e;this.initMoveType(t.$dt),(e=this.parent).selectCurrent.apply(e,XD(this.$selection.items)),this.$selection.doCache(),this.initSelectionTool()}},{key:"initMoveType",value:function(t){this.$target=t||this.refs.$selectionTool.$('.selection-tool-item[data-position="move"]'),this.$target&&(this.pointerType=this.$target.attr("data-position"),this.refs.$selectionTool.attr("data-selected-position",this.pointerType),this.refs.$selectionTool.attr("data-selected-movetype",tA[this.pointerType]))}},{key:"move",value:function(t,e){this.$config.get("bodyEvent").shiftKey&&(e=t),this.refreshSelectionToolView(t,e),this.parent.updateRealPosition(),this.emit("refreshSelectionDragStyleView",null,!0)}},{key:gi("moveByKey"),value:function(t,e){var n;if(0!==t||0!==e){this.pointerType="move",this.$selection.move(t,e),(n=this.parent).selectCurrent.apply(n,XD(this.$selection.items)),this.refs.$selectionTool.attr("data-selected-position",""),this.refs.$selectionTool.attr("data-selected-movetype",""),this.guideView.move(this.pointerType,t,e);var r=this.guideView.calculate();this.emit("refreshGuideLine",this.calculateWorldPositionForGuideLine(r)),this.makeSelectionTool()}}},{key:"end",value:function(){var t=this;this.refs.$selectionTool.attr("data-selected-position",""),this.refs.$selectionTool.attr("data-selected-movetype",""),this.emit("refreshAllElementBoundSize"),this.emit("removeGuideLine"),this.nextTick((function(){t.command("setAttributeForMulti","move selection pointer",t.$selection.cloneValue("x","y","width","height"))}))}},{key:"refreshSelectionToolView",value:function(t,e,n){if(0===t&&0===e);else{this.guideView.move(n||this.pointerType,t/this.$editor.scale,e/this.$editor.scale);var r=this.guideView.calculate();this.emit("refreshGuideLine",this.calculateWorldPositionForGuideLine(r))}this.makeSelectionTool()}},{key:"getSelectedElements",value:function(){var t=this;return this.$selection.ids.map((function(e){return t.parent.state.cachedCurrentElement[e]}))}},{key:"getOriginalRect",value:function(){return this.originalRect||(this.originalRect=this.parent.$el.rect()),this.originalRect}},{key:"getOriginalArtboardRect",value:function(){return this.originalArtboardRect||(this.originalArtboardRect=this.parent.refs.$view.rect()),this.originalArtboardRect}},{key:"removeOriginalRect",value:function(){this.originalArtboardRect=null,this.originalRect=null}},{key:"initSelectionTool",value:function(){this.$selection.reselect(),this.removeOriginalRect(),this.guideView.makeGuideCache();var t=this.$selection.current;if(t){var e=t.is("svg-path","svg-brush","svg-textpath");this.refs.$selectionTool.toggleClass("path",e)}this.$editor.isSelectionMode()&&this.$el.isHide()&&this.$el.show(),this.bindData("$selectionTool"),this.makeSelectionTool()}},{key:"makeSelectionTool",value:function(){this.guideView.recoverAll();var t=0,e=0,n=0,r=0;if(this.guideView.rect){var o=this.calculateWorldPosition(this.guideView.rect);t=o.x,e=o.y,n=o.width,r=o.height}0===t&&0===e&&0===n&&0===r?(t=-1e4,e=-1e4):this.$selection.currentArtboard||(t=-1e4,e=-1e4),this.refs.$selectionTool.css({left:R.px(t),top:R.px(e),width:R.px(n),height:R.px(r)}),this.refreshPositionText(t,e,n,r)}},{key:"refreshPositionText",value:function(t,e,n,r){if(this.$selection.currentArtboard){var o=R.px(t-this.$selection.currentArtboard.x.value/this.$editor.scale).round(1),i=R.px(e-this.$selection.currentArtboard.y.value/this.$editor.scale).round(1),a=R.px(n/this.$editor.scale).round(1),c=R.px(r/this.$editor.scale).round(1),u="";switch(this.pointerType){case"move":u="X: ".concat(o,", Y: ").concat(i);break;case"to top":case"to bottom":u="Y: ".concat(i,", H: ").concat(c);break;case"to left":case"to right":u="X: ".concat(o,", W: ").concat(a);break;case"to top right":case"to top left":u="X: ".concat(o,", Y: ").concat(i,", W: ").concat(a,", H: ").concat(c);break;case"to bottom right":u="W: ".concat(a,", H: ").concat(c);break;case"to bottom left":u="X: ".concat(o,", Y: ").concat(i,", W: ").concat(a,", H: ").concat(c)}this.setPositionText(u);var s=this.$selection.length,l="";if(1===s){var f=this.$selection.current;l=f.title||f.getDefaultTitle();var p=vm[eA[f.itemType]||eA.rect];this.refs.$selectionIcon.html(p)}else s>=2&&(l="multi : ".concat(s),this.refs.$selectionIcon.html(vm.flag));this.refs.$selectionTitle.text(l),this.refs.$selectionMove.attr("title",l)}}},{key:"setPositionText",value:function(t){this.$target&&(this.$selection.current&&this.$selection.current.is("artboard")&&(t=t.split(",").filter((function(t){return!t.includes("X:")&&!t.includes("Y:")})).join(",")),this.$target.attr("data-position-text",t))}},{key:"calculateWorldPositionForGuideLine",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var n,r,o,i,a=t.calculateWorldPosition(e.A),c=t.calculateWorldPosition(e.B);return oe(e.ax)&&(n=e.ax*t.$editor.scale),oe(e.bx)&&(r=e.bx*t.$editor.scale),oe(e.ay)&&(o=e.ay*t.$editor.scale),oe(e.by)&&(i=e.by*t.$editor.scale),{A:a,B:c,ax:n,bx:r,ay:o,by:i}}))}},{key:"calculateWorldPosition",value:function(t){return{x:t.x*this.$editor.scale,y:t.y*this.$editor.scale,width:t.width*this.$editor.scale,height:t.height*this.$editor.scale}}}]),n}(function(t){WD(n,t);var e=qD(n);function n(){return ND(this,n),e.apply(this,arguments)}return UD(n,[{key:Jr("$selectionTool"),value:function(){var t=this.$selection.current;return{"data-is-layout-item":t&&t.isLayoutItem(),"data-is-layout-container":t&&t.hasLayout(),"data-layout-container":t&&(t.layout||t.parent.layout),"data-selection-length":this.$selection.length}}}]),n}(function(t){WD(n,t);var e=qD(n);function n(){return ND(this,n),e.apply(this,arguments)}return UD(n,[{key:gi("hideSelectionToolView"),value:function(){this.refs.$selectionTool.css({left:"-10000px",top:"-10000px"})}},{key:gi("hideSubEditor"),value:function(t){this.toggleEditingPath(!1)}},{key:gi("openPathEditor"),value:function(){var t=this.$selection.current;t&&t.is("svg-path","svg-brush","svg-textpath")&&(this.toggleEditingPath(!0),this.emit("showPathEditor","modify",{changeEvent:"updatePathItem",current:t,d:t.d,box:"box",screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}))}},{key:gi("finishPathEdit"),value:function(){this.toggleEditingPath(!1)}},{key:gi("updatePathItem"),value:function(t){var e,n=this.$selection.current;n&&(n.updatePathItem&&(n.updatePathItem(t),(e=this.parent).selectCurrent.apply(e,XD(this.$selection.items)),this.emit("refreshSelectionStyleView",n,!0,!0)))}},{key:gi("refreshSelectionTool"),value:function(){this.initSelectionTool()}},{key:gi("makeSelectionTool"),value:function(t){t&&this.removeOriginalRect();var e=this.guideView.calculate();this.makeSelectionTool(),0===this.$selection.length&&(e=[]),this.emit("refreshGuideLine",this.calculateWorldPositionForGuideLine(e))}}]),n}(wi)));function rA(t){return(rA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aA(t,e){return(aA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=sA(t);if(e){var o=sA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uA(this,n)}}function uA(t,e){return!e||"object"!==rA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sA(t){return(sA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lA=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"base-line";return'<text x="'.concat(t,'" y="').concat(e,"\" class='").concat(r,"'>").concat(n,"</text>")},fA=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"base-line";return"<line ".concat(Oe({x1:t,y1:e,x2:n,y2:r})," class='").concat(o,"' />")},pA=function(t,e){(function(t,e){return t.includes(e)})(t,e)||t.push(e)},yA=function(t,e,n,r){if(0!==Math.abs(n-r)){e=Math.floor(e),pA(t,fA(e-2,n,e+2,n)),pA(t,fA(e,n,e,r)),pA(t,fA(e-2,r,e+2,r));var o=(r+n)/2,i=Math.floor(Math.abs(r-n));pA(t,lA(e+2,o,i))}},hA=function(t,e,n,r){if(0!==Math.abs(n-r)){e=Math.floor(e),pA(t,fA(n,e-2,n,e+2)),pA(t,fA(n,e,r,e)),pA(t,fA(r,e-2,r,e+2));var o=(r+n)/2,i=Math.floor(Math.abs(r-n));pA(t,lA(o,e-2,i,"text-center"))}},dA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aA(t,e)}(i,t);var e,n,r,o=cA(i);function i(){return oA(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'<svg class=\'guide-line-view\' width="100%" height="100%" ></svg>'}},{key:"initState",value:function(){return{list:[]}}},{key:Jr("$el"),value:function(){return{html:this.createGuideLine(this.state.list)}}},{key:"createGuideLine",value:function(t){var e=[];return(t=t.filter((function(t,e){return 0===e}))).forEach((function(t){var n=t.B;if(oe(t.ax)){var r=Math.min(n.y,t.A.y),o=Math.max(n.y+n.height,t.A.y+t.A.height),i=t.bx;if(t.A.y>t.B.y+t.B.height?yA(e,i,t.B.y+t.B.height,t.A.y):yA(e,i,r,t.A.y),t.A.x-n.x>0&&t.A.y<=n.y+n.height&&t.A.y>=n.y){var a=t.A.y+t.A.height/2;hA(e,a,n.x,t.A.x)}n.x+n.width-(t.A.x+t.A.width)>0&&t.A.y<=t.B.y+t.B.height&&t.A.y>=t.B.y&&(a=t.A.y+t.A.height/2,hA(e,a,t.A.x+t.A.width,n.x+n.width)),t.A.y+t.A.height<t.B.y?yA(e,i,t.A.y+t.A.height,t.B.y):yA(e,i,t.A.y+t.A.height,o)}else{var c=Math.max(n.x+n.width,t.A.x+t.A.width),u=t.by;if(t.A.x>t.B.x+t.B.width?hA(e,u,t.B.x+t.B.width,t.A.x):hA(e,u,t.A.x,t.B.x),t.A.y-n.y>0&&t.A.x<=t.B.x+t.B.width&&t.A.x>=t.B.x){var s=(t.A.x+(t.A.x+t.A.width))/2;yA(e,s,t.B.y,t.A.y)}n.y+n.height-(t.A.y+t.A.height)>0&&t.A.x<=t.B.x+t.B.width&&t.A.x>=t.B.x&&(s=(t.A.x+(t.A.x+t.A.width))/2,yA(e,s,t.A.y+t.A.height,t.B.y+t.B.height)),t.A.x+t.A.width<t.B.x?hA(e,u,t.A.x+t.A.width,t.B.x):hA(e,u,t.A.x+t.A.width,c)}})),e.join("")}},{key:"removeGuideLine",value:function(){this.setState({list:[]})}},{key:"setGuideLine",value:function(t){this.setState({list:t})}},{key:gi("removeGuideLine"),value:function(){this.removeGuideLine()}},{key:gi("refreshGuideLine"),value:function(t){this.setGuideLine(t)}}])&&iA(e.prototype,n),r&&iA(e,r),i}(wi);function vA(t){return(vA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gA(t,e){return(gA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kA(t);if(e){var o=kA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OA(this,n)}}function OA(t,e){return!e||"object"!==vA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kA(t){return(kA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var SA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gA(t,e)}(i,t);var e,n,r,o=wA(i);function i(){return bA(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n        <div class='layer-add-view'>\n            <div class='area' ref='$area'></div>\n            <div class='area-rect' ref='$areaRect'></div>\n        </div>\n        "}},{key:"initState",value:function(){return{dragXY:{x:-1e4,y:0},x:0,y:0,width:0,height:0,color:Mn.random(),fontSize:30,showRectInfo:!1,content:"Insert a text"}}},{key:Er("$el")+Xr()+Yr(),value:function(t){var e=t.xy,n=e.x,r=e.y,o=this.$el.rect();this.state.dragXY={x:Math.floor(n-o.x),y:Math.floor(r-o.y)},this.state.color=Mn.random(),this.state.text="Insert a text",this.state.x=this.state.dragXY.x,this.state.y=this.state.dragXY.y,this.state.width=0,this.state.height=0,this.bindData("$area"),this.bindData("$areaRect")}},{key:"createLayerTemplate",value:function(){var t=this.state,e=t.type,n=t.text,r=t.color,o=t.width,i=t.height;switch(e){case"rect":return"<div class='draw-item' style='background-color: ".concat(r,"'></div>");case"circle":return"<div class='draw-item' style='background-color: ".concat(r,"; border-radius: 100%;'></div>");case"video":case"audio":case"image":case"cube":case"cylinder":return"<div class='draw-item' style='outline: 1px solid blue;'></div>";case"text":case"svg-text":return"<div class='draw-item' style='font-size: 30px;outline: 1px solid blue;'>".concat(n,"</div>");case"svg-rect":return"\n            <div class='draw-item'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;" overflow="visible">\n                    <path d="').concat(sc.makeRect(0,0,o,i),'" stroke-width="5" stroke="black" fill="transparent" />\n                </svg>\n            </div>\n            ');case"svg-circle":return"\n            <div class='draw-item'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;" overflow="visible">\n                    <path d="').concat(sc.makeCircle(0,0,o,i),'" stroke-width="5" stroke="black" fill="transparent" />\n                </svg>\n            </div>\n            ');case"svg-textpath":return"\n            <div class='draw-item' style='outline: 1px solid blue;'>\n                <svg width=\"".concat(o,'" height="').concat(i,'" style="width:100%; height:100%;font-size: ').concat(i,'px;" overflow="visible">\n                    <defs>\n                        <path id=\'layer-add-path\' d="').concat(sc.makeLine(0,i,o,i),'" />\n                    </defs>\n                    <text>\n                        <textPath ').concat(Oe({"xlink:href":"#layer-add-path",textLength:R.percent(100),lengthAdjust:"spacingAndGlyphs",startOffset:R.em(0)})," >").concat(n,"</textPath>\n                    </text>\n                </svg>\n            </div>\n            ")}}},{key:Jr("$area"),value:function(){return{style:{left:R.px(this.state.dragXY.x),top:R.px(this.state.dragXY.y),width:R.px(this.state.width),height:R.px(this.state.height)},innerHTML:this.createLayerTemplate()}}},{key:Jr("$areaRect"),value:function(){var t=this.state,e=t.x,n=t.y,r=t.width,o=t.height;return{style:{display:t.showRectInfo?"inline-block":"none",left:R.px(e+r),top:R.px(n+o)},innerHTML:"".concat(r," x ").concat(o)}}},{key:"move",value:function(t,e){this.$config.get("bodyEvent").shiftKey&&(e=t);var n={left:R.px(this.state.dragXY.x+(t<0?t:0)),top:R.px(this.state.dragXY.y+(e<0?e:0)),width:R.px(Math.abs(t)).floor(),height:R.px(Math.abs(e)).floor()};this.state.x=n.left.value,this.state.y=n.top.value,this.state.width=n.width.value,this.state.height=n.height.value,this.state.showRectInfo=!0,this.bindData("$area"),this.bindData("$areaRect")}},{key:"end",value:function(t,e){var n=this.$config.get("bodyEvent").altKey,r=this.state,o=r.x,i=r.y,a=r.width,c=r.height,u=r.color,s=r.text,l=r.fontSize,f={x:o=R.px(o).div(this.scale).floor(),y:i=R.px(i).div(this.scale).floor(),width:a=R.px(a).div(this.scale).floor(),height:c=R.px(c).div(this.scale).floor(),x2:R.px(o.value+a.value),y2:R.px(i.value+c.value),"background-color":u,content:s,"font-size":l};switch(this.state.type){case"text":case"svg-text":case"svg-textpath":0===f.width.value&&f.width.set(200),0===f.height.value&&f.height.set(50),f.x2=R.px(f.x.value+f.width.value),f.y2=R.px(f.y.value+f.height.value),delete f["background-color"];break;default:delete f.content}switch(this.state.type){case"image":this.emit("openImage",f);break;case"video":this.emit("openVideo",f);break;case"audio":this.emit("openAudio",f);break;default:this.emit("newComponent",this.state.type,f,!1)}n||this.trigger("hideLayerAppendView"),this.state.showRectInfo=!1,this.bindData("$areaRect")}},{key:gi("showLayerAppendView"),value:function(t){this.state.type=t,this.state.isShow=!0,this.refs.$area.empty(),this.$el.show(),this.$el.focus(),this.emit("change.mode.view","CanvasView")}},{key:gi("hideLayerAppendView"),value:function(){this.$el.isShow()&&(this.state.isShow=!1,this.$el.hide(),this.emit("change.mode.view"))}},{key:gi("hideAddViewLayer"),value:function(){this.state.isShow=!1,this.$el.hide()}},{key:"isShow",value:function(){return this.state.isShow}},{key:hr("document")+Vr("isShow")+zr+Mr+Nr+Kr,value:function(){this.trigger("hideLayerAppendView")}},{key:"scale",get:function(){return this.$editor.scale}}])&&mA(e.prototype,n),r&&mA(e,r),i}(wi);function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function PA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jA(Object(n),!0).forEach((function(e){xA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $A=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.segmentList=[]}var e,n,r;return e=t,(n=[{key:"reset",value:function(){return this.segmentList=[],this}},{key:"addLine",value:function(t,e){return this.segmentList.push({line:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addGuideLine",value:function(t,e){return this.segmentList.push({line:!0,guide:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addDistanceLine",value:function(t,e){return this.segmentList.push({line:!0,distance:!0,x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this}},{key:"addDistanceAngle",value:function(t,e,n,r,o,i){return this.segmentList.push({angle:!0,rx:e,ry:n,line:i,degree:r,center:t,last:o}),this}},{key:"addPoint",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.segmentList.push(PA(PA({},t),{},{cx:e.x,cy:e.y,selected:o,index:n,segment:r,isFirst:e.isFirst,isLast:e.isLast,isSecond:e.isSecond})),this}},{key:"addStartPoint",value:function(t,e){return this.segmentList.push(PA(PA({},t),{},{cx:e.x,cy:e.y,start:!0})),this}},{key:"addCurvePoint",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.segmentList.push({curve:!0,cx:t.x,cy:t.y,index:e,selected:r,segment:n,isFirst:t.isFirst,isLast:t.isLast,isSecond:t.isSecond}),this}},{key:"addText",value:function(t,e){return this.segmentList.push({type:"text",cx:t.x,cy:t.y,text:e+""}),this}},{key:"toString",value:function(){return this.segmentList.sort((function(t,e){return t.line&&!e.line?-1:!t.line&&e.line?1:0})),this.segmentList.map((function(t){return t.angle?"\n                <path stroke-width='1' \n                    data-distance='true'\n                    fill=\"rgba(0,0,0,0.5)\"\n                    d=\"M ".concat(t.center.x,",").concat(t.center.y," A ").concat(t.rx," ").concat(t.ry,",").concat(t.degree,",0,0,").concat(t.last.x," ").concat(t.last.y," L").concat(t.line.x," ").concat(t.line.y,' Z"\n                />'):t.line?'\n                <line stroke-width=\'1\' \n                    data-segment="true"\n                    data-is-last="'.concat(t.isLast,"\"                \n                    data-guide='").concat(t.guide,"'\n                    data-distance='").concat(t.distance,"'\n                    x1='").concat(t.x1,"' x2='").concat(t.x2,"' y1='").concat(t.y1,"' y2='").concat(t.y2,"' \n                />"):t.text?'\n                <text x="'.concat(t.cx,'" y="').concat(t.cy,'" dx="5" dy="-5" text-anchor="start">').concat(t.text,"</text>\n                "):t.curve?"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                     \n                    class='curve' \n                    data-selected='").concat(t.selected,"'                    \n                    data-is-last=\"").concat(t.isLast,'"                \n                    data-is-first="').concat(t.isFirst,'"      \n                    data-is-second="').concat(t.isSecond,'"                                  \n                    title="').concat(t.segment," curve\"                \n                    data-index='").concat(t.index,"' \n                    data-segment-point='").concat(t.segment,'\' \n                    data-segment="true" \n                />'):t.start?"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                    \n                    class='segment'\n                    data-selected='").concat(t.selected,'\'\n                    title="Center"\n                    data-start="true" \n                />'):"\n                <circle \n                    cx='".concat(t.cx,"' \n                    cy='").concat(t.cy,"' \n                    r='4'                    \n                    class='segment'\n                    data-selected='").concat(t.selected,"'\n                    title=\"").concat(t.segment,'"\n                    data-is-last="').concat(t.isLast,'"\n                    data-is-first="').concat(t.isFirst,'"\n                    data-is-second="').concat(t.isSecond,"\"\n                    data-index='").concat(t.index,"' \n                    data-segment-point='").concat(t.segment,'\' \n                    data-segment="true" \n                />')})).join("")}}])&&RA(e.prototype,n),r&&RA(e,r),t}();function EA(t){return function(t){if(Array.isArray(t))return TA(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||CA(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||CA(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CA(t,e){if(t){if("string"==typeof t)return TA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TA(t,e):void 0}}function TA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AA(t,e,n){return e&&DA(t.prototype,e),n&&DA(t,n),t}function IA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function VA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IA(Object(n),!0).forEach((function(e){LA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MA=["startPoint","endPoint","reversePoint"];function zA(t,e,n,r,o){var i=t.filter((function(t){return!!t&&Math.abs(t[e]-n)<=o})).map((function(t){return{dist:Math.abs(t[e]-n),point:t}}));i.sort((function(t,e){return t.dist>e.dist?-1:1}));var a=null;return i.length&&(r+=(a=i[0].point)[e]-n),{point:a,distanceValue:r}}function BA(t,e,n,r){var o=[],i=MA;return t.filter((function(t){return t})).forEach((function(t){i.filter((function(e){return t[e]})).forEach((function(i){var a=t[i],c=Math.abs(a[e]-n);c<=r&&o.push({dist:c,point:a})}))})),o.sort((function(t,e){return t.dist>e.dist?1:-1})),o.length?o[0].point:null}function FA(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=[],i=0,a=t.length;i<a;i++){var c=i,u=t[c];if(u){if("M"===u.command)o.push({command:"M",values:[u.startPoint]});else{var s=Ya.getPrevPoint(t,i);!1===u.curve?!1===s.curve?o.push({command:"L",values:[u.startPoint]}):o.push({command:"Q",values:[s.endPoint,u.startPoint]}):!1===s.curve?Ya.isEqual(u.reversePoint,u.startPoint)?o.push({command:"L",values:[u.startPoint]}):o.push({command:"Q",values:[u.reversePoint,u.startPoint]}):o.push({command:"C",values:[s.endPoint,u.reversePoint,u.startPoint]})}u.close&&o.push({command:"Z"})}}var l=o.map((function(t){return GA(e,n,t,r)})).join(" ");return{d:l}}function GA(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=n.command,i=n.values;switch(o){case"Z":return"Z";default:var a=i.map((function(n){var o=n.x-t==0?0:(n.x-t)/r,i=n.y-e==0?0:(n.y-e)/r;return"".concat(o," ").concat(i)})).join(" ");return"".concat(o," ").concat(a)}}var HA=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pathEditor=e,this.pathStringManager=new sc,this.guideLineManager=new sc,this.segmentManager=new $A,this.initialize(),this.initializeSelect()}return AA(t,null,[{key:"generatorPathString",value:function(t,e,n,r){return FA(t,e,n,r).d}}]),AA(t,[{key:"initialize",value:function(){this.splitLines=[],this.guideLineManager.reset(),this.segmentManager.reset(),this.pathStringManager.reset()}},{key:"initializeSelect",value:function(){this.selectedPointKeys={},this.selectedPointList=[]}},{key:"selectInBox",value:function(t){var e=[],n=["startPoint","endPoint","reversePoint"];this.state.points.forEach((function(r,o){n.forEach((function(n){var i=r[n];(function(t,e){return!(t.x2.value<e.x)&&(!(t.y2.value<e.y)&&(!(t.x.value>e.x)&&!(t.y.value>e.y)))})(t,i)&&e.push({x:i.x,y:i.y,key:n,index:o})}))})),this.select.apply(this,e)}},{key:"select",value:function(){var t=this;this.selectedPointKeys={};for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.selectedPointList=n,n.forEach((function(e){var n="".concat(e.key,"_").concat(e.index);t.selectedPointKeys[n]=!0}))}},{key:"selectKeyIndex",value:function(t,e){if(this.state.points[e]){var n=this.state.points[e][t];n&&!this.isSelectedSegment(t,e)&&this.select({x:n.x,y:n.y,key:t,index:e})}}},{key:"reselect",value:function(){var t=this;this.selectedPointList.forEach((function(e){var n=t.state.points[e.index][e.key];e.x=n.x,e.y=n.y}))}},{key:"isSelectedSegment",value:function(t,e){var n="".concat(t,"_").concat(e);return this.selectedPointKeys[n]}},{key:"applyMatrix",value:function(t){for(var e=t.x,n=t.y,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.forEach((function(t){if(t){var r=_A(t([e,n],0),2);e=r[0],n=r[1]}})),{x:e,y:n}}},{key:"applyTransform",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=L.matrix2d.translate(-this.transformRect.x,-this.transformRect.y),i=L.matrix2d.translate(this.transformRect.x,this.transformRect.y);this.transformPoints.forEach((function(e,r){var a=t.state.points[r];Object.assign(a.startPoint,t.applyMatrix.apply(t,[e.startPoint,o].concat(n,[i]))),Object.assign(a.endPoint,t.applyMatrix.apply(t,[e.endPoint,o].concat(n,[i]))),Object.assign(a.reversePoint,t.applyMatrix.apply(t,[e.reversePoint,o].concat(n,[i])))}))}},{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.transformRect,o=r.x,i=r.y,a=r.width,c=r.height,u=a/2,s=c/2;switch(t){case"flipX":this.applyTransform(L.matrix2d.translate(-e,0),L.matrix2d.flipX());break;case"flipY":this.applyTransform(L.matrix2d.translate(0,-n),L.matrix2d.flipY());break;case"flip":this.applyTransform(L.matrix2d.translate(-e,-n),L.matrix2d.flip());break;case"to move":this.applyTransform(L.matrix2d.translate(e,n));break;case"to rotate":var l=U({x:o+u,y:i},{x:o+u,y:i+s},{dx:e,dy:n});this.applyTransform(L.matrix2d.translate(-u,-s),L.matrix2d.rotate(z(-l)),L.matrix2d.translate(u,s));break;case"to skewX":l=K({x:u,y:s},{x:u+e,y:s});this.applyTransform(L.matrix2d.skewX(z(l)));break;case"to skewY":l=K({x:u,y:s},{x:u,y:s+n});this.applyTransform(L.matrix2d.skewY(z(l)));break;case"to bottom right":var f=B(a+e,a),p=B(c+n,c);this.applyTransform(L.matrix2d.scale(f,p));break;case"to right":f=B(a+e,a);this.applyTransform(L.matrix2d.scale(f,1));break;case"to bottom":p=B(c+n,c);this.applyTransform(L.matrix2d.scale(1,p));break;case"to top right":f=B(a+e,a),p=B(c-n,c);this.applyTransform(L.matrix2d.scale(f,p),L.matrix2d.translate(0,n));break;case"to top left":f=B(a-e,a),p=B(c-n,c);this.applyTransform(L.matrix2d.scale(f,p),L.matrix2d.translate(e,n));break;case"to left":f=B(a-e,a);this.applyTransform(L.matrix2d.scale(f,1),L.matrix2d.translate(e,0));break;case"to top":p=B(c-n,c);this.applyTransform(L.matrix2d.scale(1,p),L.matrix2d.translate(0,n));break;case"to bottom left":f=B(a-e,a),p=B(c+n,c);this.applyTransform(L.matrix2d.scale(f,p),L.matrix2d.translate(e,0))}}},{key:"initTransform",value:function(t){this.transformRect=pe(t),this.transformPoints=this.clonePoints.map((function(t){return{startPoint:pe(t.startPoint),endPoint:pe(t.endPoint),reversePoint:pe(t.reversePoint)}}))}},{key:"setConnectedPoint",value:function(t,e){var n=this.state,r=n.dragXY.x+t,o=n.dragXY.y+e,i={x:r,y:o},a={x:r,y:o};n.dragPoints&&(n.reversePoint=Ya.getReversePoint(n.startPoint,i));var c={startPoint:n.startPoint,endPoint:i,curve:!!n.dragPoints,reversePoint:a,connected:!0,close:!0};n.points.push(c)}},{key:"setCachePoint",value:function(t,e){var n=this.state,r=n.points;if(this.snapPointList=[],n.selectedIndex=t,n.connectedPoint=Ya.getPrevPoint(r,t),n.connectedPoint&&!n.connectedPoint.connected&&(n.connectedPoint=null),n.segment=Ya.getIndexPoint(r,t),n.segment.connected&&(n.connectedPoint=Ya.getNextPoint(r,t)),Ya.isFirst(n.segment)){var o=Ya.getLastPoint(r,t);o.connected&&(n.connectedPoint=o)}n.segmentKey=e,n.isCurveSegment=n.segment.curve&&"startPoint"!=n.segmentKey,n.originalSegment=pe(n.segment),n.connectedPoint&&(n.originalConnectedPoint=pe(n.connectedPoint)),n.cachedPoints=[],r.filter((function(t){return t&&t!=n.segment})).forEach((function(t){n.cachedPoints.push(t.startPoint,t.reversePoint,t.endPoint)}))}},{key:"moveSegment",value:function(t,e,n){var r=this.state,o=r.originalSegment[t],i=r.segment[t];o&&(i.x=o.x+e,i.y=o.y+n)}},{key:"calculateToCurve",value:function(t,e,n){var r=(e.startPoint.x+n.startPoint.x)/2,o=(e.startPoint.y+n.startPoint.y)/2,i=(e.startPoint.x-r)/2,a=(e.startPoint.y-o)/2;return t.endPoint={x:t.startPoint.x+i,y:t.startPoint.y+a},t.reversePoint={x:t.startPoint.x-i,y:t.startPoint.y-a},{dx:i,dy:a}}},{key:"convertToCurve",value:function(t){var e=this.state.points,n=e[t];if(n.curve)if(n.curve=!1,n.reversePoint=pe(n.startPoint),n.endPoint=pe(n.startPoint),"M"===n.command){var r=Ya.getPrevPoint(e,n.index);r.connected&&(r.curve=!1,r.reversePoint=pe(r.startPoint),r.endPoint=pe(r.startPoint))}else{if((o=Ya.getNextPoint(e,t))&&"M"===o.command)(a=o).curve=!1,a.reversePoint=pe(a.startPoint),a.endPoint=pe(a.startPoint)}else{n.curve=!0;var o,i=Ya.getPrevPoint(e,t);if((o=Ya.getNextPoint(e,t))&&o.index<t&&"M"===o.command){var a=o;o=Ya.getNextPoint(e,a.index),this.calculateToCurve(n,o,i),a.curve=!0,a.endPoint=pe(n.endPoint),a.reversePoint=pe(n.reversePoint)}else if(o&&o.index>t&&"M"!==o.command)this.calculateToCurve(n,o,i);else if(!o&&i){var c=(n.startPoint.x-i.startPoint.x)/3,u=(n.startPoint.y-i.startPoint.y)/3;n.endPoint={x:n.startPoint.x+c,y:n.startPoint.y+u},n.reversePoint=Ya.getReversePoint(n.startPoint,n.endPoint)}else if(!i&&o){c=(n.startPoint.x-o.startPoint.x)/3,u=(n.startPoint.y-o.startPoint.y)/3;n.endPoint={x:n.startPoint.x+c,y:n.startPoint.y+u},n.reverse=Ya.getReversePoint(n.startPoint,n.endPoint)}}}},{key:"moveCurveSegment",value:function(t,e,n){var r=this.state;this.moveSegment(t,e,n);var o="endPoint"===t?"reversePoint":"endPoint";r.segment[o]=Ya.getReversePoint(r.segment.startPoint,r.segment[t])}},{key:"rotateSegmentTarget",value:function(t,e){var n=this.state;if(n.originalSegment&&n.segment){var r=n.originalSegment.startPoint,o=r.x,i=r.y,a=n.segment[t],c=a.x,u=a.y,s=n.originalSegment[e],l=s.x,f=s.y,p=X(W(c-o,u-i),Y(l,f,o,i),o,i),y=p.x,h=p.y;n.segment[e]={x:y,y:h}}}},{key:"rotateSegment",value:function(t){this.rotateSegmentTarget(t,"endPoint"===t?"reversePoint":"endPoint")}},{key:"calculateSnap",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return function(e,n){var i=r.state,a=i.cachedPoints,c=i.originalSegment[t];if(!t)return{dx:e,dy:n,snapPointList:[]};var u=c.x+e,s=c.y+n,l=zA(a,"x",u,e,o),f=l.point,p=(e=l.distanceValue,zA(a,"y",s,n,o)),y=p.point,h=(n=p.distanceValue,{x:c.x+e,y:c.y+n}),d=[];return f&&d.push({startPoint:f,endPoint:h}),y&&d.push({startPoint:y,endPoint:h}),{dx:e,dy:n,snapPointList:d}}(e,n)}},{key:"copySegment",value:function(t,e){e.startPoint=pe(t.startPoint),e.endPoint=pe(t.endPoint),e.reversePoint=pe(t.reversePoint)}},{key:"moveSelectedSegment",value:function(t,e){var n=this;this.selectedPointList.forEach((function(r){var o=n.state.points[r.index][r.key];o.x=r.x+t,o.y=r.y+e}))}},{key:"removeSelectedSegment",value:function(){var t=this;this.selectedPointList.forEach((function(e){t.state.points[e.index][e.key].removed=!0}));var e=Ya.splitPoints(this.state.points),n=Ya.recoverPoints(e.map((function(t){return t.filter((function(t){return!t.startPoint.removed})).map((function(t){return t.endPoint.removed&&(t.endPoint=pe(t.startPoint)),t.reversePoint.removed&&(t.reversePoint=pe(t.startPoint)),Ya.isEqual(t.endPoint,t.startPoint,t.reversePoint)&&(t.command="L",t.curve=!1),t}))})));this.state.points=n,this.select()}},{key:"move",value:function(t,e,n){var r=this.state,o=r.isCurveSegment,i=r.segmentKey,a=r.connectedPoint,c=this.calculateSnap(i,t,e,2),u=(t=c.dx,e=c.dy,c.snapPointList);if(this.snapPointList=u||[],this.selectedPointList.length>1)this.moveSelectedSegment(t,e);else if(o)if(n.shiftKey){this.moveSegment(i,t,e);var s="endPoint"===i?"reversePoint":"endPoint";r.segment[s]=Ya.getReversePoint(r.segment.startPoint,r.segment[i])}else n.altKey?(this.moveSegment(i,t,e),this.rotateSegment(i)):this.moveSegment(i,t,e);else this.moveSegment("startPoint",t,e),this.moveSegment("endPoint",t,e),this.moveSegment("reversePoint",t,e);a&&this.copySegment(r.segment,r.connectedPoint)}},{key:"moveEnd",value:function(t,e){var n=this.state,r=n.points,o=n.dragXY.x+t,i=n.dragXY.y+e,a={x:o,y:i},c={x:o,y:i};n.dragPoints&&(c=Ya.getReversePoint(n.startPoint,a)),r.push({command:0===n.clickCount?"M":"",startPoint:n.startPoint,endPoint:a,curve:!!n.dragPoints,reversePoint:c}),n.startPoint=null,n.dragPoints=!1,n.moveXY=null}},{key:"setPoint",value:function(t){var e=t.first[0],n=t.second[t.second.length-1],r=this.clonePoints,o=Ya.getPoint(r,e),i=Ya.getPoint(r,n),a=[VA(VA({},o),{},{endPoint:t.first[1]}),{startPoint:t.first[3],reversePoint:t.first[2],curve:!0,endPoint:t.second[1]},VA(VA({},i),{},{reversePoint:t.second[2]})],c=Ya.getIndex(r,e);r.splice.apply(r,[c,2].concat(a)),this.state.points=r}},{key:"setPointQuard",value:function(t){var e=t.first[0],n=(t.second[t.second.length-1],this.clonePoints),r=Ya.getPoint(n,e),o=r.startPoint.x+(r.endPoint.x-r.startPoint.x)/3,i=r.startPoint.y+(r.endPoint.y-r.startPoint.y)/3,a=[VA(VA({},r),{},{endPoint:{x:o,y:i}}),{startPoint:t.first[2],reversePoint:t.first[1],curve:!0,endPoint:t.second[1]}],c=Ya.getIndex(n,e);n.splice.apply(n,[c,1].concat(a)),this.state.points=n}},{key:"setPointLine",value:function(t){var e=t.first[0],n=this.clonePoints,r=[{command:"L",startPoint:t.first[1],curve:!1,endPoint:t.first[1],reversePoint:t.first[1]}],o=Ya.getIndex(n,e);n.splice.apply(n,[o+1,0].concat(r)),this.state.points=n}},{key:"toPath",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return FA(this.clonePoints,t,e,n)}},{key:"changeScale",value:function(){this.pathEditor.scale}},{key:"makeSVGPath",value:function(){return this.initialize(),this.makePointGuide(this.clonePoints),this.makeMovePositionGuide(),this.toSVGString()}},{key:"makeTriangleDistancePointGuide",value:function(t,e){var n=Math.min(t.startPoint.x,e.startPoint.x),r=Math.max(t.startPoint.x,e.startPoint.x),o=Math.min(t.startPoint.y,e.startPoint.y),i=Math.max(t.startPoint.y,e.startPoint.y);if(t.startPoint.x<e.startPoint.x&&t.startPoint.y<e.startPoint.y){this.segmentManager.addDistanceLine({x:n,y:o},{x:r,y:o}).addDistanceLine({x:r,y:o},{x:r,y:i});var a=n,c=o,u=W(r-n,i-o)-180,s=X(0,20,a,c),l=s.x,f=s.y,p=X(u/2,20,a,c),y=p.x,h=p.y,d=X(u,20,a,c);this.segmentManager.addDistanceAngle(d,20,20,u,{x:l,y:f},{x:l-20,y:f}).addText({x:y-5,y:h+15},u)}else t.startPoint.x<e.startPoint.x&&t.startPoint.y>e.startPoint.y?this.segmentManager.addDistanceLine({x:n,y:i},{x:r,y:i}).addDistanceLine({x:r,y:o},{x:r,y:i}):t.startPoint.x>e.startPoint.x&&t.startPoint.y>e.startPoint.y?this.segmentManager.addDistanceLine({x:n,y:o},{x:n,y:i}).addDistanceLine({x:n,y:i},{x:r,y:i}):t.startPoint.x>e.startPoint.x&&t.startPoint.y<e.startPoint.y&&this.segmentManager.addDistanceLine({x:n,y:i},{x:r,y:i}).addDistanceLine({x:r,y:o},{x:r,y:i})}},{key:"makeDistancePointGuide",value:function(t,e,n,r){e.selected&&(t&&this.makeTriangleDistancePointGuide(t,e),n&&this.makeTriangleDistancePointGuide(e,n))}},{key:"makeStartPointGuide",value:function(t,e,n,r){e.startPoint.isFirst=!0,this.pathStringManager.M(e.startPoint),!1===e.curve?(this.segmentManager.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||this.segmentManager.addText(e.startPoint,r+1)):(this.segmentManager.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)).addGuideLine(e.startPoint,e.endPoint),!1===Ya.isEqual(e.startPoint,e.endPoint)&&this.segmentManager.addCurvePoint(e.endPoint,r,"endPoint",this.isSelectedSegment("endPoint",r)))}},{key:"makeMiddlePointGuideSegment",value:function(t,e,n,r){var o=this.segmentManager;!1===e.curve?!1===t.curve?(o.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):(o.addGuideLine(t.startPoint,t.endPoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===Ya.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):!1===t.curve?Ya.isEqual(e.reversePoint,e.startPoint)?(o.addPoint({},e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):(o.addGuideLine(e.startPoint,e.reversePoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===Ya.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1)):e.connected?(o.addGuideLine(t.startPoint,t.endPoint).addGuideLine(e.startPoint,e.reversePoint),!1===Ya.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),!1===Ya.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r))):(o.addGuideLine(t.startPoint,t.endPoint).addGuideLine(e.startPoint,e.reversePoint).addCurvePoint(e.startPoint,r,"startPoint",this.isSelectedSegment("startPoint",r)),!1===Ya.isEqual(t.startPoint,t.endPoint)&&o.addCurvePoint(t.endPoint,t.index,"endPoint",this.isSelectedSegment("endPoint",t.index)),!1===Ya.isEqual(e.startPoint,e.reversePoint)&&o.addCurvePoint(e.reversePoint,r,"reversePoint",this.isSelectedSegment("reversePoint",r)),e.startPoint.isLast||o.addText(e.startPoint,r+1))}},{key:"makeMiddlePointGuideRealPath",value:function(t,e,n,r){var o=this.pathStringManager;!1===e.curve?!1===t.curve?o.L(e.startPoint):o.Q(t.endPoint,e.startPoint):!1===t.curve?Ya.isEqual(e.reversePoint,e.startPoint)?o.L(e.startPoint):o.Q(e.reversePoint,e.startPoint):o.C(t.endPoint,e.reversePoint,e.startPoint)}},{key:"makeMiddlePointGuideSplitLine",value:function(t,e,n,r){!1===e.curve?!1===t.curve?this.splitLines.push((new sc).M(t.startPoint).L(e.startPoint).toString("split-path")):this.splitLines.push((new sc).M(t.startPoint).Q(t.endPoint,e.startPoint).toString("split-path")):!1===t.curve?Ya.isEqual(e.reversePoint,e.startPoint)?this.splitLines.push((new sc).M(t.startPoint).L(e.startPoint).toString("split-path")):this.splitLines.push((new sc).M(t.startPoint).Q(e.reversePoint,e.startPoint).toString("split-path")):this.splitLines.push((new sc).M(t.startPoint).C(t.endPoint,e.reversePoint,e.startPoint).toString("split-path"))}},{key:"makePointGuide",value:function(t){for(var e=this.state.selectedIndex,n=0,r=t.length;n<r;n++){var o=t[n];if(o){var i=Ya.getNextPoint(t,n),a=Ya.getPrevPoint(t,n);a&&"M"===a.command&&(o.startPoint.isSecond=!0),o.startPoint.isLast=i?"M"===i.command:n===r-1,o.selected=e===n,"M"===o.command?this.makeStartPointGuide(a,o,i,n):(this.makeMiddlePointGuideRealPath(a,o,i,n),this.makeMiddlePointGuideSplitLine(a,o,i,n),this.makeMiddlePointGuideSegment(a,o,i,n)),o.close&&this.pathStringManager.Z()}}}},{key:"makeMovePositionGuide",value:function(){var t=this.state,e=t.points,n=t.startPoint,r=t.moveXY,o=t.dragPoints,i=(t.altKey,t.snapPointList);if(r){var a;i=i||[];var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=BA(t,"x",e.x,n),o=BA(t,"y",e.y,n),i=VA({},e);r&&(i.x=r.x),o&&(i.y=o.y);var a=[];return r&&a.push({startPoint:r,endPoint:i}),o&&a.push({startPoint:o,endPoint:i}),{snapPointList:a,moveXY:i}}(e,r,2),u=c.snapPointList,s=c.moveXY;(a=i).push.apply(a,EA(u)),t.moveXY=s,r=s,this.snapPointList=i;var l=e[e.length-1];if(o)if(l){if(l.curve){var f=Ya.getReversePoint(n,r);h=f.x,d=f.y;this.guideLineManager.M(l.startPoint).C(l.endPoint,{x:h,y:d},n),this.segmentManager.addGuideLine(l.startPoint,l.endPoint).addGuideLine(n,{x:h,y:d}).addGuideLine(n,r).addCurvePoint(l.endPoint).addCurvePoint({x:h,y:d}).addCurvePoint(r).addPoint(!1,n)}else if(!1===l.curve){var p=Ya.getReversePoint(n,r);h=p.x,d=p.y;this.guideLineManager.M(l.startPoint).Q({x:h,y:d},n),this.segmentManager.addGuideLine(r,{x:h,y:d}).addPoint(!1,n).addCurvePoint({x:h,y:d}).addCurvePoint(r)}}else{var y=Ya.getReversePoint(n,r),h=y.x,d=y.y;this.guideLineManager.M(r).L(n).L({x:h,y:d}),this.segmentManager.addCurvePoint(n).addCurvePoint(r).addCurvePoint({x:h,y:d})}else l&&(l.curve?(this.guideLineManager.M(l.startPoint).Q(l.endPoint,r),this.segmentManager.addGuideLine(l.endPoint,l.startPoint).addCurvePoint(l.endPoint)):l.close||(this.guideLineManager.M(l.startPoint).L(r),this.segmentManager.addPoint(!1,l.startPoint)))}}},{key:"makeSnapLines",value:function(){var t=[];if(this.snapPointList){var e=new sc;t=this.snapPointList.map((function(t){return e.reset(),e.M(t.startPoint).L(t.endPoint).toString("snap-path")}))}return t.join("")}},{key:"makeSelectedSVGZone",value:function(){var t=this.state,e=t.screenX,n=t.screenY,r=t.screenWidth,o=t.screenHeight,i=this.pathEditor.scale,a=e.value*i,c=n.value*i,u=r.value*i,s=o.value*i;return"<rect class='svg-canvas' ".concat(Oe({x:a,y:c,width:u,height:s})," />")}},{key:"toSVGString",value:function(){return'\n        <svg width="100%" height="100%" class=\'svg-editor-canvas\'>\n            '.concat(this.makeSelectedSVGZone(),"\n            ").concat(this.guideLineManager.toString("guide",this.state.isPolygon),"\n            ").concat(this.pathStringManager.toString("object",this.state.isPolygon),"\n            ").concat(this.splitLines.join(""),"\n            ").concat(this.makeSnapLines(),"\n            ").concat(this.segmentManager.toString(),"\n        </svg>\n        ")}},{key:"state",get:function(){return this.pathEditor.state}},{key:"clonePoints",get:function(){return EA(this.state.points)}},{key:"selectedLength",get:function(){return this.selectedPointList.length}}]),t}();function XA(t){return(XA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YA(Object(n),!0).forEach((function(e){KA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function KA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UA(t,e,n){return(UA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rI(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function WA(t){return function(t){if(Array.isArray(t))return aI(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||iI(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JA(t,e,n){return e&&qA(t.prototype,e),n&&qA(t,n),t}function QA(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tI(t,e)}function tI(t,e){return(tI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rI(t);if(e){var o=rI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nI(this,n)}}function nI(t,e){return!e||"object"!==XA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rI(t){return(rI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||iI(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iI(t,e){if(t){if("string"==typeof t)return aI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aI(t,e):void 0}}function aI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cI(t){var e=oI(t,2);return{x:e[0],y:e[1]}}var uI=["fill","fill-opacity","stroke","stroke-width"],sI=function(t){QA(n,t);var e=eI(n);function n(){return ZA(this,n),e.apply(this,arguments)}return JA(n,[{key:"initialize",value:function(){UA(rI(n.prototype),"initialize",this).call(this),this.pathParser=new ec,this.pathGenerator=new HA(this)}},{key:"initState",value:function(){return{changeEvent:"updatePathItem",isShow:!1,points:[],hasTransform:!1,mode:"path",$target:null,clickCount:0,isSegment:!1,isFirstSegment:!1,screenX:R.z(),screenY:R.z(),screenWidth:R.z(),screenHeight:R.z()}}},{key:"template",value:function(){return"\n        <div class='path-editor-view' tabIndex=\"-1\">\n            <div class='path-container' ref='$view'></div>\n            <div class='path-container split-panel'>\n                <svg width=\"100%\" height=\"100%\">\n                    <circle ref='$splitCircle' class='split-circle' />\n                </svg>\n            </div>\n            <div class='path-tool'>\n                <div class='transform-manager' ref='$tool'>\n                    <div class='transform-tool-item' data-position='to rotate'></div>                \n                    <div class='transform-tool-item' data-position='to move'></div>\n                    <div class='transform-tool-item' data-position='to top'></div>\n                    <div class='transform-tool-item' data-position='to right'></div>\n                    <div class='transform-tool-item' data-position='to bottom'></div>\n                    <div class='transform-tool-item' data-position='to left'></div>\n                    <div class='transform-tool-item' data-position='to top right'></div>\n                    <div class='transform-tool-item' data-position='to bottom right'></div>\n                    <div class='transform-tool-item' data-position='to top left'></div>\n                    <div class='transform-tool-item' data-position='to bottom left'></div>  \n                </div>\n            </div>\n            <div class='segment-box' ref='$segmentBox'></div>\n        </div>"}},{key:Jr("$tool"),value:function(){this.resetTransformZone();var t=this.state.transformZoneRect;return{"data-show":"transform"===this.state.mode,"data-position":this.transformMoveType,style:{left:R.px(t.x),top:R.px(t.y),width:R.px(t.width),height:R.px(t.height)}}}},{key:"renderTransformTool",value:function(){this.bindData("$tool")}},{key:"isShow",value:function(){return this.state.isShow}},{key:"initRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.rect&&!t||(this.state.rect=this.parent.refs.$body.rect())}},{key:hr("document")+Vr("isShow")+Mr+Nr+Kr,value:function(){this.state.current?(this.refreshPathLayer(),this.trigger("hidePathEditor")):this.addPathLayer(),!this.state.current&&this.state.points.length?this.trigger("initPathEditorView"):this.trigger("hidePathEditor")}},{key:hr("document")+Vr("isShow")+zr+Nr+Kr,value:function(){this.state.current?this.refreshPathLayer():this.addPathLayer(),this.trigger("hidePathEditor")}},{key:"makePathLayer",value:function(t){var e,n=this,r=this.pathGenerator.toPath(t.x,t.y,this.scale).d,o=this.$selection.currentArtboard;if(o){var i=t.x/this.scale,a=t.y/this.scale,c=t.width/this.scale,u=t.height/this.scale;e=o.add(new BC({width:R.px(c),height:R.px(u),d:r,totalLength:this.totalPathLength})),uI.forEach((function(t){n.state[t]&&e.reset(KA({},t,n.state[t]))})),e.setScreenX(i),e.setScreenY(a)}return e}},{key:"updatePathLayer",value:function(){var t=this.getPathRect(),e=t.x,n=t.y,r=this.state.current;if(r&&this.isBoxMode)e=r.screenX.value/this.scale,n=r.screenY.value/this.scale;var o=this.pathGenerator.toPath(e,n,this.scale).d,i=new ec(o);this.emit(this.state.changeEvent,{d:i.toString(),totalLength:this.totalPathLength,rect:{x:0===t.x?0:t.x/this.scale,y:0===t.y?0:t.y/this.scale,width:0===t.width?0:t.width/this.scale,height:0===t.height?0:t.height/this.scale}}),this.emit("refreshPathLayer")}},{key:"addPathLayer",value:function(){var t=this.getPathRect();(this.changeMode("modify"),t.width>0&&t.height>0)&&(this.makePathLayer(t)&&this.emit("refreshAll"))}},{key:"changeMode",value:function(t,e){this.setState(NA({mode:t,clickCount:0,moveXY:null},e),!1),this.emit("changePathManager",this.state.mode)}},{key:gi("changePathManager"),value:function(t){this.setState(NA(NA({},t),{},{clickCount:0}),!1),this.renderPath()}},{key:"isMode",value:function(t){return this.state.mode===t}},{key:gi("changeScale"),value:function(){this.refresh()}},{key:"getCurrentObject",value:function(){var t=this.state.current;return t?{current:t,d:t.d,screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}:null}},{key:"refresh",value:function(t){if((t=t||this.getCurrentObject())&&t.d){this.pathParser.reset(t.d),this.pathParser.scale(this.scale,this.scale);var e=t.screenX.value*this.scale,n=t.screenY.value*this.scale;this.pathParser.translate(e,n),this.state.points=this.pathParser.convertGenerator(),this.state.hasTransform=!!t.current.transform}else this.state.hasTransform=!1;this.pathGenerator.initializeSelect(),this.renderPath()}},{key:gi("showPathEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"path",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"move"===t?(e.current=null,e.points=[]):e.current||(e.current=null),e.box=e.box||"canvas",this.changeMode(t,e),this.refresh(e),this.state.isShow=!0,this.$el.show(),this.$el.focus(),this.emit("showPathManager",{mode:this.state.mode}),this.emit("hidePathDrawEditor"),this.emit("change.mode.view","PathEditorView")}},{key:gi("hidePathEditor"),value:function(){this.$el.isShow()&&(this.pathParser.reset(""),this.setState(this.initState(),!1),this.refs.$view.empty(),this.$el.hide(),this.emit("finishPathEdit"),this.emit("hidePathManager"),this.emit("change.mode.view"))}},{key:gi("hideAddViewLayer"),value:function(){this.state.isShow=!1,this.pathParser.reset(""),this.setState(this.initState(),!1),this.refs.$view.empty(),this.$el.hide(),this.emit("hidePathManager")}},{key:Jr("$view"),value:function(){return{class:{path:"path"===this.state.mode,modify:"modify"===this.state.mode,transform:"transform"===this.state.mode,box:"box"===this.state.box,"has-transform":!!this.state.hasTransform,"segment-move":"segment-move"===this.state.mode},innerHTML:this.pathGenerator.makeSVGPath()}}},{key:Jr("$splitCircle"),value:function(){return this.state.splitXY?{cx:this.state.splitXY.x,cy:this.state.splitXY.y,r:5}:{r:0}}},{key:"refreshPathLayer",value:function(){this.updatePathLayer()}},{key:"renderPath",value:function(){this.bindData("$view"),this.renderTransformTool()}},{key:"getPathRect",value:function(){this.initRect(!0);var t=this.refs.$view.$("path.object"),e={x:0,y:0,width:0,height:0};return t&&((e=t.rect()).x-=this.state.rect.x,e.y-=this.state.rect.y),e}},{key:"resetTransformZone",value:function(){var t=this.getPathRect();this.state.transformZoneRect=t}},{key:_r("$view"),value:function(t){if(this.initRect(),this.isMode("path")&&this.state.rect)this.state.moveXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.altKey=t.altKey,this.renderPath();else{var e=er.create(t.target),n=e.hasClass("split-path");this.state.splitXY=n?this.calculatePointOnLine(e.attr("d"),{x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y}):null,this.bindData("$splitCircle"),this.state.altKey=!1}}},{key:Er("$view :not(.split-path)")+Xr()+Yr(),value:function(t){this.initRect(),this.state.altKey=!1;var e=this.isMode("path");this.state.dragXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.isOnCanvas=!1;var n=er.create(t.target);if(n.hasClass("svg-editor-canvas")&&!e?this.state.isOnCanvas=!0:(this.pathGenerator.reselect(),this.state.isSegment="true"===n.attr("data-segment"),this.state.isFirstSegment=this.state.isSegment&&"true"===n.attr("data-is-first")),e){if(this.state.isFirstSegment){var r=+n.attr("data-index");this.state.startPoint=this.state.points[r].startPoint}else this.state.startPoint=this.state.dragXY;this.state.dragPoints=!1,this.state.endPoint=null}else if(this.isOnCanvas)this.renderSelectBox(this.state.dragXY);else if(this.state.isSegment){this.changeMode("segment-move");var o=oI(n.attrs("data-index","data-segment-point"),2),i=(r=o[0],o[1]);this.pathGenerator.setCachePoint(+r,i),this.pathGenerator.selectKeyIndex(i,r)}}},{key:"hideSelectBox",value:function(){this.refs.$segmentBox.css({left:R.px(-1e5)})}},{key:"renderSelectBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r={left:R.px(t.x+(e<0?e:0)),top:R.px(t.y+(n<0?n:0)),width:R.px(Math.abs(e)),height:R.px(Math.abs(n))};this.refs.$segmentBox.css(r)}},{key:"getSelectBox",value:function(){var t=oI(this.refs.$segmentBox.styles("left","top","width","height").map((function(t){return R.parse(t)})),4),e={x:t[0],y:t[1],width:t[2],height:t[3]};return e.x2=R.px(e.x.value+e.width.value),e.y2=R.px(e.y.value+e.height.value),e}},{key:"move",value:function(t,e){if(this.state.isOnCanvas)this.renderSelectBox(this.state.dragXY,t,e);else if(this.isMode("segment-move")){var n=this.$config.get("bodyEvent");this.pathGenerator.move(t,e,n),this.renderPath(),this.updatePathLayer()}else if(this.isMode("path")){n=this.$config.get("bodyEvent");this.state.dragPoints=!n.altKey}}},{key:"renderSegment",value:function(t){this.pathGenerator.selectedLength&&(this.pathGenerator.reselect(),le(t)&&t(),this.renderPath(),this.updatePathLayer())}},{key:gi("deleteSegment"),value:function(){var t=this;this.renderSegment((function(){t.pathGenerator.removeSelectedSegment()}))}},{key:gi("moveSegment"),value:function(t,e){var n=this;this.renderSegment((function(){n.pathGenerator.moveSelectedSegment(t,e)}))}},{key:gi("initPathEditorView"),value:function(){this.pathParser.reset(""),this.setState(this.initState(),!1),this.state.isShow=!0,this.refs.$view.empty(),this.$el.focus()}},{key:"end",value:function(t,e){this.state.isOnCanvas?0===t&&0===e?(this.changeMode("modify"),this.trigger("hidePathEditor")):(this.changeMode("segment-move"),this.pathGenerator.selectInBox(this.getSelectBox()),this.renderPath(),this.hideSelectBox()):this.isMode("modify")||(this.isMode("segment-move")?this.changeMode("modify"):this.isMode("path")&&(this.state.isFirstSegment?(this.changeMode("modify"),this.pathGenerator.setConnectedPoint(t,e),this.renderPath(),this.state.current?this.refreshPathLayer():(this.addPathLayer(),this.trigger("initPathEditorView"))):(this.pathGenerator.moveEnd(t,e),this.state.clickCount++,this.renderPath())))}},{key:"scale",get:function(){return this.$editor.scale}},{key:"totalPathLength",get:function(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}},{key:"isBoxMode",get:function(){return"box"===this.state.box}}]),n}(function(t){QA(n,t);var e=eI(n);function n(){return ZA(this,n),e.apply(this,arguments)}return JA(n,[{key:gi("changePathTransform"),value:function(t){this.resetTransformZone();var e=this.state.transformZoneRect,n=e.width,r=e.height;switch(this.pathGenerator.initTransform(this.state.transformZoneRect),t){case"flipX":this.pathGenerator.transform("flipX",n,0);break;case"flipY":this.pathGenerator.transform("flipY",0,r);break;case"flip":this.pathGenerator.transform("flip",n,r)}this.renderPath(),this.refreshPathLayer()}},{key:Er("$tool .transform-tool-item")+Xr("moveTransformTool")+Yr("moveEndTransformTool"),value:function(t){this.transformMoveType=t.$dt.attr("data-position"),this.resetTransformZone(),this.pathGenerator.initTransform(this.state.transformZoneRect),this.startXY=t.xy}},{key:"moveTransformTool",value:function(t,e){this.pathGenerator.transform(this.transformMoveType,t,e),this.renderPath(),this.refreshPathLayer()}},{key:"moveEndTransformTool",value:function(t,e){this.transformMoveType="none",this.renderTransformTool()}}]),n}(function(t){QA(n,t);var e=eI(n);function n(){return ZA(this,n),e.apply(this,arguments)}return JA(n,[{key:"calculatePointOnLine",value:function(t,e){var n=new ec(t);if("C"===n.segments[1].command){var r=[cI(n.segments[0].values),cI(n.segments[1].values.slice(0,2)),cI(n.segments[1].values.slice(2,4)),cI(n.segments[1].values.slice(4,6))],o=Et.apply(void 0,WA(r).concat([200]))(e.x,e.y);return Lt(r,o).first[3]}if("Q"===n.segments[1].command){r=[cI(n.segments[0].values),cI(n.segments[1].values.slice(0,2)),cI(n.segments[1].values.slice(2,4))],o=_t.apply(void 0,WA(r).concat([200]))(e.x,e.y);return Mt(r,o).first[2]}if("L"===n.segments[1].command){r=[cI(n.segments[0].values),cI(n.segments[1].values.slice(0,2))],o=Ct.apply(void 0,WA(r).concat([200]))(e.x,e.y);return zt(r,o).first[1]}return e}},{key:lr("$view .split-path"),value:function(t){this.initRect();var e=new ec(t.$dt.attr("d")),n={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y};if("C"===e.segments[1].command){var r=[cI(e.segments[0].values),cI(e.segments[1].values.slice(0,2)),cI(e.segments[1].values.slice(2,4)),cI(e.segments[1].values.slice(4,6))],o=Et.apply(void 0,WA(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPoint(Lt(r,o))}else if("Q"===e.segments[1].command){r=[cI(e.segments[0].values),cI(e.segments[1].values.slice(0,2)),cI(e.segments[1].values.slice(2,4))],o=_t.apply(void 0,WA(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPointQuard(Mt(r,o))}else if("L"===e.segments[1].command){r=[cI(e.segments[0].values),cI(e.segments[1].values.slice(0,2))],o=Ct.apply(void 0,WA(r).concat([200]))(n.x,n.y);this.changeMode("modify"),this.pathGenerator.setPointLine(zt(r,o))}this.renderPath(),this.refreshPathLayer()}}]),n}(function(t){QA(n,t);var e=eI(n);function n(){return ZA(this,n),e.apply(this,arguments)}return JA(n,[{key:fr("$view [data-segment]"),value:function(t){var e=+t.$dt.attr("data-index");this.pathGenerator.convertToCurve(e),this.renderPath(),this.refreshPathLayer()}}]),n}(wi))));function lI(t){return(lI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fI(Object(n),!0).forEach((function(e){yI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vI(t,e){return(vI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gI(t);if(e){var o=gI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mI(this,n)}}function mI(t,e){return!e||"object"!==lI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gI(t){return(gI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vI(t,e)}(i,t);var e,n,r,o=bI(i);function i(){return hI(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"<div class='grid-layout-line-view' style='width:100%;height:100%;pointer-events:none;'></div>"}},{key:Ur("$el"),value:function(){if(1!==this.$selection.length)return"<div></div>";var t=this.$selection.current;if(t.isInGrid()){var e=t.parent,n=e.screenX,r=e.screenY,o=e.width,i=e.height,a=e.toGridLayoutCSS();return"<div style='".concat(ge(pI({position:"absolute",left:n,top:r,width:o,height:i,border:"1px solid black"},a)),"'>\n                ").concat(e.layers.map((function(t){var e=t.toLayoutItemCSS();return"<div style='".concat(ge(pI(pI({},e),{},{border:"1px solid dashed"})),"'></div>")})).join(""),"\n            </div>")}return"<div></div>"}},{key:gi("refreshGridLayoutLine","refreshSelectionTool","refreshSelection"),value:function(){this.refresh()}}])&&dI(e.prototype,n),r&&dI(e,r),i}(wi);function OI(t){return(OI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function SI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kI(Object(n),!0).forEach((function(e){jI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RI(t,e,n){return(RI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=CI(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $I(t,e){return($I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function EI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=CI(t);if(e){var o=CI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _I(this,n)}}function _I(t,e){return!e||"object"!==OI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CI(t){return(CI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var TI=["fill","fill-opacity","stroke","stroke-width","stroke-linecap","stroke-linejoin"],DI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$I(t,e)}(i,t);var e,n,r,o=EI(i);function i(){return PI(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){RI(CI(i.prototype),"initialize",this).call(this),this.pathParser=new ec}},{key:"initState",value:function(){return{points:[],$target:null,fill:"transparent",stroke:"black","fill-opacity":null,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",tolerance:1,screenX:R.z(),screenY:R.z(),screenWidth:R.z(),screenHeight:R.z()}}},{key:gi("changeDrawManager"),value:function(t){this.setState(SI({},t),!1)}},{key:"template",value:function(){return"\n        <div class='path-draw-view' tabIndex=\"-1\">\n            <div class='path-draw-container' ref='$view'></div>\n        </div>"}},{key:"initRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.rect&&!t||(this.state.rect=this.parent.refs.$body.rect())}},{key:hr("document")+Vr("isShow")+zr+Mr+Nr+Kr,value:function(){this.trigger("hidePathDrawEditor")}},{key:"makePathLayer",value:function(t){var e,n=this,r=this.$selection.currentArtboard;if(r){var o=t.x/this.scale,i=t.y/this.scale,a=t.width/this.scale,c=t.height/this.scale,u=Ya.simply(this.state.points,this.state.tolerance),s=new ec(sc.makePathByPoints(u)),l=HA.generatorPathString(s.convertGenerator(),t.x,t.y,this.scale);e=r.add(new BC({width:R.px(a),height:R.px(c),d:l,totalLength:this.totalPathLength})),TI.forEach((function(t){n.state[t]&&e.reset(jI({},t,n.state[t]))})),e.setScreenX(o),e.setScreenY(i)}return e}},{key:"addPathLayer",value:function(){var t=this.getPathRect();0!==t.width&&0!==t.height&&this.makePathLayer(t)&&this.emit("refreshAll")}},{key:"changeMode",value:function(t){this.setState(SI(SI({},this.initState()),t),!1)}},{key:"getCurrentObject",value:function(){var t=this.state.current;return t?{current:t,d:t.d,screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}:null}},{key:gi("showPathDrawEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.changeMode(t),this.$el.show(),this.$el.focus(),this.emit("showDrawManager",{instance:this,fill:this.state.fill,stroke:this.state.stroke,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]}),this.emit("hidePathEditor"),this.emit("change.mode.view","PathDrawView")}},{key:gi("initPathDrawEditor"),value:function(){this.pathParser.reset(""),this.refs.$view.empty()}},{key:gi("hidePathDrawEditor"),value:function(){this.$el.isShow()&&(this.trigger("initPathDrawEditor"),this.$el.hide(),this.emit("finishPathEdit"),this.emit("hideDrawManager"),this.emit("change.mode.view"))}},{key:gi("hideAddViewLayer"),value:function(){this.$el.hide(),this.emit("hideDrawManager")}},{key:"getInnerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"draw-manager-"+t}},{key:Jr("$view"),value:function(){return{innerHTML:'\n            <svg width="100%" height="100%" class=\'svg-editor-canvas\'>\n                '.concat(this.toDefString,"\n                <path class='object' \n                    ").concat(Oe({fill:this.toFillValue,stroke:this.toStrokeValue,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]}),'\n                    d="').concat(sc.makePathByPoints(this.state.points),'" />\n            </svg>\n            ')}}},{key:"renderPath",value:function(){this.bindData("$view")}},{key:gi("resizeEditor"),value:function(){this.initRect(!0)}},{key:"getPathRect",value:function(){this.initRect(!0);var t=this.refs.$view.$("path.object"),e={x:R.z(),y:R.z(),width:R.z(),height:R.z()};return t&&((e=t.rect()).x-=this.state.rect.x,e.y-=this.state.rect.y),e}},{key:Er("$view")+Xr()+Yr(),value:function(t){this.initRect(),this.state.altKey=!1,this.state.startXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.points=[this.state.startXY]}},{key:"move",value:function(t,e,n,r){this.state.points.push({x:this.state.startXY.x+t,y:this.state.startXY.y+e,pressure:r}),this.renderPath()}},{key:"end",value:function(t,e){this.addPathLayer(),this.trigger("initPathDrawEditor")}},{key:"scale",get:function(){return this.$editor.scale}},{key:"totalPathLength",get:function(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}},{key:"toFillSVG",get:function(){return rC.parseImage(this.state.fill||"transparent").toSVGString(this.fillId)}},{key:"toStrokeSVG",get:function(){return rC.parseImage(this.state.stroke||"black").toSVGString(this.strokeId)}},{key:"toDefInnerString",get:function(){return"\n            ".concat(this.toFillSVG,"\n            ").concat(this.toStrokeSVG,"\n        ")}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return"\n            <defs>\n            ".concat(t,"\n            </defs>\n        ")}},{key:"fillId",get:function(){return this.getInnerId("fill")}},{key:"strokeId",get:function(){return this.getInnerId("stroke")}},{key:"toFillValue",get:function(){return rC.parseImage(this.state.fill||"transparent").toFillValue(this.fillId)}},{key:"toStrokeValue",get:function(){return rC.parseImage(this.state.stroke||"black").toFillValue(this.strokeId)}}])&&xI(e.prototype,n),r&&xI(e,r),i}(wi);function AI(t){return(AI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?II(Object(n),!0).forEach((function(e){LI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BI(t,e,n){return(BI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=XI(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function FI(t,e){return(FI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function GI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=XI(t);if(e){var o=XI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HI(this,n)}}function HI(t,e){return!e||"object"!==AI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function XI(t){return(XI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var YI=["fill","stroke-width"],NI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FI(t,e)}(i,t);var e,n,r,o=GI(i);function i(){return MI(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){BI(XI(i.prototype),"initialize",this).call(this),this.pathParser=new ec}},{key:"initState",value:function(){return{changeEvent:"updatePathItem",points:[],$target:null,fill:"black",stroke:"black","fill-opacity":null,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",tolerance:1,screenX:R.z(),screenY:R.z(),screenWidth:R.z(),screenHeight:R.z()}}},{key:gi("changeDrawManager"),value:function(t){this.setState(VI({},t),!1),this.renderPath()}},{key:"template",value:function(){return"\n        <div class='brush-draw-view' tabIndex=\"-1\">\n            <div class='brush-draw-container' ref='$view'></div>\n        </div>"}},{key:"initRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.rect&&!t||(this.state.rect=this.parent.refs.$body.rect())}},{key:hr("document")+Vr("isShow")+zr+Mr+Nr+Kr,value:function(){this.trigger("hideBrushDrawEditor")}},{key:"makeBrushLayer",value:function(t){var e,n=this,r=this.$selection.currentArtboard;if(r){var o=t.x/this.scale,i=t.y/this.scale,a=t.width/this.scale,c=t.height/this.scale,u=Ya.simply(this.state.points,this.state.tolerance),s=new ec(sc.makePathByPoints(u)),l=HA.generatorPathString(s.convertGenerator(),o,i,this.scale);e=r.add(new uD({width:R.px(a),height:R.px(c),d:l,totalLength:this.totalPathLength})),YI.forEach((function(t){n.state[t]&&e.reset(LI({},t,n.state[t]))})),e.setScreenX(o),e.setScreenY(i)}return e}},{key:"addBrushLayer",value:function(){var t=this.getPathRect();if(0!==t.width&&0!==t.height){var e=this.makeBrushLayer(t);e&&(this.$selection.select(e),this.emit("refreshAll"),this.emit("refreshSelection"))}}},{key:"changeMode",value:function(t){this.setState(VI(VI({},this.initState()),t),!1),this.emit("change.mode.view","PathDrawView")}},{key:"getCurrentObject",value:function(){var t=this.state.current;return t?{current:t,d:t.d,screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight}:null}},{key:gi("showBrushDrawEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.changeMode(t),this.$el.show(),this.$el.focus(),this.emit("showDrawManager",{fill:this.state.fill,stroke:this.state.stroke,"fill-opacity":this.state["fill-opacity"],"stroke-width":this.state["stroke-width"],"stroke-linecap":this.state["stroke-linecap"],"stroke-linejoin":this.state["stroke-linejoin"]})}},{key:gi("initBrushDrawEditor"),value:function(){this.pathParser.reset(""),this.refs.$view.empty()}},{key:gi("hideBrushDrawEditor"),value:function(){this.trigger("initBrushDrawEditor"),this.$el.hide(),this.emit("finishPathEdit"),this.emit("hideDrawManager"),this.emit("change.mode.view")}},{key:"getInnerId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"draw-manager-"+t}},{key:Jr("$view"),value:function(){return{innerHTML:'\n            <svg width="100%" height="100%" class=\'svg-editor-canvas\'>\n                '.concat(this.toDefString,"\n                <path class='object' \n                    ").concat(Oe({fill:"transparent",stroke:"transparent"===this.toFillValue?"black":this.toFillValue}),'\n                    d="').concat(sc.makePathByPoints(this.state.points),'" />\n            </svg>\n            ')}}},{key:"renderPath",value:function(){this.bindData("$view")}},{key:"getPathRect",value:function(){this.initRect(!0);var t=this.refs.$view.$("path.object"),e={x:R.z(),y:R.z(),width:R.z(),height:R.z()};return t&&((e=t.rect()).x-=this.state.rect.x,e.y-=this.state.rect.y),e}},{key:Er("$view")+Xr()+Yr(),value:function(t){this.initRect(),this.state.altKey=!1,this.state.startXY={x:t.xy.x-this.state.rect.x,y:t.xy.y-this.state.rect.y},this.state.points=[this.state.startXY]}},{key:"move",value:function(t,e,n,r){this.state.points.push({x:this.state.startXY.x+t,y:this.state.startXY.y+e,pressure:r}),this.renderPath()}},{key:"end",value:function(t,e){this.addBrushLayer(),this.trigger("initBrushDrawEditor")}},{key:"scale",get:function(){return this.$editor.scale}},{key:"totalPathLength",get:function(){if(!this.refs.$view)return 0;var t=this.refs.$view.$("path.object");return t?t.totalLength:0}},{key:"toFillSVG",get:function(){return rC.parseImage(this.state.fill||"transparent").toSVGString(this.fillId)}},{key:"toStrokeSVG",get:function(){return rC.parseImage(this.state.stroke||"black").toSVGString(this.strokeId)}},{key:"toDefInnerString",get:function(){return"\n            ".concat(this.toFillSVG,"\n            ").concat(this.toStrokeSVG,"\n        ")}},{key:"toDefString",get:function(){var t=this.toDefInnerString.trim();return"\n            <defs>\n            ".concat(t,"\n            </defs>\n        ")}},{key:"fillId",get:function(){return this.getInnerId("fill")}},{key:"strokeId",get:function(){return this.getInnerId("stroke")}},{key:"toFillValue",get:function(){return rC.parseImage(this.state.fill||"transparent").toFillValue(this.fillId)}},{key:"toStrokeValue",get:function(){return rC.parseImage(this.state.stroke||"black").toFillValue(this.strokeId)}}])&&zI(e.prototype,n),r&&zI(e,r),i}(wi);function KI(t){return(KI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UI(t){return function(t){if(Array.isArray(t))return WI(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JI(t,e,n){return(JI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nV(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function QI(t,e){return(QI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nV(t);if(e){var o=nV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eV(this,n)}}function eV(t,e){return!e||"object"!==KI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nV(t){return(nV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QI(t,e)}(i,t);var e,n,r,o=tV(i);function i(){return ZI(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n    <div class=\'style-view\' style=\'pointer-events: none; position: absolute;display:inline-block;left:-1000px;\'>\n      <div ref=\'$svgArea\'></div>\n      <svg width="0" height="0">\n        <defs>\n          <marker id="start" markerWidth="8" markerHeight="8" refX="5" refY="5">\n              <circle cx="5" cy="5" r="3" style="stroke: none; fill:#000000;"/>\n          </marker>\n          <marker id="head" orient="auto" markerWidth="10" markerHeight="10" refX=".5" refY="3">\n            <path d="M0,0 V6 L5,3 Z" fill="red"></path>\n          </marker>\n        </defs>\n      </svg>\n    </div>\n    '}},{key:"initialize",value:function(){JI(nV(i.prototype),"initialize",this).call(this),this.refs.$head=er.create(document.head)}},{key:"makeProjectStyle",value:function(t){var e=t.toKeyframeString(),n=t.toRootVariableCSS();return"<style type='text/css' data-id='".concat(t.id,"'>\n      :root {\n        ").concat(ge(n),"\n      }\n      /* keyframe */\n      ").concat(e,"\n    </style>\n    ")}},{key:"makeStyle",value:function(t){var e=this;if(t.is("project"))return this.makeProjectStyle(t);var n=t.generateView(".element-item[data-id='".concat(t.id,"']"));return"\n      <style type='text/css' data-id='".concat(t.id,"' data-timestamp='").concat(t.timestamp,"'>").concat(n,"</style>\n    ")+t.layers.map((function(t){return e.makeStyle(t)})).join("")}},{key:"makeDragStyle",value:function(t){var e=this;if(t.is("project"))return this.makeProjectStyle(t);var n=t.generateDragView(".element-item[data-id='".concat(t.id,"']"));return"\n      <style type='text/css' data-id='".concat(t.id,"-drag' data-timestamp='").concat(t.timestamp,"'>").concat(n,"</style>\n    ")+t.layers.map((function(t){return e.makeDragStyle(t)})).join("")}},{key:"refreshStyleHead",value:function(){var t=this,e=this.$selection.currentProject||new v$;this.refs.$head.$$("style").forEach((function(t){return t.remove()})),this.changeStyleHead(e),e.artboards.forEach((function(e){return t.changeStyleHead(e)}))}},{key:"changeStyleHead",value:function(t){var e=this,n=er.create("div"),r=this.makeStyle(t);n.html(r).children().forEach((function(t){e.refs.$head.append(t)}))}},{key:"changeDragStyleHead",value:function(t){var e=this;er.create("div").html(this.makeDragStyle(t)).children().forEach((function(t){e.refs.$head.append(t)}))}},{key:"refreshStyleHeadOne",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[t];e||(n=t.allLayers);var r=n.map((function(t){return'style[data-id="'.concat(t.id,'"],style[data-id="').concat(t.id,'-drag"]')})).join(","),o=!1;this.refs.$head.$$(r).forEach((function(e){t.isChanged(e.attr("data-timestamp"))&&(o=!0,e.remove())})),o&&this.changeStyleHead(t)}},{key:"refreshDragStyleHeadOne",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[t];e||(n=[t].concat(UI(t.allLayers)));var r=n.map((function(t){return'style[data-id="'.concat(t.id,'-drag"]')})).join(",");this.refs.$head.$$(r).forEach((function(t){t.remove()})),this.changeDragStyleHead(t)}},{key:"removeDragStyleHeadOne",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[t];e||(n=[t].concat(UI(t.allLayers)));var r=n.map((function(t){return'style[data-id="'.concat(t.id,'-drag"]')})).join(",");this.refs.$head.$$(r).forEach((function(t){t.remove()}))}},{key:"makeSvg",value:function(t){var e=t.toSVGString?t.toSVGString():"";return"\n      ".concat(e?'<svg width="0" height="0">'.concat(e,"</svg>"):"","\n    ")}},{key:Ur("$svgArea")+Fr,value:function(){var t=this.$selection.currentProject||{};return this.makeSvg(t)}},{key:gi("refreshStyleView","moveTimeline","playTimeline"),value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.load(),this.refreshStyleHeadOne(t,e)):this.refresh()}},{key:gi("refreshSVGArea"),value:function(){this.load("$svgArea")}},{key:gi("refreshSelectionStyleView"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e;ie(e)?n=e:null!==e&&(n=[e]);var r=[];r=n?ce(n[0])?this.$selection.itemsByIds(n):n:this.$selection.items;var o=[],i=[];r.forEach((function(e){var n=e.allLayers.map((function(t){return'style[data-id="'.concat(t.id,'"],style[data-id="').concat(t.id,'-drag"]')})).join(",");i.push(n),o.push(t.makeStyle(e))})),i.length&&this.refs.$head.$$(i).forEach((function(t){t.remove()}));var a=er.create("div"),c=a.html(o.join("")).createChildrenFragment();this.refs.$head.append(c)}},{key:gi("removeSelectionDragStyleView"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e;ie(e)?n=e:null!==e&&(n=[e]),(n?ce(n[0])?this.$selection.itemsByIds(n):n:this.$selection.items).forEach((function(e){t.removeDragStyleHeadOne(e,!0)}))}},{key:gi("refreshSelectionDragStyleView"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e;ie(e)?n=e:null!==e&&(n=[e]),(n?ce(n[0])?this.$selection.itemsByIds(n):n:this.$selection.items).forEach((function(e){t.refreshDragStyleHeadOne(e,!0)}))}},{key:"refresh",value:function(){this.load(),this.refreshStyleHead()}}])&&qI(e.prototype,n),r&&qI(e,r),i}(wi);function oV(t){return(oV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||cV(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aV(t){return function(t){if(Array.isArray(t))return uV(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||cV(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cV(t,e){if(t){if("string"==typeof t)return uV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uV(t,e):void 0}}function uV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fV(t,e){return(fV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hV(t);if(e){var o=hV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yV(this,n)}}function yV(t,e){return!e||"object"!==oV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hV(t){return(hV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fV(t,e)}(i,t);var e,n,r,o=pV(i);function i(){return sV(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{StyleView:rV,SelectionToolView:nA,GuideLineView:dA,PathEditorView:sI,PathDrawView:DI,LayerAppendView:SA,BrushDrawView:NI,GridLayoutLineView:wI}}},{key:"initState",value:function(){return{mode:"selection",left:R.z(),top:R.z(),width:R.px(1e4),height:R.px(1e4),cachedCurrentElement:{},html:""}}},{key:"template",value:function(){return"\n            <div class='element-view' ref='$body'>\n                <div class='canvas-view' ref='$view'></div>\n                <div class='drag-area-rect' ref='$dragAreaRect'></div>\n                <div class='pointer-rect' ref='$pointerRect' style='display:none'></div>\n                <StyleView ref='$styleView' />\n                <GuideLineView ref='$guideLineView' />\n                <GridLayoutLineView ref='$gridLayoutLineView' />\n                <SelectionToolView ref='$selectionTool' />\n                <LayerAppendView ref='$objectAddView' />\n                <PathEditorView ref='$pathEditorView' />\n                <PathDrawView ref='$pathDrawView' />\n                <BrushDrawView ref='$brushDrawView' />\n            </div>\n        "}},{key:"getScrollXY",value:function(){return{width:this.refs.$body.scrollWidth(),height:this.refs.$body.scrollHeight(),left:this.refs.$body.scrollLeft(),top:this.refs.$body.scrollTop()}}},{key:gi("afterChangeMode"),value:function(){this.$el.attr("data-mode",this.$editor.mode)}},{key:gi("refElement"),value:function(t,e){le(e)&&e(this.getElement(t))}},{key:"getElement",value:function(t){return this.refs.$view.$('[data-id="'.concat(t,'"]'))}},{key:"checkEmptyElement",value:function(t){var e=er.create(t.target);return"selection"===this.state.mode&&!1===e.hasClass("element-item")&&!1===e.hasClass("selection-tool-item")&&!1===e.hasClass("point")&&!1===e.hasClass("handle")&&!1===e.hasClass("perspective-handle")&&!1===e.hasClass("transform-tool-item")&&!1===e.hasClass("transform-tool")&&!1===e.isTag("svg")&&!1===e.isTag("path")&&!1===e.isTag("textPath")&&!1===e.isTag("polygon")&&!1===e.isTag("text")&&!1===e.isTag("img")&&"true"!==e.attr("data-segment")}},{key:Er("$view")+Vr("checkEmptyElement")+Xr("movePointer")+Yr("moveEndPointer"),value:function(t){if(this.$target=er.create(t.target),this.dragXY={x:t.xy.x,y:t.xy.y},this.rect=this.refs.$body.rect(),this.canvasOffset=this.refs.$view.rect(),this.canvasPosition={x:this.canvasOffset.left-this.rect.x,y:this.canvasOffset.top-this.rect.y},this.dragXY.x-=this.rect.x,this.dragXY.y-=this.rect.y,this.$editor.isSelectionMode()){var e={left:R.px(this.dragXY.x),top:R.px(this.dragXY.y),width:R.z(),height:R.z()};this.refs.$dragAreaRect.css(e),this.state.cachedCurrentElement={},this.$el.$$(".selected").forEach((function(t){return t.removeClass("selected")}))}}},{key:"movePointer",value:function(t,e){var n=this;this.$config.get("bodyEvent").shiftKey&&(e=t);var r={left:R.px(this.dragXY.x+(t<0?t:0)),top:R.px(this.dragXY.y+(e<0?e:0)),width:R.px(Math.abs(t)),height:R.px(Math.abs(e))};if(this.refs.$dragAreaRect.css(r),this.$editor.isSelectionMode()){var o=r.left,i=r.top,a=r.width,c=r.height,u={x:R.px(o.value-this.canvasPosition.x),y:R.px(i.value-this.canvasPosition.y),width:a,height:c};u.x2=R.px(u.x.value+u.width.value),u.y2=R.px(u.y.value+u.height.value);var s=this.$selection.currentArtboard;if(s){var l;Object.keys(u).forEach((function(t){u[t].div(n.$editor.scale)}));var f=s.checkInAreaForLayers(u);0===u.width.value&&0===u.height.value&&(f=[]),(l=this.$selection).select.apply(l,aV(f))&&this.selectCurrentForBackgroundView.apply(this,aV(f))}}}},{key:"moveEndPointer",value:function(t,e){var n=this,r=iV(this.refs.$dragAreaRect.styles("left","top","width","height").map((function(t){return R.parse(t)})),4),o=r[0],i=r[1],a=r[2],c=r[3],u={x:R.px(o.value-this.canvasPosition.x),y:R.px(i.value-this.canvasPosition.y),width:a,height:c};if(u.x2=R.px(u.x.value+u.width.value),u.y2=R.px(u.y.value+u.height.value),this.refs.$dragAreaRect.css({left:R.px(-1e4),top:R.z(),width:R.z(),height:R.z()}),this.$editor.isSelectionMode()){var s,l=this.$selection.currentArtboard,f=[];l?(Object.keys(u).forEach((function(t){u[t].div(n.$editor.scale)})),f=l.checkInAreaForLayers(u),0===u.width.value&&0===u.height.value&&(f=[l]),0===f.length&&l.checkInArea(u)&&(f=[l]),(s=this.$selection).select.apply(s,aV(f))&&this.selectCurrentForBackgroundView.apply(this,aV(f)),f.length||this.$selection.select()):this.$selection.select(),this.emit("history.refreshSelection")}this.sendHelpMessage(),this.emit("removeGuideLine")}},{key:"sendHelpMessage",value:function(){1===this.$selection.length&&this.$selection.current.is("svg-path","svg-brush","svg-polygon","svg-textpath")&&this.emit("addStatusBarMessage","Please click if you want to edit to path ")}},{key:Sr("$view .element-item.text"),value:function(t){t.$dt.css("height","auto")}},{key:Pr("$view .element-item.text"),value:function(t){t.$dt.css("height",void 0)}},{key:hr("$view .element-item.text"),value:function(t){var e=t.$dt.html(),n=t.$dt.text().trim(),r=t.$dt.attr("data-id"),o=t.$dt.rect(),i=[];this.$selection.items.filter((function(t){return t.id===r})).forEach((function(t){t.reset({content:e,text:n,height:R.px(o.height)}),i.push({id:t.id,content:e,text:n})})),this.emit("refreshContent",i),this.children.$selectionTool.initMoveType(),this.emit("refreshSelectionTool")}},{key:"checkEditMode",value:function(){return this.$editor.isSelectionMode()}},{key:"getPointer",value:function(t,e){return"<div class='pointer' data-number=\"".concat(e,'" style="transform: translate3d( calc(').concat(t.x,"px - 10px), calc(").concat(t.y,'px - 10px), 0px)" ></div>')}},{key:"getPointerRect",value:function(t){var e=t.a,n=e.x,r=e.y;return'\n        <svg overflow="visible" style=\'position: absolute; transform: translate3d('.concat(n,"px, ").concat(r,'px, 0px)\'>\n            <path fill="transparent" stroke="black" stroke-width="3" d="M ').concat(t.a.x-n,", ").concat(t.a.y-r," L ").concat(t.b.x-n,", ").concat(t.b.y-r," L ").concat(t.c.x-n,", ").concat(t.c.y-r," L ").concat(t.d.x-n,", ").concat(t.d.y-r,' Z" />\n        </svg>')}},{key:"getRenderPointers",value:function(t){return console.log(t.center),[this.getPointer(t.a,1),this.getPointer(t.b,2),this.getPointer(t.c,3),this.getPointer(t.d,4),this.getPointer(t.center,5)].join("")+this.getPointerRect(t)}},{key:Er("$view .element-item")+Vr("checkEditMode")+Xr("calculateMovedElement")+Yr("calculateEndedElement"),value:function(t){if(this.startXY=t.xy,this.$element=t.$dt,this.$element.hasClass("text")&&this.$element.hasClass("selected"))return!1;var e=this.$element.attr("data-id");this.hasSVG=!1,t.shiftKey?this.$selection.toggleById(e):this.$selection.check({id:e})?this.$selection.current.is("svg-path","svg-brush","svg-textpath","svg-polygon")&&(this.hasSVG=!0):this.$selection.selectById(e),this.selectCurrent.apply(this,aV(this.$selection.items)),this.children.$selectionTool.initMoveType(),this.emit("history.refreshSelection")}},{key:"renderPointers",value:function(){var t=this,e=this.refs.$view.findAll(".element-item").map((function(e){return t.getRenderPointers(I(e,t.refs.$view.el))})).join("");this.refs.$pointerRect.updateDiff(e)}},{key:"calculateMovedElement",value:function(t,e){this.children.$selectionTool.refreshSelectionToolView(t,e,"move"),this.updateRealPosition()}},{key:"updateRealPositionByItem",value:function(t){var e=t.toBound(),n=e.x,r=e.y,o=e.width,i=e.height,a=this.state.cachedCurrentElement[t.id];a||(this.state.cachedCurrentElement[t.id]=this.getElement(t.id),a=this.state.cachedCurrentElement[t.id]),a&&a.cssText("left: ".concat(n,";top:").concat(r,";width:").concat(o,";height:").concat(i,"; transform: ").concat(t.transform,";"))}},{key:"updateRealPosition",value:function(){var t=this;this.$selection.each((function(e){t.updateRealPositionByItem(e)})),this.emit("refreshRect")}},{key:gi("refreshArtBoardName"),value:function(t,e){this.$el.$("[data-id='".concat(t,"']")).attr("data-title",e)}},{key:"calculateEndedElement",value:function(t,e){var n=this;if(0===t&&0===e){if(this.hasSVG)return void this.emit("openPathEditor")}else this.emit("removeGuideLine"),this.nextTick((function(){n.command("setAttributeForMulti","move item",n.$selection.cloneValue("x","y","width","height"))}))}},{key:Jr("$body"),value:function(){var t=this.$editor,e=t.canvasWidth,n=t.canvasHeight;return{"data-mode":t.mode,style:{position:"relative",width:R.px(e),height:R.px(n)}}}},{key:"selectCurrent",value:function(){var t=this;this.state.cachedCurrentElement={};var e=this.$el.$$(".selected");e&&e.forEach((function(t){return t.removeClass("selected")}));for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(r.length){var i=r.map((function(t){return"[data-id='".concat(t.id,"']")})).join(","),a=this.$el.$$(i);a.forEach((function(e){t.state.cachedCurrentElement[e.attr("data-id")]=e,e.addClass("selected")}))}else this.$selection.select(this.$selection.currentArtboard);this.emit("refreshSelectionTool")}},{key:"selectCurrentForBackgroundView",value:function(){var t=this;this.state.cachedCurrentElement={};var e=this.$el.$$(".selected");e&&e.forEach((function(t){return t.removeClass("selected")}));for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(r.length){var i=r.map((function(t){return"[data-id='".concat(t.id,"']")})).join(","),a=this.$el.$$(i);a.forEach((function(e){t.state.cachedCurrentElement[e.attr("data-id")]=e,e.addClass("selected")}))}this.emit("refreshSelection"),this.emit("refreshSelectionTool")}},{key:"modifyScale",value:function(){this.refs.$view.css({transform:"scale(".concat(this.$editor.scale,")")}),this.emit("makeSelectionTool",!0)}},{key:gi("changeScale"),value:function(){this.modifyScale()}},{key:gi("refreshCanvasForPartial","refreshSelectionStyleView","refreshSelectionDragStyleView"),value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t?[t]:this.$selection.items;o.forEach((function(t){e.updateElement(t,n,r)}))}},{key:"updateElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(t.updateFunction(this.getElement(t.id),e,n),this.updateRealPositionByItem(t))}},{key:"updateTimelineElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(t.updateFunction(this.getElement(t.id),e,n,this,!0),this.updateRealPositionByItem(t))}},{key:gi("playTimeline","moveTimeline"),value:function(){var t=this,e=this.$selection.currentProject;e.getSelectedTimeline().animations.map((function(t){return e.searchById(t.id)})).forEach((function(e){t.updateTimelineElement(e,!0,!1)}))}},{key:gi("refreshAllCanvas"),value:function(){var t=this.$selection.currentArtboard||{html:""},e=t.html;this.setState({html:e},!1),this.refs.$view.updateDiff(e)}},{key:gi("refreshAllElementBoundSize"),value:function(){var t=this,e=this.$selection.items.map((function(t){return t.is("artboard")?t:t.parent}));aV(new Set(e)).forEach((function(e){t.trigger("refreshElementBoundSize",e)}))}},{key:gi("refreshElementBoundSize"),value:function(t){var e=this;t&&t.layers.forEach((function(t){if(t.isLayoutItem()){var n=e.getElement(t.id);if(n){var r=n.offsetRect(),o=r.x,i=r.y,a=r.width,c=r.height;t.reset({x:R.px(o),y:R.px(i),width:R.px(a),height:R.px(c)}),e.trigger("refreshSelectionStyleView",t,!0)}}e.trigger("refreshElementBoundSize",t)}))}},{key:br("view")+Nr,value:function(){}},{key:vr("$view")+Nr,value:function(t){var e=er.create(t.target).attr("data-id");if(e)this.$selection.length?this.emit("drop.asset",{gradient:t.dataTransfer.getData("text/gradient"),color:t.dataTransfer.getData("text/color"),imageUrl:t.dataTransfer.getData("image/info")}):this.emit("drop.asset",{gradient:t.dataTransfer.getData("text/gradient"),color:t.dataTransfer.getData("text/color"),imageUrl:t.dataTransfer.getData("image/info")},e);else{var n=t.dataTransfer.getData("image/info");this.emit("dropImageUrl",n)}}}])&&lV(e.prototype,n),r&&lV(e,r),i}(wi);function vV(t){return(vV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gV(t,e){return(gV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kV(t);if(e){var o=kV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OV(this,n)}}function OV(t,e){return!e||"object"!==vV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kV(t){return(kV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var SV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gV(t,e)}(i,t);var e,n,r,o=wV(i);function i(){return bV(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=R.parse(this.props.value||R.number(0));return t=t.toUnit("number"),{label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",value:t}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:Ur("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.type,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=o?"has-label":"",s=a,l=(+c).toString();return"\n        <div class='number-input-editor ".concat(u," ").concat(s,"' data-selected-type='").concat(i,"'>\n            ").concat(o?"<label>".concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(l,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,'" />\n                </div>\n            </div>\n        </div>\n    ')}},{key:"getValue",value:function(){return this.state.value||0}},{key:"setValue",value:function(t){this.setState({value:R.parse(t)})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:Or("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.updateData({value:this.state.value.set(e)})}}])&&mV(e.prototype,n),r&&mV(e,r),i}(wi);function jV(t){return(jV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RV(t,e){return(RV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_V(t);if(e){var o=_V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EV(this,n)}}function EV(t,e){return!e||"object"!==jV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _V(t){return(_V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var CV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RV(t,e)}(i,t);var e,n,r,o=$V(i);function i(){return PV(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{NumberInputEditor:SV}}},{key:"template",value:function(){return"     \n      <div class='page-tools'>\n        <button type='button' ref='$minus'>".concat(vm.remove2,"</button>\n        <div class='select'>\n          <NumberInputEditor ref='$scale' min='10' max='240' step=\"1\" key=\"scale\" value=\"").concat(100*this.$editor.scale,"\" onchange=\"changeRangeEditor\" />\n        </div>\n        <label>%</label>\n        <button type='button' ref='$plus'>").concat(vm.add,"</button>        \n      </div>\n\n    ")}},{key:gi("changeScaleValue"),value:function(t){t<=0&&(t=.01),t=M(100*t,100),this.children.$scale.setValue(t),this.emit("updateScale",t/100)}},{key:gi("changeRangeEditor")+Gr(1e3),value:function(t,e){this.trigger("changeScaleValue",Math.floor(e/100))}},{key:lr("$plus")+Nr+Kr,value:function(){this.trigger("changeScaleValue",this.$editor.scale+.25)}},{key:lr("$minus")+Nr+Kr,value:function(){this.trigger("changeScaleValue",this.$editor.scale-.25)}}])&&xV(e.prototype,n),r&&xV(e,r),i}(wi);function TV(t){return(TV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DV(t){return function(t){if(Array.isArray(t))return AV(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return AV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AV(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LV(t,e){return(LV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function MV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=BV(t);if(e){var o=BV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zV(this,n)}}function zV(t,e){return!e||"object"!==TV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BV(t){return(BV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FV={"image-resource":"Image",url:"Image",image:"Image","static-gradient":"Static","linear-gradient":"Linear","repeating-linear-gradient":"".concat(vm.repeat," Linear"),"radial-gradient":"Radial","repeating-radial-gradient":"".concat(vm.repeat," Radial"),"conic-gradient":"Conic","repeating-conic-gradient":"".concat(vm.repeat," Conic")},GV={image:"image","image-resource":"image",url:"image","static-gradient":"gradient","linear-gradient":"gradient","repeating-linear-gradient":"gradient","radial-gradient":"gradient","repeating-radial-gradient":"gradient","conic-gradient":"gradient","repeating-conic-gradient":"gradient"},HV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LV(t,e)}(i,t);var e,n,r,o=MV(i);function i(){return IV(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return bK}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],value:this.props.value,images:this.parseBackgroundImage(this.props.value)}}},{key:"parseBackgroundImage",value:function(t){return Of.parseStyle(we(t))}},{key:"setValue",value:function(t){this.setState({value:t,images:this.parseBackgroundImage(t)})}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return"\n            <div class='background-image-editor' >\n                <div class='label ".concat(t,"'>\n                    <label>").concat(this.props.title||"","</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>").concat(vm.add," ").concat(this.props.title?"":"Add","</button>\n                    </div>\n                </div>\n                <div class='fill-list' ref='$fillList'></div>\n            </div>\n        ")}},{key:"templateForBlendMode",value:function(t,e){return"\n        <div class='popup-item'>\n          <BlendSelectEditor \n                ref='$blend_".concat(t,"' \n                key='blendMode' \n                value=\"").concat(e,'" \n                params="').concat(t,'" \n                onchange="changeRangeEditor" \n            />\n        </div>\n        ')}},{key:Ur("$fillList"),value:function(){var t=this,e=this.$selection.current||{color:"black"};return this.state.images.map((function(n,r){var o=n.image,i=GV[o.type],a=FV[o.type],c=n.selected?"selected":"";return n.selected&&(t.selectedIndex=r),"\n            <div class='fill-item ".concat(c,"' data-index='").concat(r,"' ref=\"fillIndex").concat(r,"\"  draggable='true' data-fill-type=\"").concat(i,'" >\n                <BackgroundPositionEditor ').concat(Oe({key:"background-position",index:r,ref:"$bp".concat(r),x:n.x,y:n.y,width:n.width,height:n.height,repeat:n.repeat,size:n.size,blendMode:n.blendMode})," onchange='changePattern' />\n                <GradientSingleEditor ").concat(Oe({index:r,ref:"$gse".concat(r),image:n.image,color:e.color,key:"background-image"})," onchange='changePattern'\n\n                />\n                <div class='fill-info'>\n                  <div class='gradient-info'>\n                    <div class='fill-title' ref=\"fillTitle").concat(r,'">').concat(a,"</div>\n                    <div class='blend'>\n                      ").concat(t.templateForBlendMode(r,n.blendMode),"\n                    </div>\n                    <div class='tools'>\n                      <button type=\"button\" class='remove' data-index='").concat(r,"'>").concat(vm.remove2,"</button>\n                    </div>\n                  </div>\n                </div>\n            </div>\n            ")}))}},{key:"modifyBackgroundImage",value:function(){var t=ge(Of.toPropertyCSS(this.state.images));this.parent.trigger(this.props.onchange,this.props.key,t)}},{key:gi("add"),value:function(){this.state.images.push(new Of({image:new Us({angle:90,colorsteps:[new Nu({percent:0,color:"white",index:0}),new Nu({percent:100,color:"black",index:1})]})})),this.refresh(),this.modifyBackgroundImage()}},{key:lr("$add"),value:function(){this.trigger("add")}},{key:dr("$fillList .fill-item"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:br("$fillList .fill-item")+Nr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(DV(t.splice(e,1))))}},{key:"sortBackgroundImage",value:function(t,e){this.sortItem(this.state.images,t,e)}},{key:vr("$fillList .fill-item")+Nr,value:function(t){var e=+t.$dt.attr("data-index");this.selectItem(this.startIndex,!0),this.sortBackgroundImage(this.startIndex,e),this.refresh(),this.modifyBackgroundImage()}},{key:"getCurrentBackgroundImage",value:function(){return this.state.images[this.selectedIndex]}},{key:lr("$fillList .tools .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.images.splice(e,1),this.refresh(),this.modifyBackgroundImage()}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["fillIndex".concat(t)].addClass("selected"):this.refs["fillIndex".concat(t)].removeClass("selected"),this.state.images.forEach((function(e,n){e.selected=n===t}))}},{key:gi("selectFillPopupTab"),value:function(t,e){var n=GV[t];this.refs["fillIndex".concat(this.selectedIndex)].attr("data-fill-type",n)}},{key:gi("changeRangeEditor"),value:function(t,e,n){this.trigger("changePattern",t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),n)}},{key:gi("changePattern")+Gr(10),value:function(t,e,n){var r=+n;this.state.images[r].reset(e),console.log(this.$config.get("bodyEvent")),this.modifyBackgroundImage(),this.refresh()}}])&&VV(e.prototype,n),r&&VV(e,r),i}(wi);function XV(t){return(XV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KV(t,e){return(KV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function UV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ZV(t);if(e){var o=ZV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WV(this,n)}}function WV(t,e){return!e||"object"!==XV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZV(t){return(ZV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KV(t,e)}(i,t);var e,n,r,o=UV(i);function i(){return YV(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],boxShadows:Um.parseStyle(this.props.value||"")}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return'\n      <div class="box-shadow-editor" >\n        <div class=\'label '.concat(t,"' >\n            <label>").concat(this.props.title||"",'</label>\n            <div class=\'tools\'>\n              <button type="button" ref="$add" title="add Box Shadow">').concat(vm.add,"</button> ").concat(this.props.title?"":"Add","\n            </div>\n        </div>\n        <div class='box-shadow-list' ref='$shadowList'></div>\n      </div>\n    ")}},{key:Ur("$shadowList"),value:function(){var t=this.state.boxShadows.map((function(t,e){return'\n        <div class="shadow-item real" data-index="'.concat(e,'">\n          <div class="color">\n            <div class=\'color-view\' style="background-color: ').concat(t.color,'">\n            </div>\n          </div>\n          <div class="inset" data-value="').concat(t.inset,'">').concat(vm.check,'</div>\n          <div class="offset-x">').concat(t.offsetX,'</div>\n          <div class="offset-y">').concat(t.offsetY,'</div>\n          <div class="blur-radius">').concat(t.blurRadius,'</div>\n          <div class="spread-radius">').concat(t.spreadRadius,'</div>\n          <div class="tools">\n            <button type="button" class="remove" data-index="').concat(e,'">\n              ').concat(vm.remove2,"\n            </button>\n          </div>\n        </div>\n      ")}));return t.length&&t.push('\n      <div class="shadow-item desc">\n        <div class="color"></div>      \n        <div class="inset" >Inset</div>\n\n        <div class="offset-x">X</div>\n        <div class="offset-y">Y</div>\n        <div class="blur-radius">'.concat(this.$i18n("boxshadow.editor.blur"),'</div>\n        <div class="spread-radius">').concat(this.$i18n("boxshadow.editor.spread"),'</div>\n        <div class="tools">\n        </div>\n      </div>\n      ')),t.join("")}},{key:gi("refreshSelection"),value:function(){this.refresh()}},{key:"modifyBoxShadow",value:function(){var t=this.state.boxShadows.join(", ");this.parent.trigger(this.props.onchange,t)}},{key:gi("add"),value:function(){this.state.boxShadows.push(new Um({offsetX:R.px(2),offsetY:R.px(2),blurRadius:R.px(3),spreadRadius:R.px(1)})),this.refresh(),this.modifyBoxShadow()}},{key:lr("$add"),value:function(){this.trigger("add")}},{key:lr("$shadowList .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.boxShadows.splice(e,1),this.refresh(),this.modifyBoxShadow(),this.emit("hideBoxShadowPropertyPopup")}},{key:lr("$shadowList .shadow-item.real > div:not(.tools)"),value:function(t){var e=+t.$dt.closest("shadow-item").attr("data-index"),n=this.state.boxShadows[e];this.viewShadowPopup(n,e)}},{key:"viewShadowPopup",value:function(t,e){this.selectedIndex=e,this.viewBoxShadowPropertyPopup(t)}},{key:"viewBoxShadowPropertyPopup",value:function(t){this.emit("showBoxShadowPropertyPopup",{changeEvent:"changeBoxShadowEditorPopup",color:t.color,inset:t.inset,offsetX:t.offsetX,offsetY:t.offsetY,blurRadius:t.blurRadius,spreadRadius:t.spreadRadius},{id:this.id})}},{key:gi("changeBoxShadowEditorColor"),value:function(t){this.trigger("changeBoxShadowEditorPopup",{color:t})}},{key:gi("changeBoxShadowEditorPopup"),value:function(t,e){if(e.id===this.id){var n=this.state.boxShadows[this.selectedIndex];n&&(n.reset(t),this.refresh(),this.modifyBoxShadow())}}}])&&NV(e.prototype,n),r&&NV(e,r),i}(wi);function JV(t){return(JV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return tL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tL(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rL(t,e){return(rL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=aL(t);if(e){var o=aL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iL(this,n)}}function iL(t,e){return!e||"object"!==JV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function aL(t){return(aL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rL(t,e)}(i,t);var e,n,r,o=oL(i);function i(){return eL(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=this.props["key-value-char"]||":",e=this.props.split||",",n=(this.props.options||"").split(e).map((function(t){return t.trim()})),r=this.props.value,o=this.props.tabindex;return{keyValueChar:t,splitChar:e,label:this.props.label||"",options:n,value:r,tabIndex:o}}},{key:"template",value:function(){var t=this.state,e=t.label,n=t.tabIndex?'tabIndex="1"':"";return"\n            <div class='select-editor ".concat(e?"has-label":"","'>\n                ").concat(e?'<label title="'.concat(e,'">').concat(e,"</label>"):"","\n                <select ref='$options' ").concat(n,"></select>\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:"setValue",value:function(t){this.state.value=t+"",this.refs.$options.val(this.state.value),this.refresh()}},{key:"refresh",value:function(){this.load()}},{key:Jr("$options"),value:function(){return{"data-count":this.state.options.length.toString()}}},{key:Ur("$options"),value:function(){var t=this;return this.state.options.map((function(e){var n=e;if((o=e).includes(t.state.keyValueChar)){var r=QV(o.split(t.state.keyValueChar),2),o=r[0];n=r[1]}""===n?n=t.props["none-value"]?t.props["none-value"]:"":"-"===n&&(n="----------",o="");var i=o===t.state.value?"selected":"";return"<option ".concat(i,' value="').concat(o,'">').concat(n,"</option>")}))}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({options:t.split(this.state.splitChar).map((function(t){return t.trim()}))})}},{key:wr("$options"),value:function(){this.updateData({value:this.refs.$options.value})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&nL(e.prototype,n),r&&nL(e,r),i}(wi);function uL(t){return(uL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pL(t,e){return(pL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dL(t);if(e){var o=dL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hL(this,n)}}function hL(t,e){return!e||"object"!==uL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dL(t){return(dL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pL(t,e)}(i,t);var e,n,r,o=yL(i);function i(){return lL(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectEditor:cL}}},{key:"initState",value:function(){var t=this.props.units||"px,em,%",e=R.parse(this.props.value||R.z());return{removable:"true"===this.props.removable,calc:"true"===this.props.calc,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",units:t,value:e}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:"refresh",value:function(){this.load()}},{key:Ur("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.removable,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=a,s=(+c).toString(),l=this.state.units.split(",").map((function(t){var e=t;return"number"===e&&(e=""),"".concat(t,":").concat(e)})).join(",");return"\n        <div ".concat(Oe({ref:"$range",class:ke(sL({"range-editor":!0,"has-label":!!o,"is-removable":i},u,!0))}),">\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <input type='range' ref='$property' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" /> \n                <div class='area' ref='$rangeArea'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                    <SelectEditor ref='$unit' key='unit' value=\"").concat(this.state.selectedUnit||this.state.value.unit,'" options="').concat(l,"\" onchange='changeUnit' />\n                </div>\n            </div>\n            <button type='button' class='remove thin' ref='$remove' title='Remove'>").concat(vm.remove,"</button>\n        </div>\n    ")}},{key:"getValue",value:function(){return this.state.value.clone()}},{key:"setValue",value:function(t){this.setState({value:R.parse(t)})}},{key:kr("$propertyNumber"),value:function(t){this.refs.$rangeArea.addClass("focused")}},{key:Pr("$propertyNumber"),value:function(t){this.refs.$rangeArea.removeClass("focused")}},{key:lr("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"initValue",value:function(){""==this.state.value&&(this.state.value=new R(0,this.children.$unit.getValue()))}},{key:Or("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.getRef("$property").val(e),this.initValue(),this.updateData({value:new R(e,this.children.$unit.getValue())})}},{key:Er("$property")+Xr("moveRange")+Yr("moveRange"),value:function(){}},{key:"moveRange",value:function(){this.trigger("changeValue")}},{key:gi("changeValue")+Hr(100),value:function(){var t=+this.getRef("$property").value;this.refs.$propertyNumber.val(t),this.initValue(),this.updateData({value:new R(t,this.children.$unit.getValue())})}},{key:gi("changeUnit"),value:function(t,e){this.initValue(),this.updateData({value:this.state.value.toUnit(e)})}}])&&fL(e.prototype,n),r&&fL(e,r),i}(wi);function bL(t){return(bL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wL(t,e){return(wL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function OL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=SL(t);if(e){var o=SL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kL(this,n)}}function kL(t,e){return!e||"object"!==bL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SL(t){return(SL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jL=[{key:"border-top-left-radius",title:"topLeft"},{key:"border-top-right-radius",title:"topRight"},{key:"border-bottom-right-radius",title:"bottomRight"},{key:"border-bottom-left-radius",title:"bottomLeft"}],PL=jL.map((function(t){return t.key})),xL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wL(t,e)}(i,t);var e,n,r,o=OL(i);function i(){return mL(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL}}},{key:"initState",value:function(){return Am.parseStyle(this.props.value)}},{key:"template",value:function(){return"<div class='border-radius-editor' ref='$body'></div>"}},{key:gi("changeBorderRadius"),value:function(t,e){var n=this;"border-radius"===t&&PL.forEach((function(t){n.children["$".concat(t)].setValue(e.clone())})),this.setBorderRadius()}},{key:Ur("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["border-radius"];return'\n      <div class="property-item border-radius-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(vm.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(vm.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='border-radius' value=\"").concat(n,'" onchange=\'changeBorderRadius\' />\n        </div>\n      </div>\n      <div\n        class="property-item full border-radius-item"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(jL.map((function(e){var n=t.state[e.key],r=t.$i18n("border.radius.editor."+e.title);return"\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(r,"' key='").concat(e.key,"' value='").concat(n,"' onchange='changeBorderRadius' />\n              </div>  \n            ")})).join(""),"\n        </div>\n      </div>\n    ")}},{key:Or("$radiusSettingBox input"),value:function(t){this.setBorderRadius()}},{key:wr("$radiusSettingBox select"),value:function(t){this.setBorderRadius()}},{key:"setBorderRadius",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["border-radius"]=this.children.$all.getValue()):(this.state.isAll=!1,PL.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyBorderRadius()}},{key:"modifyBorderRadius",value:function(){var t=this,e="";e=this.state.isAll?this.state["border-radius"]+"":PL.map((function(e){return"".concat(t.state[e])})).join(" "),this.parent.trigger(this.props.onchange,e)}},{key:lr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setBorderRadius()}}])&&gL(e.prototype,n),r&&gL(e,r),i}(wi);function RL(t){return(RL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _L(t,e){return(_L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function CL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=DL(t);if(e){var o=DL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TL(this,n)}}function TL(t,e){return!e||"object"!==RL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DL(t){return(DL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var AL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_L(t,e)}(i,t);var e,n,r,o=CL(i);function i(){return $L(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{params:this.props.params,color:this.props.color||"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyColor()}},{key:"modifyColor",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.state.color,this.state.params)}},{key:"changeColor",value:function(t){this.setState({color:t})}},{key:"setValue",value:function(t){this.changeColor(t)}},{key:Jr("$miniView"),value:function(){return{style:{"background-color":this.state.color}}}},{key:"template",value:function(){return"\n            <div class='color-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:lr("$preview"),value:function(t){this.viewColorPicker()}},{key:"viewColorPicker",value:function(){this.emit("showColorPickerPopup",{target:this,changeEvent:"changeColorSingleEditor",color:this.state.color})}},{key:gi("changeColorSingleEditor"),value:function(t,e){this.refs.$miniView.cssText("background-color: ".concat(t)),this.updateData({color:t})}}])&&EL(e.prototype,n),r&&EL(e,r),i}(wi);function IL(t){return(IL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ML(t,e){return(ML=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=FL(t);if(e){var o=FL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return BL(this,n)}}function BL(t,e){return!e||"object"!==IL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FL(t){return(FL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var GL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ML(t,e)}(i,t);var e,n,r,o=zL(i);function i(){return VL(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{label:this.props.label,value:this.props.value||"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyColor()}},{key:"updateEndData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyEndColor()}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.changeColor(t)}},{key:"modifyColor",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"modifyEndColor",value:function(){this.parent.trigger(this.props.onchangeend,this.props.key,this.state.value,this.props.params)}},{key:"changeColor",value:function(t){this.setState({value:t})}},{key:"refresh",value:function(){this.refs.$miniView.cssText("background-color: ".concat(this.state.value)),this.refs.$colorCode.val(this.state.value)}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='color-view-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ").concat(this.state.value,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n                <div class='color-code'>\n                    <input type=\"text\" ref='$colorCode' value='").concat(this.state.value,'\' tabIndex="1" />\n                </div>\n            </div>\n        ')}},{key:Jr("$miniView"),value:function(){return{style:{"background-color":this.state.value}}}},{key:Jr("$colorCode"),value:function(){return{value:this.state.value}}},{key:kr("$colorCode"),value:function(t){this.refs.$colorCode.addClass("focused")}},{key:Pr("$colorCode"),value:function(t){this.refs.$colorCode.removeClass("focused")}},{key:lr("$preview"),value:function(t){this.viewColorPicker()}},{key:"viewColorPicker",value:function(){this.emit("showColorPickerPopup",{target:this,changeEvent:"changeColorViewEditor",changeEndEvent:"changeEndColorViewEditor",color:this.state.value})}},{key:lr("$remove"),value:function(t){this.updateData({value:""})}},{key:Or("$el .color-code input"),value:function(t){var e=t.$dt.value;this.refs.$miniView.cssText("background-color: ".concat(e)),this.updateData({value:e})}},{key:gi("changeColorViewEditor"),value:function(t){this.updateData({value:t})}},{key:gi("changeEndColorViewEditor"),value:function(t){this.updateEndData({value:t})}}])&&LL(e.prototype,n),r&&LL(e,r),i}(wi);function HL(t){return(HL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XL(t){return function(t){if(Array.isArray(t))return YL(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return YL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YL(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UL(t,e){return(UL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qL(t);if(e){var o=qL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ZL(this,n)}}function ZL(t,e){return!e||"object"!==HL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qL(t){return(qL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var JL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UL(t,e)}(i,t);var e,n,r,o=WL(i);function i(){return NL(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{key:this.props.key,currentBezier:gt(this.props.value||"linear"),currentBezierIndex:0,selectedColor:"#609de2",animatedColor:"#609de266",curveColor:"#609de2",baseLineColor:"rgba(117, 117, 117, 0.46)"}}},{key:"template",value:function(){return"\n            <div class='cubic-bezier-editor'>\n                <div class='predefined'>\n                    <div class='left' ref='$left'>".concat(vm.chevron_left,"</div>\n                    <div class='predefined-text' ref='$text'></div>\n                    <div class='right' ref='$right'>").concat(vm.chevron_right,"</div>\n                </div>\n                <div class='animation'>\n                    <canvas \n                        class='animation-canvas' \n                        ref='$animationCanvas' \n                        title='Click and Replay point animation' \n                        width='230px' \n                        height='20px'\n                    ></canvas>\n                </div>\n                <div class='item-list' ref='$itemList' data-selected-value=''>\n                    <div class='item' data-bezier='ease' title='ease'>\n                        <canvas class='item-canvas' ref='$item1Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                    <div class='item' data-bezier='ease-in' title='ease-in'>\n                        <canvas class='item-canvas' ref='$item2Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                    <div class='item' data-bezier='ease-out' title='ease-out'>\n                        <canvas class='item-canvas' ref='$item3Canvas' width=\"30px\" height=\"30px\"></canvas>\n                    </div>\n                </div>\n                <div class='bezier'>\n                    <canvas class='bezier-canvas' ref='$canvas' width='200px' height=\"200px\"></canvas>\n                    <div class='control' ref='$control'>\n                        <div class='pointer1' ref='$pointer1'></div>\n                        <div class='pointer2' ref='$pointer2'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyCubicBezier()}},{key:"modifyCubicBezier",value:function(){this.parent.trigger(this.props.onchange,this.state.key,wt(this.state.currentBezier))}},{key:lr("$left"),value:function(){var t=this.state,e=t.currentBezier,n=t.currentBezierIndex;0==n?n=mt.length-1:--n,e=mt[n],this.updateData({currentBezierIndex:n,currentBezier:e}),this.refresh()}},{key:lr("$right"),value:function(){var t=this.state,e=t.currentBezier,n=t.currentBezierIndex;n=++n%mt.length,e=mt[n],this.updateData({currentBezierIndex:n,currentBezier:e}),this.refresh()}},{key:lr("$text"),value:function(){var t=XL(mt[this.state.currentBezierIndex]);this.updateData({currentBezier:t}),this.refresh()}},{key:lr("$itemList .item"),value:function(t){var e=t.$dt.attr("data-bezier");this.refs.$itemList.attr("data-selected-value",e);var n=gt(e);this.updateData({currentBezier:n}),this.refresh()}},{key:"refresh",value:function(){this.refreshPointer(),this.refreshEasingText(),this.refreshBezierCanvas()}},{key:"refreshBezierCanvas",value:function(){this.drawBezierCanvas(this.refs.$canvas,this.state.currentBezier,!0)}},{key:"drawBezierCanvas",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=gt(e),t.update((function(){var o=r?30:0,i=r?30:0,a=t.width()-2*o,c=t.height()-2*i,u=t.context();u.lineWidth=1,u.strokeStyle=n.state.baseLineColor,u.beginPath(),u.moveTo(o,c+i),u.lineTo(a+o,i),u.stroke(),u.closePath(),u.strokeStyle=n.state.selectedColor,u.beginPath(),u.moveTo(o,c+i),u.lineTo(e[0]*a+o,(0==e[1]?c:(1-e[1])*c)+i),u.moveTo(a+o,i),u.lineTo(e[2]*a+o,(1==e[3]?0:(1-e[3])*c)+i),u.stroke(),u.closePath(),u.lineWidth=2,u.strokeStyle=n.state.curveColor;var s=e[0]*a,l=0==e[1]?c:(1-e[1])*c,f=e[2]*a,p=1==e[3]?0:(1-e[3])*c,y=a;u.beginPath(),u.moveTo(o,i+c),u.bezierCurveTo(o+s,i+l,o+f,i+p,o+y,i+0),u.stroke()})),r&&this.drawPoint()}},{key:"refreshEasingText",value:function(){this.refs.$text.html(this.state.currentBezier[4]||"ease")}},{key:"refreshPointer",value:function(){var t=gt(this.state.currentBezier),e=this.refs.$control.width(),n=this.refs.$control.height(),r=t[0]*e,o=(1-t[1])*n;this.refs.$pointer1.css({left:R.px(r),top:R.px(o)}),r=t[2]*e,o=(1-t[3])*n,this.refs.$pointer2.css({left:R.px(r),top:R.px(o)})}},{key:"drawPoint",value:function(){var t=this;this.timer&&clearTimeout(this.timer),this.animationTimer&&clearTimeout(this.animationTimer),this.timer=setTimeout((function(){t.animationPoint()}),100)}},{key:"start",value:function(t){var e=this,n=this.animationCanvasData.func(t),r=10+(this.animationCanvasData.width-20)*n.y,o=this.animationCanvasData.context;o.beginPath(),o.arc(r,10,5,0,2*Math.PI),o.fill(),o.stroke(),o.closePath(),t>=1||(this.animationTimer=setTimeout((function(){e.start(t+.05)}),50))}},{key:"animationPoint",value:function(){var t=gt(this.state.currentBezier),e=Tt(wt(t));this.refs.$animationCanvas.clear();var n=this.refs.$animationCanvas.width(),r=this.refs.$animationCanvas.height(),o=this.refs.$animationCanvas.context();o.fillStyle=this.state.animatedColor,o.strokeStyle=this.state.selectedColor,o.lineWidth=1,this.animationCanvasData={func:e,width:n,height:r,context:o},this.start(0)}},{key:"setPosition",value:function(t,e){var n=this.refs.$control.width(),r=this.refs.$control.height(),o=this.refs.$control.offset().left,i=this.refs.$control.offset().top,a=e,c=a.x;0>c?c=0:a.x>document.body.clientWidth&&(c=document.body.clientWidth),(c-=o)<0&&(c=0),n<c&&(c=n);var u=a.y;return 0>u?u=0:a.y>document.body.clientHeight&&(u=document.body.clientHeight),u-=i,t.css({left:c+"px",top:u+"px"}),{x:B(c,n),y:u==r?0:(r-u)/r}}},{key:Er("$pointer1")+Xr("movePointer1")+Yr("drawPoint"),value:function(t){this.clientX=t.clientX,this.clientY=t.clientY}},{key:"movePointer1",value:function(t,e){var n=this.setPosition(this.refs.$pointer1,{x:this.clientX+t,y:this.clientY+e});this.state.currentBezier[0]=n.x,this.state.currentBezier[1]=n.y,this.refreshBezierCanvas(),this.modifyCubicBezier()}},{key:Er("$pointer2")+Xr("movePointer2")+Yr("drawPoint"),value:function(t){this.clientX=t.clientX,this.clientY=t.clientY}},{key:"movePointer2",value:function(t,e){var n=this.setPosition(this.refs.$pointer2,{x:this.clientX+t,y:this.clientY+e});this.state.currentBezier[2]=n.x,this.state.currentBezier[3]=n.y,this.refreshBezierCanvas(),this.modifyCubicBezier()}},{key:gi("showCubicBezierEditor"),value:function(t){var e=gt(t||this.state.currentBezier);this.setState({currentBezier:e}),this.refresh(),this.drawBezierCanvas(this.refs.$item1Canvas,"ease"),this.drawBezierCanvas(this.refs.$item2Canvas,"ease-in"),this.drawBezierCanvas(this.refs.$item3Canvas,"ease-out")}}])&&KL(e.prototype,n),r&&KL(e,r),i}(wi);function QL(t){return(QL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function eM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tM(Object(n),!0).forEach((function(e){nM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rM(t){return function(t){if(Array.isArray(t))return oM(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return oM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oM(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cM(t,e){return(cM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lM(t);if(e){var o=lM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sM(this,n)}}function sM(t,e){return!e||"object"!==QL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lM(t){return(lM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fM={blur:Ng.spec,grayscale:Ug.spec,"hue-rotate":Wg.spec,invert:Zg.spec,brightness:qg.spec,contrast:Jg.spec,"drop-shadow":nw.spec,opacity:Qg.spec,saturate:tw.spec,sepia:ew.spec,svg:Kg.spec},pM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cM(t,e)}(i,t);var e,n,r,o=uM(i);function i(){return iM(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectEditor:cL,RangeEditor:vL,ColorViewEditor:GL}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],filters:Yg.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return"\n      <div class='filter-editor filter-list'>\n          <div class='label ".concat(t,"' >\n              <label>").concat(this.props.title||"",'</label>\n              <div class=\'tools\'>\n                <select ref="$filterSelect"></select>\n                <button type="button" ref="$add" title="add Filter">').concat(vm.add,"</button>\n              </div>\n          </div>\n          <div class='filter-list' ref='$filterList'></div>\n      </div>")}},{key:Ur("$filterSelect"),value:function(){var t=wC.map((function(t){return{title:t,value:t}})),e=this.getSVGFilterList();return(e.length?[].concat(rM(t),[{title:"-------",value:""}],rM(e)):rM(t)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSpec",value:function(t){return fM[t]}},{key:"makeDropShadowFilterTemplate",value:function(t,e,n){var r=this;return'\n      <div class="filter-item">\n        <div class="title drop-shadow" draggable="true" data-index="'.concat(n,'">\n          <label>').concat(this.$i18n("filter.property.drop-shadow"),'</label>\n          <div class="filter-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(vm.remove2,'\n            </button>\n          </div>\n        </div>\n\n        <div class="filter-ui drop-shadow-color">\n          <ColorViewEditor \n            label="').concat(this.$i18n("filter.property.drop-shadow.color"),"\" \n            ref='$dropShadowColorView").concat(n,"' \n            params=\"").concat(n,'" \n            value="').concat(e.color,'" \n            onChange="changeDropShadowColor" />\n        </div>\n\n        ').concat(["offsetX","offsetY","blurRadius"].map((function(o){return'        \n            <div class="filter-ui drop-shadow">\n                <RangeEditor \n                  ref=\'$'.concat(o).concat(n,"' \n                  label=\"").concat(r.$i18n("filter.property.drop-shadow.".concat(o)),'"\n                  key="').concat(n,'" \n                  min="').concat(t[o].min,'"\n                  min="').concat(t[o].max,'"\n                  params="').concat(o,'" \n                  value="').concat(e[o].value,'" units="').concat(t[o].units.join(","),'" onchange="changeRangeEditor" />\n            </div>')})).join(""),"\n      </div>\n    ")}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){return{title:"svg - #".concat(t.id),value:t.id}}))),e}},{key:"makeOneFilterEditor",value:function(t,e,n){if("svg"===e.type){var r="",o=this.$selection.currentProject;return o&&(r=(r=o.svgfilters.map((function(t){return t.id}))).length?","+r.join(","):""),"\n      <SelectEditor \n        ref='$select".concat(t,"' \n        key=\"").concat(t,'" \n        label="SVG Filter"\n        value="').concat(e.value,'" \n        options="').concat(r,'"\n        onchange="changeRangeEditor"  />')}return"\n      <RangeEditor \n        ref='$range".concat(t,"_").concat(e.type,"' \n        key=\"").concat(t,"\" \n        min='").concat(n.min,"'\n        max='").concat(n.max,"'\n        value=\"").concat(e.value,'" \n        units="').concat(n.units.join(","),'"   \n        onchange="changeRangeEditor" />\n      ')}},{key:"makeOneFilterTemplate",value:function(t,e,n){var r="svg"===e.type,o="".concat(this.$i18n("filter.property."+e.type));return'\n      <div class="filter-item" data-index="'.concat(n,'">\n        <div class="title" >\n          <label draggable="true" data-index="').concat(n,'" title="').concat(r?"":o,'">').concat(o,"</label>\n          ").concat("svg"!=e.type?'\n          <div class="filter-ui">\n            '.concat(this.makeOneFilterEditor(n,e,t),"\n          </div>\n        "):"\n          <div>\n            <span class='svg-filter-edit' data-index=\"".concat(n,'">').concat(e.value,"</span>\n          </div>\n        "),'          \n          <div class="filter-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(vm.remove2,"\n            </button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"makeFilterTemplate",value:function(t,e){return"drop-shadow"===t.type?this.makeDropShadowFilterTemplate(this.getSpec(t.type),t,e):this.makeOneFilterTemplate(this.getSpec(t.type),t,e)}},{key:Ur("$filterList"),value:function(){var t=this;return this.state.filters.map((function(e,n){return t.makeFilterTemplate(e,n.toString())}))}},{key:dr("$filterList .filter-item .title label"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:br("$filterList .filter-item .title label")+Nr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(rM(t.splice(e,1))))}},{key:"sortFilter",value:function(t,e){this.sortItem(this.state.filters,t,e)}},{key:vr("$filterList .filter-item")+Nr,value:function(t){var e=+t.$dt.attr("data-index");this.$selection.current&&(this.sortFilter(this.startIndex,e),this.refresh(),this.modifyFilter())}},{key:"modifyFilter",value:function(){var t=this.state.filters.join(" ");this.parent.trigger(this.props.onchange,t)}},{key:"makeFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Yg.parse(eM(eM({},e),{},{type:t}))}},{key:lr("$filterList .svg-filter-edit"),value:function(t){var e=+t.$dt.attr("data-index"),n=this.state.filters[e],r=this.$selection.currentProject;if(r){var o=r.getSVGFilterIndex(n.value);this.trigger("openSVGFilterPopup",o)}}},{key:gi("openSVGFilterPopup"),value:function(t){var e=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[t];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterRealUpdate",index:t,preview:!1,filters:e.filters})}},{key:gi("changeSVGFilterRealUpdate"),value:function(t){var e=this.$selection.currentProject;e&&(e.setSVGFilterValue(t.index,{filters:t.filters}),this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea"))}},{key:gi("add"),value:function(t){var e=this;"svg"===t?this.emit("addSVGFilterAssetItem",(function(n,r){e.state.filters.push(e.makeFilter(t,{value:r})),e.refresh(),e.modifyFilter(),e.trigger("openSVGFilterPopup",n)})):(this.state.filters.push(this.makeFilter(t)),this.refresh(),this.modifyFilter())}},{key:lr("$add"),value:function(){var t=this.refs.$filterSelect.value;this.trigger("add",t)}},{key:lr("$filterList .filter-menu .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.filters.splice(e,1),this.refresh(),this.modifyFilter()}},{key:gi("changeDropShadowColor"),value:function(t,e,n){var r=+n;this.state.filters[r].reset({color:e}),this.modifyFilter()}},{key:gi("changeRangeEditor"),value:function(t,e,n){n?this.state.filters[+t].reset(nM({},n,e)):this.state.filters[+t].reset({value:e}),this.modifyFilter()}},{key:gi("refreshSVGArea")+Gr(1e3),value:function(){this.load("$filterSelect"),this.load("$filterList")}}])&&aM(e.prototype,n),r&&aM(e,r),i}(wi);function yM(t){return(yM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bM(t,e){return(bM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wM(t);if(e){var o=wM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gM(this,n)}}function gM(t,e){return!e||"object"!==yM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wM(t){return(wM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var OM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bM(t,e)}(i,t);var e,n,r,o=mM(i);function i(){return dM(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectEditor:cL}}},{key:"initState",value:function(){var t=this.props.units||"px,em,%",e=R.parse(this.props.value||R.z());return{removable:"true"===this.props.removable,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",units:t,value:e}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:Ur("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.removable,a=t.layout,c=+this.state.value.value.toString();isNaN(c)&&(c=0);var u=a,s=(+c).toString();return"\n        <div ".concat(Oe({ref:"$range",class:ke(hM({"input-range-editor":!0,"has-label":!!o,"is-removable":i},u,!0))}),">\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='number' ref='$propertyNumber' value=\"").concat(s,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                    \n                    <SelectEditor ref='$unit' key='unit' value=\"").concat(this.state.selectedUnit||this.state.value.unit,'" options="').concat(this.state.units,"\" onchange='changeUnit' />\n                    \n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>").concat(vm.remove,"</button>\n        </div>\n    ")}},{key:"getValue",value:function(){return this.state.value.clone()}},{key:"setValue",value:function(t){this.setState({value:R.parse(t)},!1),this.refs.$propertyNumber.val(this.state.value.value),this.refs.$unit.val(this.state.value.unit)}},{key:kr("$propertyNumber"),value:function(t){this.refs.$range.addClass("focused")}},{key:Pr("$propertyNumber"),value:function(t){this.refs.$range.removeClass("focused")}},{key:lr("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:"initValue",value:function(){""==this.state.value&&(this.state.value=new R(0,this.children.$unit.getValue()))}},{key:Or("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.initValue(),this.updateData({value:new R(e,this.children.$unit.getValue())})}},{key:gi("changeUnit"),value:function(t,e){this.initValue(),this.updateData({value:this.state.value.toUnit(e)})}},{key:gi("changeVarType"),value:function(t,e){this.updateData({value:new R(this.refs.$calc.value,e)})}}])&&vM(e.prototype,n),r&&vM(e,r),i}(wi);function kM(t){return(kM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||PM(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jM(t){return function(t){if(Array.isArray(t))return xM(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||PM(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PM(t,e){if(t){if("string"==typeof t)return xM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xM(t,e):void 0}}function xM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EM(t,e){return(EM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=TM(t);if(e){var o=TM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CM(this,n)}}function CM(t,e){return!e||"object"!==kM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TM(t){return(TM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var DM=["circle","circle closest-side","circle closest-corner","circle farthest-side","circle farthest-corner","ellipse","ellipse closest-side","ellipse closest-corner","ellipse farthest-side","ellipse farthest-corner"],AM=["static-gradient","linear-gradient","repeating-linear-gradient","radial-gradient","repeating-radial-gradient","conic-gradient","repeating-conic-gradient","image-resource"],IM={"image-resource":vm.photo},VM={"radial-gradient":!0,"repeating-radial-gradient":!0,"conic-gradient":!0,"repeating-conic-gradient":!0},LM={top:["50%","0%"],"top left":["0%","0%"],"top right":["100%","0%"],left:["0%","50%"],right:["100%","50%"],bottom:["50%","100%"],"bottom left":["0%","100%"],"bottom right":["100%","100%"]},MM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EM(t,e)}(i,t);var e,n,r,o=_M(i);function i(){return RM(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{InputRangeEditor:OM,RangeEditor:vL,SelectEditor:cL}}},{key:"initState",value:function(){return{index:+(this.props.index||0),value:this.props.value,image:Of.parseImage(this.props.value||"")||{type:"",colorsteps:[]}}}},{key:"setValue",value:function(t){this.setState({image:Of.parseImage(t)},!1),this.refresh(),this.parent.trigger("changeTabType",this.state.image.type)}},{key:"template",value:function(){var t=this.state.image,e=(t=t||{}).type||"static-gradient";return"url"===e&&(e="image-resource"),"\n        <div class='gradient-editor' data-selected-editor='".concat(e,"'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView' title='").concat(this.$i18n("gradient.editor.drag.message"),"'></div>\n              <div class='drag-pointer' ref='$dragPosition'></div>\n              <div class='preset-position'>\n                <div data-value='top' title='top'>").concat(vm.chevron_right,"</div>\n                <div data-value='right' title='right'>").concat(vm.chevron_right,"</div>\n                <div data-value='left' title='left'>").concat(vm.chevron_right,"</div>\n                <div data-value='bottom' title='bottom'>").concat(vm.chevron_right,"</div>\n                <div data-value='top left' title='top left'>").concat(vm.chevron_right,"</div>\n                <div data-value='top right' title='top right'>").concat(vm.chevron_right,"</div>\n                <div data-value='bottom left' title='bottom left'>").concat(vm.chevron_right,"</div>\n                <div data-value='bottom right' title='bottom right'>").concat(vm.chevron_right,'</div>                \n              </div>\n              <div data-editor=\'image-loader\'>\n                <input type=\'file\' accept="image/*" ref=\'$file\' />\n              </div>              \n            </div>\n            <div class="picker-tab">\n              <div class="picker-tab-list" ref="$tab">\n                ').concat(AM.map((function(t){return"<span class='picker-tab-item ".concat(t,"' data-editor='").concat(t,"'><span class='icon'>").concat(IM[t]||"","</span></span>")})).join(""),"\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <label>Offset <input type='checkbox' ref='$cut' checked />  connected</label>\n              <InputRangeEditor ref='$range' calc=\"false\" key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n              <div data-editor='angle'>\n                <RangeEditor label='Angle' ref='$angle' calc=\"false\" units=\"deg\" min=\"-720\" max=\"720\" key='angle' onchange='changeKeyValue' />\n              </div>\n              <div data-editor='centerX'>\n                <RangeEditor label='Center X' ref='$radialPositionX' calc=\"false\" value=\"50%\"  key='radialPositionX' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='centerY'>                      \n                <RangeEditor label='Center Y' ref='$radialPositionY' calc=\"false\" value=\"50%\" key='radialPositionY' onchange='changeKeyValue' />\n              </div>                \n              <div data-editor='radialType'>              \n                <SelectEditor label='Radial Type' ref='$radialType' value=\"\" options=\"").concat(DM.join(","),"\" key='radialType' onchange='changeKeyValue' />\n              </div>\n\n            </div>            \n        </div>\n      ")}},{key:wr("$file"),value:function(t){var e=this;this.$selection.currentProject&&jM(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t,(function(t){e.trigger("setImageUrl",t)}))}))}},{key:lr("$el .preset-position [data-value]"),value:function(t){var e=t.$dt.attr("data-value");LM[e]&&(this.state.image.radialPosition=pe(LM[e]),this.refresh(),this.updateData())}},{key:fr("$gradientView")+Nr,value:function(t){this.state.image.radialPosition=["50%","50%"],this.refresh(),this.updateData()}},{key:Er("$gradientView")+Xr("moveDragPosition"),value:function(t){var e=this.refs.$dragPosition.parent();this.containerRect=e.rect(),this.startXY=t.xy}},{key:"moveDragPosition",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.containerRect.x>n?n=this.containerRect.x:this.containerRect.x+this.containerRect.width<n&&(n=this.containerRect.x+this.containerRect.width),this.containerRect.y>r?r=this.containerRect.y:this.containerRect.y+this.containerRect.height<r&&(r=this.containerRect.y+this.containerRect.height);var o=R.percent((n-this.containerRect.x)/this.containerRect.width*100),i=R.percent((r-this.containerRect.y)/this.containerRect.height*100);this.state.image.radialPosition=[o,i],this.bindData("$dragPosition"),this.bindData("$gradientView"),this.children.$radialPositionX.setValue(o),this.children.$radialPositionY.setValue(i),this.updateData()}},{key:lr("$tab .picker-tab-item"),value:function(t){var e=t.$dt.attr("data-editor");this.$el.attr("data-selected-editor",e),this.parent.trigger("changeTabType",e);var n="image-resource"===e?this.state.image.url:this.state.url;this.state.image=Of.changeImageType({type:e,url:n,colorsteps:this.state.image.colorsteps||[],angle:R.parse(this.children.$angle.getValue()).value,radialType:this.children.$radialType.getValue(),radialPosition:[this.children.$radialPositionX.getValue(),this.children.$radialPositionY.getValue()]}),this.refresh(),this.updateData(),this.sendMessage()}},{key:"sendMessage",value:function(t){"linear-gradient"===(t=this.$el.attr("data-selected-editor"))||"repeating-linear-gradient"===t?this.emit("addStatusBarMessage",""):this.emit("addStatusBarMessage","Drag if you want to move center position")}},{key:gi("changeKeyValue"),value:function(t,e){"angle"===t&&(e=e.value),this.state.image[t]=e,"radialPositionX"!==t&&"radialPositionY"!==t||(this.state.image.radialPosition=[this.state.image.radialPositionX||"50%",this.state.image.radialPositionY||"50%"]),this.bindData("$gradientView"),this.updateData()}},{key:gi("changeColorStepOffset"),value:function(t,e){this.currentStep&&(this.currentStep.percent=e.value,this.state.image.sortColorStep(),this.refresh(),this.updateData())}},{key:lr("$back"),value:function(t){var e=this.refs.$stepList.rect(),n=e.x,r=e.right,o=t.xy.x;o<n?o=n:o>r&&(o=r);var i=(o-n)/e.width*100;this.state.image.insertColorStep(i),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:Jr("$el"),value:function(){var t=this.state.image.type;return"url"===t&&(t="image-resource"),this.parent.trigger("changeTabType",t),{"data-selected-editor":t}}},{key:Jr("$stepList"),value:function(){return{"data-selected-index":this.state.index.toString(),style:{"background-image":this.getLinearGradient()}}}},{key:Jr("$gradientView"),value:function(){var t=this.state.image.type,e="auto";return"url"!==t&&"image-resource"!==t||(e="cover"),{style:{"background-image":this.state.image.toString(),"background-size":e,"background-repeat":"no-repeat"}}}},{key:Jr("$dragPosition"),value:function(){var t="50%",e="50%";if(VM[this.state.image.type]){var n=SM(this.state.image.radialPosition,2);t=n[0],e=n[1]}return{style:{left:t,top:e}}}},{key:Ur("$stepList"),value:function(){var t=this;return(this.state.image.colorsteps||[]).map((function(e,n){var r=t.$selection.isSelectedColorStep(e.id)?"selected":"";return"\n      <div class='step ".concat(r,"' data-id='").concat(e.id,"' data-cut='").concat(e.cut,"' style='left: ").concat(e.percent,"%;'>\n        <div class='color-view' style=\"background-color: ").concat(e.color,"\"></div>\n        <div class='arrow' style=\"background-color: ").concat(e.color,'"></div>\n      </div>')}))}},{key:lr("$cut"),value:function(){this.currentStep&&(this.currentStep.cut=this.refs.$cut.checked(),this.refresh(),this.updateData())}},{key:"removeStep",value:function(t){this.state.image.removeColorStep(t),this.refresh(),this.updateData()}},{key:"selectStep",value:function(t){var e=this;this.state.id=t,this.$selection.selectColorStep(t),this.state.image.colorsteps&&(this.currentStep=this.state.image.colorsteps.find((function(t){return e.$selection.isSelectedColorStep(t.id)})),this.refs.$cut.checked(this.currentStep.cut),this.children.$range.setValue(R.percent(this.currentStep.percent)),this.parent.trigger("selectColorStep",this.currentStep.color)),this.refresh()}},{key:Er("$stepList .step")+Xr(),value:function(t){var e=t.$dt.attr("data-id");if(t.altKey)return this.removeStep(e),!1;this.selectStep(e),this.startXY=t.xy,this.cachedStepListRect=this.refs.$stepList.rect()}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"move",value:function(t,e){var n=this.getStepListRect(),r=n.x,o=n.right,i=this.startXY.x+t;i<r?i=r:i>o&&(i=o);var a=(i-r)/n.width*100;this.currentStep.percent=a,this.children.$range.setValue(R.percent(a)),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:"refresh",value:function(){this.load()}},{key:"getLinearGradient",value:function(){var t=this.state.image;return"linear-gradient(to right, ".concat(is.toColorString(t.colorsteps),")")}},{key:gi("setColorStepColor"),value:function(t){"static-gradient"===this.state.image.type?(this.state.image.colorsteps[0].color=t,this.refresh(),this.updateData()):this.currentStep&&(this.currentStep.color=t,this.refresh(),this.updateData())}},{key:gi("setImageUrl"),value:function(t){this.state.image&&(this.state.url=t,this.state.image.reset({url:t}),this.refresh(),this.updateData())}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state.image.toString())}}])&&$M(e.prototype,n),r&&$M(e,r),i}(wi);function zM(t){return(zM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function FM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?BM(Object(n),!0).forEach((function(e){GM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function GM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YM(t,e,n){return(YM="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=WM(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function NM(t,e){return(NM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function KM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=WM(t);if(e){var o=WM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UM(this,n)}}function UM(t,e){return!e||"object"!==zM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WM(t){return(WM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ZM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NM(t,e)}(i,t);var e,n,r,o=KM(i);function i(){return HM(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=this.props.value;t="infinite"===t?new R(0,"infinite"):R.number(t.split("normal")[0]);var e=this.props.units||"px,em,%";return FM(FM({},YM(WM(i.prototype),"initState",this).call(this)),{key:this.props.key,params:this.props.params||"",units:e,value:t})}}])&&XM(e.prototype,n),r&&XM(e,r),i}(vL);function qM(t){return(qM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return QM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QM(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ez(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nz(t,e){return(nz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=iz(t);if(e){var o=iz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oz(this,n)}}function oz(t,e){return!e||"object"!==qM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iz(t){return(iz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var az=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nz(t,e)}(i,t);var e,n,r,o=rz(i);function i(){return tz(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=this.props.value.split(";").filter((function(t){return t.trim()})).map((function(t){var e=JM(t.split(":"),2),n=e[0],r=e[1];return{key:n=n.replace("--",""),value:r}}));return{hideLabel:"true"==this.props["hide-label"],params:this.props.params||"",values:t}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return"\n        <div class='var-editor var-list'>\n            <div class='label ".concat(t,"' >\n                <label>").concat(this.props.title||"",'</label>\n                <div class=\'tools\'>\n                    <button type="button" ref="$add" title="add Var">').concat(vm.add,"</button>\n                </div>\n            </div>\n            <div class='var-list' ref='$varList'></div>\n        </div>")}},{key:gi("add"),value:function(){this.state.values.push({key:"",value:""}),this.refresh(),this.updateData()}},{key:lr("$add"),value:function(){this.trigger("add")}},{key:Ur("$varList"),value:function(){return this.state.values.map((function(t,e){return'\n                <div class=\'var-item\' >\n                    <div>\n                        <input type="text" data-type="key" value="'.concat(t.key,'" data-index="').concat(e,'"  placeholder="variable" />\n                    </div>\n                    <div>\n                        <input type="text" data-type="value" value="').concat(t.value,'" data-index="').concat(e,'"  placeholder="value" />\n                    </div>\n                    <div class="tools">\n                        <button type="button" class="del" data-index="').concat(e,'">\n                        ').concat(vm.remove2,"\n                        </button>\n                    </div>\n                </div>\n            ")}))}},{key:lr("$varList .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.values.splice(e,1),this.refresh(),this.updateData()}},{key:Or("$varList input"),value:function(t){var e=+t.$dt.attr("data-index"),n=t.$dt.attr("data-type");this.state.values[e][n]=t.$dt.value,this.updateData()}},{key:"updateData",value:function(t){var e=this.state.values.map((function(t){return"".concat(t.key,":").concat(t.value)})).join(";");this.parent.trigger(this.props.onchange,e,this.props.params)}}])&&ez(e.prototype,n),r&&ez(e,r),i}(wi);function cz(t){return(cz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sz(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uz(Object(n),!0).forEach((function(e){lz(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fz(t){return function(t){if(Array.isArray(t))return pz(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pz(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dz(t,e){return(dz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mz(t);if(e){var o=mz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bz(this,n)}}function bz(t,e){return!e||"object"!==cz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mz(t){return(mz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gz=["perspective","rotate","rotateX","rotateY","rotateZ","rotate3d","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","scale","scaleX","scaleY","scaleZ","scale3d","matrix","matrix3d"],wz={scale:["X","Y"],translate:["X","Y"],translate3d:["tx","ty","tz"],matrix:["a","b","c","d","tx","ty"],matrix3d:["a1","b1","c1","d1","a2","b2","c2","d2","a3","b3","c3","d3","a4","b4","c4","d4"]},Oz=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dz(t,e)}(i,t);var e,n,r,o=vz(i);function i(){return yz(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{NumberInputEditor:SV,RangeEditor:vL}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],transforms:fa.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this,e=this.state.hideLabel?"hide":"";return"\n      <div class='transform-editor transform-list'>\n          <div class='label ".concat(e,"' >\n              <label>Transform</label>\n              <div class='tools'>\n                <select ref=\"$transformSelect\">\n                  ").concat(gz.map((function(e){var n=t.$i18n("css.item."+e);return"<option value='".concat(e,"'>").concat(n,"</option>")})).join(""),'\n                </select>\n                <button type="button" ref="$add" title="add Transform">').concat(vm.add,"</button>\n              </div>\n          </div>\n          <div class='transform-list' ref='$transformList'></div>\n      </div>")}},{key:"getLabel",value:function(t,e){switch(t){case"scale":case"translate":case"translate3d":case"matrix":case"matrix3d":return wz[t][e]}return""}},{key:"isMultiValue",value:function(t){switch(t){case"translate3d":case"matrix":case"matrix3d":return!0}return!1}},{key:"getRange",value:function(t){switch(t){case"translateX":case"translateY":case"translateZ":case"translate":case"translate3d":return{min:-1e3,max:1e3,step:1,units:"px,%,em"};case"matrix":case"matrix3d":return{min:-100,max:100,step:.01,units:"number"};case"rotateX":case"rotateY":case"rotateZ":case"rotate":case"skewY":case"skewX":return{min:-360,max:360,step:.1,units:"deg,turn,rad"};case"perspective":return{min:0,max:1e4,step:1,units:"px,%,em"};case"scale":case"scaleX":case"scaleY":return{min:0,max:10,step:.1,units:"number"}}return{min:0,max:100,step:1,units:"px,%,em"}}},{key:"makeOneTransformTemplate",value:function(t,e,n){var r=this;return'\n      <div class="transform-item" data-index="'.concat(n,'">\n        <div class="title" data-index="').concat(n,'">\n          <label draggable="true" >').concat(this.$i18n("css.item."+t),'</label>\n          <div class="transform-ui">\n\n          </div>\n          <div class="transform-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(vm.remove2,'\n            </button>\n          </div>\n        </div>\n        <div class="transform-ui ').concat(t,'">\n          ').concat(e.value.map((function(e,o){var i=r.getLabel(t,o),a=r.getRange(t),c=a.min,u=a.max,s=a.step,l=a.units;return"\n              <div>\n                <RangeEditor \n                      ref='$range_".concat(t,"_").concat(n,"_").concat(o,"' \n                      min=\"").concat(c,'" \n                      max="').concat(u,'" \n                      step="').concat(s,'" \n                      label="').concat(i,'"\n                      key="').concat(n,"\" \n                      params='").concat(o,"' \n                      value=\"").concat(e,'" \n                      units="').concat(l,'" \n                      onchange="changeRangeEditor" />\n              </div>')})).join(""),"      \n        </div>\n      </div>\n    ")}},{key:"makeMultiTransformTemplate",value:function(t,e,n){var r=this;return'\n      <div class="transform-item" data-index="'.concat(n,'">\n        <div class="title" data-index="').concat(n,'">\n          <label draggable="true" >').concat(this.$i18n("css.item."+t),'</label>\n          <div></div>\n          <div class="transform-menu">\n            <button type="button" class="del" data-index="').concat(n,'">\n              ').concat(vm.remove2,'\n            </button>\n          </div>\n        </div>\n        <div class="transform-ui ').concat(t,'">\n\n          ').concat("translate3d"===t?"\n            <pre>\n  1 | 0 | 0 | tx\n  0 | 1 | 0 | ty\t\n  0 | 0 | 1 | tz\t\n  0 | 0 | 0 | 1</pre>\n          ":"","\n\n          ").concat("matrix"===t?"\n            <pre>\n  a | c | tx\t\n  b | d | ty\t\n  0 | 0 | 1</pre>\n          ":"","    \n          \n          ").concat("matrix3d"===t?"\n            <pre>\n  a1 | a2 | a3 | a4\t\n  b1 | b2 | b3 | b4\t\n  c1 | c2 | c3 | c4\t\n  d1 | d2 | d3 | d4</pre>\n          ":"","     \n          \n          <div class='").concat(t,"'>\n          ").concat(e.value.map((function(e,o){var i=r.getLabel(t,o),a=r.getRange(t),c=a.min,u=a.max,s=a.step,l=a.units;return"\n              <div>\n                <NumberInputEditor \n                      ref='$range_".concat(t,"_").concat(n,"_").concat(o,"' \n                      min=\"").concat(c,'" \n                      max="').concat(u,'" \n                      step="').concat(s,'" \n                      label="').concat(i,'"\n                      key="').concat(n,"\" \n                      params='").concat(o,"' \n                      value=\"").concat(e,'" \n                      units="').concat(l,'" \n                      onchange="changeRangeEditor" />\n              </div>')})).join(""),"   \n          </div>       \n        </div>\n      </div>\n    ")}},{key:"makeTransformTemplate",value:function(t,e){return this.isMultiValue(t.type)?this.makeMultiTransformTemplate(t.type,t,e):this.makeOneTransformTemplate(t.type,t,e)}},{key:Ur("$transformList"),value:function(){var t=this;return this.state.transforms.map((function(e,n){return t.makeTransformTemplate(e,n.toString())}))}},{key:dr("$transformList .transform-item .title label"),value:function(t){this.startIndex=+t.$dt.parent().attr("data-index")}},{key:br("$transformList .transform-item")+Nr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(fz(t.splice(e,1))))}},{key:"sortTransform",value:function(t,e){this.sortItem(this.state.transforms,t,e)}},{key:vr("$transformList .transform-item")+Nr,value:function(t){var e=+t.$dt.attr("data-index");this.$selection.current&&(this.sortTransform(this.startIndex,e),this.refresh(),this.modifyTransform())}},{key:"modifyTransform",value:function(){var t=this.state.transforms.join(" ");this.parent.trigger(this.props.onchange,t)}},{key:"getDefaultValue",value:function(t){switch(t){case"translateX":case"translateY":case"translateZ":return[R.z()];case"rotateX":case"rotateY":case"rotateZ":case"rotate":case"skewY":case"skewX":case"perspective":return[R.deg(0)];case"translate":return[R.z(),R.z()];case"translate3d":return[R.z(),R.z(),R.z()];case"scale":return[R.number(1),R.number(1)];case"scaleX":case"scaleY":return[R.number(1)];case"matrix":return[R.number(1),R.number(0),R.number(0),R.number(1),R.number(0),R.number(0)];case"matrix3d":return[R.number(1),R.number(0),R.number(0),R.number(0),R.number(0),R.number(1),R.number(0),R.number(0),R.number(0),R.number(0),R.number(1),R.number(0),R.number(0),R.number(0),R.number(0),R.number(1)]}return[R.number(0)]}},{key:"makeTransform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getDefaultValue(t);return fa.parse(sz(sz({},e),{},{type:t,value:n}))}},{key:gi("add"),value:function(t){this.state.transforms.push(this.makeTransform(t)),this.refresh(),this.modifyTransform()}},{key:lr("$add"),value:function(){var t=this.refs.$transformSelect.value;this.trigger("add",t)}},{key:lr("$transformList .transform-menu .del"),value:function(t){var e=+t.$dt.attr("data-index");this.state.transforms.splice(e,1),this.refresh(),this.modifyTransform()}},{key:gi("changeRangeEditor"),value:function(t,e,n){n?this.state.transforms[+t].value[+n]=e:this.state.transforms[+t].reset({value:e}),this.modifyTransform()}}])&&hz(e.prototype,n),r&&hz(e,r),i}(wi);function kz(t){return(kz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return jz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rz(t,e){return(Rz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_z(t);if(e){var o=_z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ez(this,n)}}function Ez(t,e){return!e||"object"!==kz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _z(t){return(_z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cz=[{key:"transform-origin-x",title:"X"},{key:"transform-origin-y",title:"Y"}],Tz=Cz.map((function(t){return t.key})),Dz={top:"50% 0%","top left":"0% 0%","top right":"100% 0%",left:"0% 50%",center:"50% 50%",right:"100% 50%",bottom:"50% 100%","bottom left":"0% 100%","bottom right":"100% 100%"},Az=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rz(t,e)}(i,t);var e,n,r,o=$z(i);function i(){return Pz(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL}}},{key:"initState",value:function(){var t=this.props.value.split(" "),e={isAll:!1,"transform-origin":R.percent(50),"transform-origin-x":R.percent(50),"transform-origin-y":R.percent(50)};return this.props.value&&(1===t.length?(e.isAll=!0,e["transform-origin"]=R.parse(t[0]),e["transform-origin-x"]=R.parse(t[0]),e["transform-origin-y"]=R.parse(t[0])):2==t.length&&(e.isAll=!1,e["transform-origin-x"]=R.parse(t[0]),e["transform-origin-y"]=R.parse(t[1]))),e}},{key:"template",value:function(){return"\n      <div class='transform-origin-editor'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    "}},{key:lr("$direction .pos"),value:function(t){var e=t.$dt.attr("data-value");this.state.isAll=!1;var n=Sz(Dz[e].split(" "),2),r=n[0],o=n[1];this.state["transform-origin-x"]=R.parse(r),this.state["transform-origin-y"]=R.parse(o),this.refresh(),this.modifyTransformOrigin()}},{key:gi("changeTransformOrigin"),value:function(t,e){var n=this;"transform-origin"===t&&Tz.forEach((function(t){n.children["$".concat(t)].setValue(e.toString())})),"transform-origin-z"===t&&(this.state[t]=e),this.setTransformOrigin()}},{key:Ur("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["transform-origin"];return'\n      <div class="transform-origin-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(vm.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(vm.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='transform-origin' value=\"").concat(n,'" onchange=\'changeTransformOrigin\' />\n        </div>\n      </div>\n      <div class="full transform-origin-item" ref="$partitialSetting" >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(Cz.map((function(e){return"\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(e.title,"' key='").concat(e.key,"' value=\"").concat(t.state[e.key],"\" onchange='changeTransformOrigin' />\n              </div>  \n            ")})).join(""),"\n\n          <div>\n            <RangeEditor ref='$transform-origin-z' label='Z' key='transform-origin-z' value=\"").concat(this.state["transform-origin-z"]||"","\" onchange='changeTransformOrigin' />\n          </div>  \n        </div>\n      </div>\n    ")}},{key:"setTransformOrigin",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["transform-origin"]=this.children.$all.getValue()):(this.state.isAll=!1,Tz.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyTransformOrigin()}},{key:"modifyTransformOrigin",value:function(){var t="";this.state.isAll?t="".concat(this.state["transform-origin"]):(t="".concat(this.state["transform-origin-x"]," ").concat(this.state["transform-origin-y"]),this.state["transform-origin-z"]&&(t="".concat(t," ").concat(this.state["transform-origin-z"]))),this.parent.trigger(this.props.onchange,t)}},{key:lr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setTransformOrigin()}}])&&xz(e.prototype,n),r&&xz(e,r),i}(wi);function Iz(t){return(Iz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vz(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Lz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lz(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bz(t,e){return(Bz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hz(t);if(e){var o=Hz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gz(this,n)}}function Gz(t,e){return!e||"object"!==Iz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hz(t){return(Hz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xz=[{key:"perspective-origin-x",title:"X"},{key:"perspective-origin-y",title:"Y"}],Yz=Xz.map((function(t){return t.key})),Nz={top:"50% 0%","top left":"0% 0%","top right":"100% 0%",left:"0% 50%",center:"50% 50%",right:"100% 50%",bottom:"50% 100%","bottom left":"0% 100%","bottom right":"100% 100%"},Kz=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bz(t,e)}(i,t);var e,n,r,o=Fz(i);function i(){return Mz(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL}}},{key:"initState",value:function(){var t=this.props.value.split(" "),e={isAll:!0,"perspective-origin":R.z(),"perspective-origin-x":R.z(),"perspective-origin-y":R.z()};return this.props.value&&(1===t.length?(e.isAll=!0,e["perspective-origin"]=R.parse(t[0]),e["perspective-origin-x"]=R.parse(t[0]),e["perspective-origin-y"]=R.parse(t[0])):2==t.length&&(e.isAll=!1,e["perspective-origin-x"]=R.parse(t[0]),e["perspective-origin-y"]=R.parse(t[1]))),e}},{key:"template",value:function(){return"\n      <div class='perspective-origin-editor' ref='$body'>\n        <div class='direction' ref='$direction'>\n          <div class='pos' data-value='top'></div>\n          <div class='pos' data-value='top left'></div>\n          <div class='pos' data-value='top right'></div>\n          <div class='pos' data-value='bottom'></div>\n          <div class='pos' data-value='bottom left'></div>\n          <div class='pos' data-value='bottom right'></div>\n          <div class='pos' data-value='left'></div>\n          <div class='pos' data-value='right'></div>\n          <div class='pos' data-value='center'></div>\n        </div>\n        <div ref='$body'></div>\n      </div>\n    "}},{key:lr("$direction .pos"),value:function(t){var e=t.$dt.attr("data-value");this.state.isAll=!1;var n=Vz(Nz[e].split(" "),2),r=n[0],o=n[1];this.state["perspective-origin-x"]=R.parse(r),this.state["perspective-origin-y"]=R.parse(o),this.refresh(),this.modifyPerspectiveOrigin()}},{key:gi("changePerspectiveOrigin"),value:function(t,e){var n=this;"perspective-origin"===t&&Yz.forEach((function(t){n.children["$".concat(t)].setValue(e.toString())})),this.setPerspectiveOrigin()}},{key:Ur("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state["perspective-origin"];return'\n      <div class="property-item perspective-origin-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(vm.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(vm.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='perspective-origin' value=\"").concat(n,'" onchange=\'changePerspectiveOrigin\' />\n        </div>\n      </div>\n      <div\n        class="property-item full perspective-origin-item"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="radius-setting-box" ref="$radiusSettingBox">\n          ').concat(Xz.map((function(e){var n=t.$i18n(e.title);return"\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(n,"' key='").concat(e.key,"' value=\"").concat(t.state[e.key],"\" onchange='changePerspectiveOrigin' />\n              </div>  \n            ")})).join(""),"\n        </div>\n      </div>\n    ")}},{key:"setPerspectiveOrigin",value:function(){var t=this;"all"===this.refs.$selector.attr("data-selected-value")?(this.state.isAll=!0,this.state["perspective-origin"]=this.children.$all.getValue()):(this.state.isAll=!1,Yz.forEach((function(e){t.state[e]=t.children["$".concat(e)].getValue()}))),this.modifyPerspectiveOrigin()}},{key:"modifyPerspectiveOrigin",value:function(){var t="";t=this.state.isAll?"".concat(this.state["perspective-origin"]):"".concat(this.state["perspective-origin-x"]," ").concat(this.state["perspective-origin-y"]),this.parent.trigger(this.props.onchange,t)}},{key:lr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setPerspectiveOrigin()}}])&&zz(e.prototype,n),r&&zz(e,r),i}(wi);function Uz(t){return(Uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qz(t,e){return(qz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tB(t);if(e){var o=tB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qz(this,n)}}function Qz(t,e){return!e||"object"!==Uz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tB(t){return(tB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qz(t,e)}(i,t);var e,n,r,o=Jz(i);function i(){return Wz(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=R.parse(this.props.value||R.number(0));return t=t.toUnit("number"),{removable:"true"===this.props.removable,clamp:"true"===this.props.clamp,label:this.props.label||"",min:+this.props.min||0,max:+this.props.max||100,step:+this.props.step||1,key:this.props.key,params:this.props.params||"",layout:this.props.layout||"",value:t}}},{key:"template",value:function(){return"<div class='small-editor' ref='$body'></div>"}},{key:Ur("$body"),value:function(){var t=this.state,e=t.min,n=t.max,r=t.step,o=t.label,i=t.type,a=t.removable,c=t.layout,u=+this.state.value.value.toString();isNaN(u)&&(u=0);var s=o?"has-label":"",l=a?"is-removable":"",f=c,p=(+u).toString();return"\n        <div class='number-range-editor ".concat(s," ").concat(l," ").concat(f,"' data-selected-type='").concat(i,"'>\n            ").concat(o?'<label title="'.concat(o,'">').concat(o,"</label>"):"","\n            <div class='range-editor-type' data-type='range'>\n                <div class='area'>\n                    <input type='range' ref='$property' value=\"").concat(p,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" />\n                    <input type='number' ref='$propertyNumber' value=\"").concat(p,'" min="').concat(e,'" max="').concat(n,'" step="').concat(r,"\" tabIndex=\"1\" />\n                </div>\n            </div>\n            <button type='button' class='remove' ref='$remove' title='Remove'>").concat(vm.remove,"</button>\n        </div>\n    ")}},{key:"setMin",value:function(t){this.setState({min:R.parse(t)})}},{key:"setMax",value:function(t){this.setState({max:R.parse(t)})}},{key:"getValue",value:function(){return this.state.clamp?this.state.value.clamp(this.state.min,this.state.max):this.state.value}},{key:"setValue",value:function(t){this.setState({value:R.parse(t)})}},{key:kr("$propertyNumber"),value:function(t){this.refs.$propertyNumber.addClass("focused")}},{key:Pr("$propertyNumber"),value:function(t){this.refs.$propertyNumber.removeClass("focused")}},{key:lr("$remove"),value:function(t){this.updateData({value:""})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:Or("$propertyNumber"),value:function(t){var e=+this.getRef("$propertyNumber").value;this.getRef("$property").val(e),this.updateData({value:this.state.value.set(e)})}},{key:Er("$property")+Xr("moveRange")+Yr("moveRange"),value:function(){}},{key:"moveRange",value:function(){this.trigger("changeValue")}},{key:gi("changeValue")+Hr(100),value:function(){var t=+this.getRef("$property").value;this.getRef("$propertyNumber").val(t),""===this.state.value&&(this.state.value=R.number(0)),this.updateData({value:this.state.value.set(t)})}}])&&Zz(e.prototype,n),r&&Zz(e,r),i}(wi);function nB(t){return(nB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iB(t,e){return(iB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=uB(t);if(e){var o=uB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cB(this,n)}}function cB(t,e){return!e||"object"!==nB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uB(t){return(uB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iB(t,e)}(i,t);var e,n,r,o=aB(i);function i(){return rB(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{clippath:this.props.value}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t),this.modifyClipPath()}},{key:"getValue",value:function(){return this.state.clippath}},{key:"setValue",value:function(t){this.setState({clippath:t})}},{key:"modifyClipPath",value:function(){this.parent.trigger(this.props.onchange,this.state.clippath,this.props.params)}},{key:"template",value:function(){return"\n            <div class='clip-path-editor'></div>\n        "}},{key:Ur(),value:function(){var t=this.state.clippath;return"\n        <div class='clippath-item'>\n            <div class='name'>".concat(t,"</div>\n        </div>\n        ")}},{key:lr(),value:function(t){this.viewClipPathPicker()}},{key:"viewClipPathPicker",value:function(){this.emit("showClipPathPopup",{changeEvent:"changeClipPathEditor","clip-path":this.state.clippath})}},{key:gi("changeClipPathEditor"),value:function(t){this.updateData({clippath:t["clip-path"]})}}])&&oB(e.prototype,n),r&&oB(e,r),i}(wi);function lB(t){return(lB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yB(t,e){return(yB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vB(t);if(e){var o=vB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dB(this,n)}}function dB(t,e){return!e||"object"!==lB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vB(t){return(vB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yB(t,e)}(i,t);var e,n,r,o=hB(i);function i(){return fB(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],selectedIndex:-1,textShadows:mg.parseStyle(this.props.value)}}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return'\n      <div class="text-shadow-editor" >\n        <div class=\'label '.concat(t,"' >\n            <label>").concat(this.props.title||"",'</label>        \n            <div class=\'tools\'>\n              <button type="button" ref="$add" title="add Text Shadow">').concat(vm.add,"</button>\n            </div>\n        </div>\n        <div class='text-shadow-list' ref='$shadowList'></div>\n      </div>\n    ")}},{key:Ur("$shadowList"),value:function(){var t=this.state.textShadows.map((function(t,e){return'\n        <div class="shadow-item real" data-index="'.concat(e,'">\n          <div class="color">\n            <div class=\'color-view\' style="background-color: ').concat(t.color,'">\n            </div>\n          </div>\n          <div class="offset-x">').concat(t.offsetX,'</div>\n          <div class="offset-y">').concat(t.offsetY,'</div>\n          <div class="blur-radius">').concat(t.blurRadius,'</div>\n          <div class="tools">\n            <button type="button" class="remove" data-index="').concat(e,'">\n              ').concat(vm.remove2,"\n            </button>\n          </div>\n        </div>\n      ")}));return t.length&&t.push('\n      <div class="shadow-item desc">\n            <div class="color"></div>\n            <div class="offset-x">X</div>\n            <div class="offset-y">Y</div>\n            <div class="blur-radius">Blur</div>\n            <div class="tools">\n            </div>\n          </div>\n      '),t.join("")}},{key:"modifyTextShadow",value:function(){var t=this.state.textShadows.join(", ");this.parent.trigger(this.props.onchange,t)}},{key:gi("add"),value:function(){this.state.textShadows.push(new mg),this.refresh(),this.modifyTextShadow()}},{key:lr("$add"),value:function(){this.trigger("add")}},{key:lr("$shadowList .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.textShadows.splice(e,1),this.refresh(),this.modifyTextShadow()}},{key:lr("$shadowList .shadow-item.real > div:not(.tools)"),value:function(t){var e=+t.$dt.closest("shadow-item").attr("data-index"),n=this.state.textShadows[e];this.viewShadowPopup(n,e)}},{key:"viewShadowPopup",value:function(t,e){this.setState({selectedIndex:e},!1),this.viewTextShadowPropertyPopup(t)}},{key:"viewTextShadowPropertyPopup",value:function(t){this.emit("showTextShadowPropertyPopup",{changeEvent:"changeTextShadowEditorPopup",color:t.color,offsetX:t.offsetX,offsetY:t.offsetY,blurRadius:t.blurRadius},{id:this.id})}},{key:gi("changeTextShadowEditorPopup"),value:function(t,e){e.id===this.id&&(this.state.textShadows[this.state.selectedIndex].reset(t),this.refresh(),this.modifyTextShadow())}}])&&pB(e.prototype,n),r&&pB(e,r),i}(wi);function mB(t){return(mB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OB(t,e){return(OB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jB(t);if(e){var o=jB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SB(this,n)}}function SB(t,e){return!e||"object"!==mB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jB(t){return(jB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var PB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OB(t,e)}(i,t);var e,n,r,o=kB(i);function i(){return gB(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{NumberRangeEditor:eB}}},{key:"initState",value:function(){return{value:this.generateValue(this.props.value||"")}}},{key:"template",value:function(){return"\n      <div class='stroke-dasharray-editor'>\n        <div ref='$body'></div>\n        <div class='tools'>\n          <label ref='$add'>".concat(vm.add," ").concat(this.$i18n("stroke.dasharray.editor.add"),"</label>\n        </div>\n      </div>\n    ")}},{key:"toStringValue",value:function(){return this.state.value.join(" ")}},{key:"getValue",value:function(){return this.toStringValue()}},{key:"generateValue",value:function(t){return t.split(" ").filter(Boolean).map((function(t){return+t}))}},{key:"setValue",value:function(t){ie(t)||(t=this.generateValue(t)),this.setState({value:t})}},{key:Ur("$body"),value:function(){return this.state.value.map((function(t,e){var n=e+1;return"\n        <div class='dasharray-item'>\n          <NumberRangeEditor \n            ref='$".concat(n,"' \n            label='").concat(n,"'\n            key='").concat(e,'\' \n            value="0" \n            min="0"\n            max="1000"\n            step="1"\n            onchange="changeRangeEditor" \n          />\n          <button type="button" data-index="').concat(e,"\" class='delete'>").concat(vm.remove2,"</button>\n        </div>\n      ")}))}},{key:gi("changeRangeEditor"),value:function(t,e){var n=+t;this.state.value[n]=e,this.modifyStrokeDashArray()}},{key:lr("$add"),value:function(){this.state.value.push(0),this.refresh()}},{key:lr("$body .delete"),value:function(t){var e=+t.$dt.attr("data-index");this.state.value.splice(e,1),this.refresh(),this.modifyStrokeDashArray()}},{key:"modifyStrokeDashArray",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.toStringValue(),this.props.params)}}])&&wB(e.prototype,n),r&&wB(e,r),i}(wi);function xB(t){return(xB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $B(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DB(t,e){return(DB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function AB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=VB(t);if(e){var o=VB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IB(this,n)}}function IB(t,e){return!e||"object"!==xB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VB(t){return(VB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var LB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DB(t,e)}(i,t);var e,n,r,o=AB(i);function i(){return CB(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{parser:new ec(this.props.value||"")}}},{key:"makeSegments",value:function(){return this.refs.$data.$$(".segment").map((function(t){var e=t.$(".command"),n=e.attr("data-command");return"Z"===n&&"false"===e.attr("data-toggle")?null:{command:n,values:t.$$(".values input[type=number]").map((function(t){return+t.value}))}})).filter((function(t){return t}))}},{key:"updateData",value:function(){var t=this.makeSegments();this.state.parser.resetSegments(t),this.modifyPathData()}},{key:"modifyPathData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"setValue",value:function(t){this.setState({parser:new ec(t)})}},{key:"getValue",value:function(){return this.state.parser.joinPath()}},{key:"template",value:function(){return"\n            <div class='path-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        "}},{key:Ur("$data"),value:function(){var t=this,e=[];this.state.parser.segments.forEach((function(n,r){var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EB(Object(n),!0).forEach((function(e){_B(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n);e.push(o);var i=t.state.parser.segments[r+1];i&&"M"===i.command&&("Z"!==o.command?e.push({command:"Z",toggle:!1,values:[]}):o.toggle=!0)}));var n=this.state.parser.segments[this.state.parser.segments.length-1];n&&"Z"!==n.command&&e.push({command:"Z",toggle:!1,values:[]});var r=e.map((function(t){var e="M"===t.command?"m":"";return"\n                <div class='segment ".concat(e,"'>\n                    <div class='command' data-command='").concat(t.command,"' data-toggle=\"").concat(t.toggle,"\" title='Toggle'>").concat(t.command,"</div>\n                    <div class='values'>\n                        ").concat(t.values.map((function(t){return'<input type="number" value="'.concat(t,'" />')})).join(""),"\n\n                        ").concat("Z"===t.command?!1===t.toggle?"opened":"closed":"","\n                    </div>\n                </div>\n            ")}));return r.unshift("\n            <div class='segment-empty'>\n                <div class='command'></div>\n                <div class='values'>\n                    <span>X</span>\n                    <span>Y</span>\n                </div>\n            </div>\n        "),r}},{key:Or("$data input[type=number]")+Gr(300),value:function(t){this.updateData()}},{key:lr("$data .command[data-toggle]"),value:function(t){var e=RB(t.$dt.attrs("data-command","data-toggle"),2),n=e[0],r=e[1];"Z"===n&&(r="false"!==r?"false":"true",t.$dt.attr("data-toggle",r),this.updateData())}}])&&TB(e.prototype,n),r&&TB(e,r),i}(wi);function MB(t){return(MB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FB(t,e){return(FB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function GB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=XB(t);if(e){var o=XB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HB(this,n)}}function HB(t,e){return!e||"object"!==MB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function XB(t){return(XB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var YB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FB(t,e)}(i,t);var e,n,r,o=GB(i);function i(){return zB(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{parser:new Pw(this.props.value||"")}}},{key:"makeSegments",value:function(){return this.refs.$data.$$(".segment").map((function(t){return{x:+t.$('[data-key="x"]').value,y:+t.$('[data-key="y"]').value}}))}},{key:"updateData",value:function(){var t=this.makeSegments();this.state.parser.resetSegments(t),this.modifyPolygonData()}},{key:"modifyPolygonData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"setValue",value:function(t){this.setState({parser:new Pw(t||"")})}},{key:"getValue",value:function(){return this.state.parser.joinPoints()}},{key:"template",value:function(){return"\n            <div class='polygon-data-editor'>\n                <div class='data' ref='$data'></div>\n            </div>\n        "}},{key:Ur("$data"),value:function(){return this.state.parser.segments.map((function(t){return'\n                <div class=\'segment\'>\n                    <div class=\'values\'>\n                        <label>X <input type="number" data-key="x" value="'.concat(t.x,'" /></label>\n                        <label>Y <input type="number" data-key="y" value="').concat(t.y,'" /></label>\n                    </div>\n                </div>\n            ')}))}},{key:Or("$data input[type=number]")+Gr(300),value:function(t){this.updateData()}}])&&BB(e.prototype,n),r&&BB(e,r),i}(wi);function NB(t){return(NB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function KB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return UB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UB(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qB(t,e){return(qB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function JB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tF(t);if(e){var o=tF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QB(this,n)}}function QB(t,e){return!e||"object"!==NB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tF(t){return(tF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qB(t,e)}(i,t);var e,n,r,o=JB(i);function i(){return WB(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL,SelectEditor:cL}}},{key:"initState",value:function(){var t=KB((this.props.value||"").split(",").map((function(t){return t.trim()})),4);return{id:t[0],distance:t[1]||"0%",rotateStatus:t[2]||"auto",rotate:t[3]||"0deg"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyOffsetPath()}},{key:"getValue",value:function(){var t=this;return Object.keys(this.state).map((function(e){return t.state[e]})).join(",")}},{key:"refresh",value:function(){this.load()}},{key:"setValue",value:function(t){var e=KB((t||"").split(",").map((function(t){return t.trim()})),4),n=e[0],r=e[1],o=e[2],i=e[3];this.setState({id:n,distance:r,rotateStatus:o,rotate:i},!1),this.refresh()}},{key:"modifyOffsetPath",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"template",value:function(){return"\n            <div class='offset-path-editor'></div>\n        "}},{key:"getOptions",value:function(){var t=this.$selection.currentArtboard,e={};return t&&t.allLayers.filter((function(t){return t.is("svg-path","svg-polygon")})).filter((function(t){return t["motion-based"]})).forEach((function(t){e[t.id]=t})),{options:Object.keys(e).map((function(t){return"".concat(t,":").concat(e[t].name)})).join(","),paths:e}}},{key:Ur(),value:function(){var t=this.getOptions(),e=","+t.options,n=t.paths||{},r=this.state,o=r.id,i=r.rotateStatus,a=r.rotate,c=r.distance;return"\n        <div>\n            <div class='offset-path-item'>\n                <SelectEditor ref='$path' label='".concat(this.$i18n("offset.path.list.editor.path"),'\' key="id" value="').concat(o,'" options="').concat(e,"\" onchange='changeRangeEditor' />\n            </div>\n            <div class='offset-path-item'>\n                <div>").concat(this.$i18n("offset.path.list.editor.totalLength"),": <span ref='$totalLength'>").concat(n[o]&&n[o].totalLength||0,"</span></div>\n            </div>\n            <div class='offset-path-item'>\n                <RangeEditor ref='$distance' label='").concat(this.$i18n("offset.path.list.editor.distance"),'\' min="0" max="100" value="').concat(c||"0%","\" key='distance' unit=\"%,px\" onchange='changeRangeEditor' /> \n            </div>\n            <div class='offset-path-item'>\n                <SelectEditor ref='$status' label='").concat(this.$i18n("offset.path.list.editor.direction"),"' key='rotateStatus' value=\"").concat(i,"\" options=\"auto,auto angle,angle,reverse,element\" onchange='changeRangeEditor' /> \n            </div>\n            <div class='offset-path-item'>\n                <RangeEditor ref='$rotate' label='").concat(this.$i18n("offset.path.list.editor.rotate"),"' min=\"0\" max=\"2000\" key='rotate' value='").concat(a||"0deg","' units=\"deg,turn\" onchange='changeRangeEditor' /> \n            </div>     \n        </div>           \n        ")}},{key:Jr("$totalLength"),value:function(){var t=this.state.id,e=(this.getOptions().paths[t]||{totalLength:0}).totalLength||0;return{innerHTML:"<span>".concat(e,"</span>")}}},{key:gi("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.bindData("$totalLength")}}])&&ZB(e.prototype,n),r&&ZB(e,r),i}(wi);function nF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rF={none:!0,hidden:!0,dotted:!0,dashed:!0,solid:!0,double:!0,groove:!0,ridge:!0,inset:!0,outset:!0},oF=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parseStyle",value:function(t){return we(t)}},{key:"parseValue",value:function(t){var e="",n="",r="";return t.split(" ").filter((function(t){return t.trim()})).forEach((function(t){rF[t]?e=t:Mn.isColor(t)?r=t:n=t})),{style:e,color:r,width:n}}},{key:"joinValue",value:function(t){return"".concat(t.width," ").concat(t.style," ").concat(t.color)}},{key:"join",value:function(t){return[t.border?"border: ".concat(t.border):"",t["border-top"]?"border-top: ".concat(t["border-top"]):"",t["border-left"]?"border-left: ".concat(t["border-left"]):"",t["border-right"]?"border-right: ".concat(t["border-right"]):"",t["border-bottom"]?"border-bottom: ".concat(t["border-bottom"]):""].filter((function(t){return t})).join(";")}}],(n=null)&&nF(e.prototype,n),r&&nF(e,r),t}();function iF(t){return(iF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uF(t,e){return(uF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fF(t);if(e){var o=fF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lF(this,n)}}function lF(t,e){return!e||"object"!==iF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fF(t){return(fF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pF=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"].join(","),yF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uF(t,e)}(i,t);var e,n,r,o=sF(i);function i(){return aF(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{InputRangeEditor:OM,RangeEditor:vL,SelectEditor:cL,ColorViewEditor:GL,ColorSingleEditor:AL}}},{key:"initState",value:function(){return{value:oF.parseValue(this.props.value)}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"getValue",value:function(){return oF.joinValue(this.state.value)}},{key:"setValue",value:function(t){this.state.value=oF.parseValue(t),this.refresh()}},{key:"refresh",value:function(){this.children.$width.setValue(this.state.value.width||R.z()),this.children.$style.setValue(this.state.value.style||"none"),this.children.$color.setValue(this.state.value.color||"rgba(0, 0, 0, 1)")}},{key:"template",value:function(){var t=this.state.value,e=t.width,n=t.style,r=t.color;return'\n      <div class="border-value-editor">\n        <label>'.concat(this.props.label,'</label>\n        <div class=\'editor-area\'>\n          <InputRangeEditor ref=\'$width\' min="0" max="100" step="1" key=\'width\' value="').concat(e,"\" onchange='changeKeyValue' />\n        </div>\n        <div class='editor-area'>\n          <SelectEditor ref='$style' key='style' options='").concat(pF,"' value=\"").concat(n,"\" onchange=\"changeKeyValue\" />\n        </div>\n        <div class='editor-area'>\n          <ColorSingleEditor ref='$color' key='color' value=\"").concat(r||"rgba(0, 0, 0, 1)",'"  onchange="changeKeyValue" />\n        </div>\n\n      </div>\n    ')}},{key:gi("changeKeyValue"),value:function(t,e){var n=this.state.value;n[t]=e,this.updateData({value:n})}}])&&cF(e.prototype,n),r&&cF(e,r),i}(wi);function hF(t){return(hF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bF(t,e){return(bF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wF(t);if(e){var o=wF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gF(this,n)}}function gF(t,e){return!e||"object"!==hF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wF(t){return(wF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var OF=["border","border-top","border-right","border-bottom","border-left"],kF={border:"all","border-top":"top","border-right":"right","border-bottom":"bottom","border-left":"left"},SF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bF(t,e)}(i,t);var e,n,r,o=mF(i);function i(){return dF(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{BorderValueEditor:yF}}},{key:"initState",value:function(){var t=oF.parseStyle(this.props.value);return{direction:Object.keys(t)[0]||"border",borders:t}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}},{key:"getValue",value:function(){return oF.join(this.state.borders)}},{key:"setValue",value:function(t){this.state.borders=oF.parseStyle(t),this.refresh()}},{key:"refresh",value:function(){this.load()}},{key:Ur("$editorArea"),value:function(){var t=this;return OF.map((function(e){var n=kF[e]||e;return n=t.$i18n("border.editor."+n),"\n      <div>\n        <BorderValueEditor ref='$".concat(e,"' label='").concat(n,"' key=\"").concat(e,'" value="').concat(t.state.borders[e],'" onchange="changeKeyValue" />\n      </div>\n      ')}))}},{key:"template",value:function(){return"\n      <div class=\"border-editor\">\n        <div class='header'>\n          <div></div>\n          <label>".concat(this.$i18n("border.editor.width"),"</label>\n          <label>").concat(this.$i18n("border.editor.style"),"</label>\n          <label>").concat(this.$i18n("border.editor.color"),"</label>\n        </div>\n        <div class='editor-area' ref='$editorArea'>\n\n        </div>\n      </div>\n    ")}},{key:gi("changeKeyValue"),value:function(t,e){var n=this.state.borders;n[t]=e,this.updateData({borders:n})}}])&&vF(e.prototype,n),r&&vF(e,r),i}(wi);function jF(t){return(jF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xF(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EF(t,e){return(EF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=TF(t);if(e){var o=TF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CF(this,n)}}function CF(t,e){return!e||"object"!==jF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TF(t){return(TF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var DF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EF(t,e)}(i,t);var e,n,r,o=_F(i);function i(){return RF(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{NumberRangeEditor:eB}}},{key:"initState",value:function(){var t=PF((this.props.value||"").split(":"),3);return{start:+(t[0]||0),end:+(t[1]||1),duration:+(t[2]||1)}}},{key:"refresh",value:function(){this.load(),this.children.$s.setValue(this.state.start*this.state.duration),this.children.$e.setValue(this.state.end*this.state.duration),this.children.$s.setMax(this.state.duration),this.children.$e.setMax(this.state.duration)}},{key:"template",value:function(){var t=this.state,e=t.start,n=t.end,r=t.duration;return"\n            <div class='media-progress-editor'>\n                <div class='drag-area'>\n                    <div class='progress-bar' ref='$progress'></div>\n                    <div class='bar' ref='$bar'></div>                \n                    <div class='drag-item start' ref='$start'></div>\n                    <div class='drag-item end' ref='$end'></div>\n                </div>\n                <div class='item'>\n                    <NumberRangeEditor \n                        ref='$s' \n                        label='Start' \n                        key='start' \n                        min=\"0\" \n                        max=\"".concat(r,'" \n                        step="0.001" \n                        value="').concat(e*r,"\" \n                        onchange=\"changeValue\" \n                    />\n                </div>\n                <div class='item'>\n                    <NumberRangeEditor \n                        ref='$e' \n                        label='End' \n                        key='end' \n                        min=\"0\" \n                        max=\"").concat(r,'" \n                        step="0.001" \n                        value="').concat(n*r,'" \n                        onchange="changeValue" \n                    />\n                </div>                \n            </div>\n        ')}},{key:gi("changeValue"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e/this.state.duration),!0)}},{key:Er("$start")+Xr("moveStart"),value:function(t){this.rect=this.refs.$progress.rect(),this.pos=R.parse(this.refs.$start.css("left")).toPx(this.rect.width),this.max=R.parse(this.refs.$end.css("left")).toPx(this.rect.width)}},{key:"moveStart",value:function(t,e){var n=Math.min(this.max.value,Math.max(0,this.pos.value+t));this.state.start=n/this.rect.width,this.children.$s.setValue(this.state.start*this.state.duration),this.refresh(),this.updateData()}},{key:Jr("$start"),value:function(){return{"data-info":this.state.start,style:{left:R.percent(100*(this.state.start||0))}}}},{key:Er("$end")+Xr("moveStartForEnd"),value:function(t){this.rect=this.refs.$progress.rect(),this.pos=R.parse(this.refs.$end.css("left")).toPx(this.rect.width),this.min=R.parse(this.refs.$start.css("left")).toPx(this.rect.width),this.max=R.px(this.rect.width)}},{key:"moveStartForEnd",value:function(t,e){var n=Math.max(this.min.value,Math.min(this.max.value,this.pos.value+t));this.state.end=n/this.rect.width,this.children.$e.setValue(this.state.end*this.state.duration),this.refresh(),this.updateData()}},{key:Jr("$end"),value:function(){return{"data-info":this.state.end,style:{left:R.percent(100*(this.state.end||1))}}}},{key:Jr("$bar"),value:function(){var t=this.state.start||0,e=this.state.end||1;return{style:{left:R.percent(100*t),width:R.percent(100*(e-t))}}}},{key:"getValue",value:function(){var t=this.state,e=t.start,n=t.end,r=t.duration;return"".concat(e,":").concat(n,":").concat(r)}},{key:"setValue",value:function(t){var e=PF(t.split(":"),3),n=e[0],r=e[1],o=e[2];this.setState({start:Number(n),end:Number(r),duration:Number(o)})}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState(t,e),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&$F(e.prototype,n),r&&$F(e,r),i}(wi);function AF(t){return(AF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LF(t,e){return(LF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function MF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=BF(t);if(e){var o=BF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zF(this,n)}}function zF(t,e){return!e||"object"!==AF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BF(t){return(BF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LF(t,e)}(i,t);var e,n,r,o=MF(i);function i(){return IF(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{BorderEditor:SF,NumberRangeEditor:eB,SelectEditor:cL,TextShadowEditor:bB,BoxShadowEditor:qV,FilterEditor:pM,ColorViewEditor:GL,RangeEditor:vL,StrokeDashArrayEditor:PB,BackgroundImageEditor:HV,TransformEditor:Oz,TransformOriginEditor:Az,PerspectiveOriginEditor:Kz,VarEditor:az,BorderRadiusEditor:xL,ClipPathEditor:sB,PathDataEditor:LB,PolygonDataEditor:YB,OffsetPathListEditor:eF,MediaProgressEditor:DF}}},{key:"initState",value:function(){return{hideTitle:"true"===this.props["hide-title"],hideRefresh:"true"===this.props["hide-refresh"],properties:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.modifyProperty()}},{key:"modifyProperty",value:function(){this.parent.trigger(this.props.onchange,this.state.properties)}},{key:"template",value:function(){return"\n      <div class='css-property-editor ".concat(ke({"hide-title":this.state.hideTitle,"hide-refresh":this.state.hideRefresh}),"'>\n        <div class='title'>\n          <label>").concat(this.$i18n("css.property.editor.properties"),"</label>\n          <div class='tools'>\n            ").concat(this.makePropertySelect(),"\n            <button type=\"button\" ref='$addProperty'>").concat(vm.add,"</button>\n          </div>\n        </div>\n        <div class='input grid-1 css-property-list' ref='$property'></div>\n      </div>\n    ")}},{key:"getPropertyDefaultValue",value:function(t){switch(t){case"animation-timing-function":case"box-shadow":case"text-shadow":case"color":case"background-image":case"background-color":case"text-fill-color":case"text-stroke-color":case"filter":case"backdrop-filter":case"var":case"transform":case"transform-origin":case"perspective-origin":case"playTime":return R.string("");case"offset-distance":return R.percent(0);case"mix-blend-mode":return"normal";case"clip-path":return"";case"opacity":return 1;default:return R.z()}}},{key:lr("$addProperty"),value:function(t){var e=this.getRef("$propertySelect").value;if(this.state.properties.find((function(t){return t.key===e})))alert("".concat(e," is already added."));else{var n=this.getPropertyDefaultValue(e),r=this.$selection.current;r&&(n=r[e]),this.state.properties.push({key:e,value:n}),this.refresh(),this.modifyProperty()}}},{key:"makeIndivisualPropertyColorEditor",value:function(t,e){var n=t.key.split("-").join("");return"\n      <div class='property-editor'>\n        <ColorViewEditor ref='$".concat(n).concat(e,"' value=\"").concat(t.value,'" key="').concat(t.key,'" onChange="changeColorProperty" />\n      </div>\n    ')}},{key:"makeCustomePropertyEditor",value:function(t,e){return"\n      <div class='property-editor'>\n        <".concat(t.editor," ").concat(Oe({onchange:"changeSelect",ref:"$customProperty".concat(e),key:t.key,value:t.value})," />\n      </div>\n    ")}},{key:"makeIndivisualPropertyEditor",value:function(t,e){return"background-image"===t.key?"\n        <div class='property-editor'>\n          <BackgroundImageEditor ref='$backgroundImage".concat(e,"' key=\"").concat(t.key,'" hide-title="').concat(this.state.hideTitle,'" value="').concat(t.value,'" onChange="changeBackgroundImageProperty" />\n        </div>\n      '):"filter"===t.key?"\n        <div class='property-editor'>\n          <FilterEditor ref='$filter".concat(e,"' value=\"").concat(t.value,'" onChange="changeFilterProperty" />\n        </div>\n      '):"backdrop-filter"===t.key?"\n        <div class='property-editor'>\n          <FilterEditor ref='$backdropFilter".concat(e,"' value=\"").concat(t.value,'" onChange="changeBackdropFilterProperty" />\n        </div>\n      '):"box-shadow"===t.key?"\n        <div class='property-editor'>\n          <BoxShadowEditor ref='$boxshadow".concat(e,"' value=\"").concat(t.value,'" hide-label="false" onChange="changeBoxShadowProperty" />\n        </div>\n      '):"text-shadow"===t.key?"\n        <div class='property-editor'>\n          <TextShadowEditor ref='$textshadow".concat(e,"' value=\"").concat(t.value,'" hide-label="false" onChange="changeTextShadowProperty" />\n        </div>\n      '):"var"===t.key?"\n        <div class='property-editor'>\n          <VarEditor ref='$var".concat(e,"' value=\"").concat(t.value,'" onChange="changeVar" />\n        </div>\n      '):"transform"===t.key?"\n        <div class='property-editor'>\n          <TransformEditor ref='$transform".concat(e,"' value=\"").concat(t.value,'" onChange="changeTransform" />\n        </div>\n      '):"transform-origin"===t.key?"\n        <div class='property-editor'>\n          <TransformOriginEditor ref='$transformOrigin".concat(e,"' value=\"").concat(t.value,'" onChange="changeTransformOrigin" />\n        </div>\n      '):"perspective-origin"===t.key?"\n        <div class='property-editor'>\n          <PerspectiveOriginEditor ref='$perspectiveOrigin".concat(e,"' value=\"").concat(t.value,'" onChange="changePerspectiveOrigin" />\n        </div>\n      '):"fill-rule"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$fillRule".concat(e,'\' \n          key=\'fill-rule\' \n          icon="true" \n          options="nonzero,evenodd" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-linecap"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$strokeLinecap".concat(e,'\' \n          key=\'stroke-linecap\' \n          icon="true" \n          options="butt,round,square" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-linejoin"===t.key?"\n        <div class='property-editor'>\n          <SelectEditor \n          ref='$strokeLinejoin".concat(e,'\' \n          key=\'stroke-linejoin\' \n          icon="true" \n          options="miter,arcs,bevel,miter-clip,round" \n          value="').concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"mix-blend-mode"===t.key?"\n        <div class='property-editor'>\n          <BlendSelectEditor \n          ref='$mixBlendMode".concat(e,"' \n          key='mix-blend-mode' \n          icon=\"true\" \n          value=\"").concat(t.value,'"\n          onchange="changeSelect" />\n        </div>\n      '):"stroke-dasharray"===t.key?"\n        <StrokeDashArrayEditor \n          ref='$strokeDashArray".concat(e,"' \n          key='stroke-dasharray'\n          value='").concat(t.value,"' \n          onchange='changeSelect' \n        />\n      "):"border-radius"===t.key?"\n        <BorderRadiusEditor \n          ref='$borderRadius".concat(e,"' \n          key='border-radius'\n          value='").concat(t.value,"' \n          onchange='changeBorderRadius' \n        />\n      "):"border"===t.key?"\n        <BorderEditor \n          ref='$border".concat(e,"' \n          key='border'\n          value='").concat(t.value,"' \n          onchange='changeKeyValue' \n        />\n      "):"clip-path"===t.key?"\n        <ClipPathEditor \n          ref='$clipPath".concat(e,"' \n          key='clip-path'\n          value='").concat(t.value,"' \n          onchange='changeClipPath' \n        />\n      "):"d"===t.key?"\n        <PathDataEditor ref='$pathData".concat(e,"' key='d' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"points"===t.key?"\n        <PolygonDataEditor ref='$polygonData".concat(e,"' key='points' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"offset-path"===t.key?"\n        <OffsetPathListEditor ref='$offsetPathList".concat(e,"' key='offset-path' value='").concat(t.value,"' onchange='changeSelect' />\n      "):"playTime"===t.key?"\n        <MediaProgressEditor ref='$playTime".concat(e,"'  key='playTime' value=\"").concat(t.value,'" onchange="changeSelect" />      \n      '):"\n      <div class='property-editor'>\n        ???\n\n      </div>\n    "}},{key:gi("changeKeyValue"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:gi("changeBorderRadius"),value:function(t){this.modifyPropertyValue("border-radius",t)}},{key:gi("changeClipPath"),value:function(t){this.modifyPropertyValue("clip-path",t)}},{key:gi("changeColorProperty"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:gi("changeBackgroundImageProperty"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:gi("changeFilterProperty"),value:function(t){this.modifyPropertyValue("filter",t)}},{key:gi("changeBackdropFilterProperty"),value:function(t){this.modifyPropertyValue("backdrop-filter",t)}},{key:gi("changeBoxShadowProperty"),value:function(t){this.modifyPropertyValue("box-shadow",t)}},{key:gi("changeTextShadowProperty"),value:function(t){this.modifyPropertyValue("text-shadow",t)}},{key:gi("changeVar"),value:function(t){this.modifyPropertyValue("var",t)}},{key:gi("changeTransform"),value:function(t){this.modifyPropertyValue("transform",t)}},{key:gi("changeTransformOrigin"),value:function(t){this.modifyPropertyValue("transform-origin",t)}},{key:gi("changePerspectiveOrigin"),value:function(t){this.modifyPropertyValue("perspective-origin",t)}},{key:gi("changeSelect"),value:function(t,e){this.modifyPropertyValue(t,e)}},{key:"makePropertyEditor",value:function(t,e){if(t.editor)return this.makeCustomePropertyEditor(t,e);switch(t.key){case"animation-timing-function":case"box-shadow":case"text-shadow":case"background-image":case"filter":case"backdrop-filter":case"var":case"transform":case"transform-origin":case"perspective-origin":case"mix-blend-mode":case"border":case"border-radius":case"clip-path":case"fill-rule":case"stroke-linecap":case"stroke-linejoin":case"stroke-dasharray":case"d":case"points":case"offset-path":case"playTime":return this.makeIndivisualPropertyEditor(t,e);case"color":case"background-color":case"text-fill-color":case"text-stroke-color":case"stroke":case"fill":return this.makeIndivisualPropertyColorEditor(t,e);case"opacity":case"fill-opacity":case"stroke-dashoffset":case"offset-distance":return"\n          <div class='property-editor'>\n            <NumberRangeEditor \n              ref='$opacity".concat(e,"' \n              key='").concat(t.key,"' \n              min=\"").concat(0,'"\n              max="').concat(1,'"\n              step="').concat(.01,'"\n              value="').concat(t.value||1,'"\n              selected-unit=\'number\'\n              removable="true"\n              onchange="changeRangeEditor" />\n          </div>\n        ');case"left":case"margin-top":case"margin-bottom":case"margin-left":case"margin-right":case"padding-top":case"padding-bottom":case"padding-left":case"padding-right":case"font-size":case"font-stretch":case"width":case"height":case"perspective":case"offset-distance":case"text-stroke-width":default:return"\n          <div class='property-editor'>\n            <RangeEditor ref='rangeEditor".concat(e,"' key='").concat(t.key,"' value='").concat(t.value,'\' max="1000" onChange="changeRangeEditor" />\n          </div>\n        ')}}},{key:gi("changeRangeEditor"),value:function(t,e){this.modifyPropertyValue(t,e+"")}},{key:"searchKey",value:function(t,e){this.state.properties.filter((function(e){return e.key===t})).forEach(e)}},{key:"modifyPropertyValue",value:function(t,e){this.searchKey(t,(function(t){t.value=e})),this.modifyProperty()}},{key:"makePropertySelect",value:function(){return"\n      <select class='property-select' ref='$propertySelect'>\n        <optgroup label='Position'>\n          <option value='x'>x</option>\n          <option value='y'>y</option>        \n        </optgroup>\n        <optgroup label='Size'>\n          <option value='width'>width</option>\n          <option value='height'>height</option>\n        </optgroup>      \n        <optgroup label='Box Model'>\n          <option value='margin-left'>margin-left</option>\n          <option value='margin-right'>margin-right</option>\n          <option value='margin-bottom'>margin-bottom</option>\n          <option value='margin-top'>margin-top</option>\n          <option value='padding-left'>padding-left</option>\n          <option value='padding-right'>padding-right</option>\n          <option value='padding-bottom'>padding-bottom</option>\n          <option value='padding-top'>padding-top</option>       \n        </optgroup>\n        <optgroup label='Border'>\n          <option value='border'>border</option>\n          <option value='border-radius'>border-radius</option>\n        </optgroup>        \n        <optgroup label='Style'>\n          <option value='background-color'>background-color</option>\n          <option value='background-image'>background-image</option>\n          <option value='box-shadow'>box-shadow</option>\n          <option value='text-shadow'>text-shadow</option>\n          <option value='filter'>filter</option>      \n          <option value='backdrop-filter'>backdrop-filter</option>\n          <option value='mix-blend-mode'>mix-blend-mode</option>\n        </optgroup>            \n        <optgroup label='Transform'>\n          <option value='transform'>transform</option>\n          <option value='transform-origin'>transform-origin</option>\n          <option value='perspective'>perspective</option>\n          <option value='perspective-origin'>perspective-origin</option>\n        </optgroup>\n        <optgroup label='Font'>\n          <option value='font-size'>font-size</option>\n          <option value='font-weight'>font-weight</option>          \n          <option value='font-stretch'>font-stretch</option>\n        </optgroup>\n        <optgroup label='Animation'>\n          <option value='animation-timing-function'>timing-function</option>\n        </optgroup>        \n      </select>\n    "}},{key:Ur("$property"),value:function(){var t=this;return this.state.properties.map((function(e,n){return"\n        <div class='css-property-item'>\n          <div class='title'>\n            <label>".concat(e.key,"</label>\n            <div class='tools'>\n              <button type=\"button\" class='remove' data-index=\"").concat(n,'">').concat(vm.remove2,"</button>\n            </div>\n          </div>\n          <div class='title-2'>\n            <div class='tools'>\n              <label><button type=\"button\" class='refresh' data-index=\"").concat(n,'">').concat(vm.refresh,"</button> Refresh</label>\n            </div>\n          </div>\n          <div class='value-editor'>\n            ").concat(t.makePropertyEditor(e,n),"\n          </div>\n        </div>\n      ")}))}},{key:gi("showCSSPropertyEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({properties:t}),this.refresh()}},{key:lr("$property .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.properties.splice(e,1),this.refresh(),this.modifyProperty()}},{key:lr("$property .refresh"),value:function(t){this.parent.trigger("refreshPropertyValue")}}])&&VF(e.prototype,n),r&&VF(e,r),i}(wi);function GF(t){return(GF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HF(t){return function(t){if(Array.isArray(t))return XF(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return XF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XF(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KF(t,e){return(KF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function UF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ZF(t);if(e){var o=ZF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WF(this,n)}}function WF(t,e){return!e||"object"!==GF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZF(t){return(ZF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KF(t,e)}(i,t);var e,n,r,o=UF(i);function i(){return YF(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{InputRangeEditor:OM,RangeEditor:vL,CSSPropertyEditor:FF}}},{key:"initState",value:function(){return{offsets:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.modifyOffset()}},{key:"modifyOffset",value:function(){this.emit("changeOffsetEditor",this.state)}},{key:"template",value:function(){return"\n    <div class='editor offset-editor' ref='$editor'>\n        ".concat(this.templateForOffset(),"\n        ").concat(this.templateForOffsetInput(),"\n        ").concat(this.templateForProperty(),"        \n    </div>")}},{key:"templateForOffsetInput",value:function(){return"\n      <div class='offset-input' >\n        <div class='title'>\n          <label>Offset</label>\n          <div class='tools'>\n            <InputRangeEditor \n              key='offset' \n              min='0' \n              max='100' \n              step=\"0.01\" \n              value=\"".concat(R.percent(0),"\" \n              ref='$offsetInput' \n              units=\"%\" \n              onchange='changeRangeEditor' \n            />\n          </div>\n        </div>\n      </div>\n    ")}},{key:gi("changeRangeEditor"),value:function(t,e){var n=this.state.offsets[this.selectedIndex];n&&(n.offset=e.clone(),this.refresh(),this.modifyOffset())}},{key:"templateForProperty",value:function(){return"<CSSPropertyEditor ref='$offsetPropertyEditor' hide-refresh=\"true\" onchange='changeCSSPropertyEditor' />"}},{key:"templateForOffset",value:function(){return"<div class='offset' ref='$offset' data-selected-value=\"-1\"></div>"}},{key:"makeOffset",value:function(t,e){return"<div class='offset-item' style='left: ".concat(t.offset,";' data-offset-index='").concat(e.toString(),"'></div>")}},{key:"selectItem",value:function(t){if(re(t)){t=-1;for(var e=0,n=this.state.offsets.length;e<n;e++)if(this.state.offsets[e].selected){t=e;break}-1===t&&(t=0)}this.getRef("$offset").attr("data-selected-value",t),this.selectedIndex=t,this.state.offsets.forEach((function(e,n){e.selected=n===t}));var r=this.state.offsets.filter((function(t){return t.selected}));this.selectedOffsetItem=r.length?r[0]:{},this.refreshOffsetInput()}},{key:"refreshOffsetInput",value:function(){var t=this.state.offsets[this.selectedIndex];t&&this.children.$offsetInput.setValue(t.offset)}},{key:Ur("$offset"),value:function(){var t=this;return this.state.offsets.map((function(e,n){return t.makeOffset(e,n)}))}},{key:"isNotOffsetItem",value:function(t){return!er.create(t.target).hasClass("offset-item")&&!this.currentOffset}},{key:lr("$offset")+Vr("isNotOffsetItem")+Nr,value:function(t){this.baseOffsetWidth=this.refs.$offset.width(),this.baseOffsetArea=this.refs.$offset.offset();var e=t.xy.x,n=R.percent((e-this.baseOffsetArea.left)/this.baseOffsetWidth*100).round(100);this.state.offsets.push(new yO({offset:n})),this.selectItem(this.state.offsets.length-1,!0),this.refresh(),this.modifyOffset()}},{key:"refreshOffsetProperty",value:function(){this.emit("showCSSPropertyEditor",this.selectedOffsetItem.properties)}},{key:Er("$offset .offset-item")+Xr("moveOffset")+Yr("endOffset"),value:function(t){this.baseOffsetWidth=this.refs.$offset.width(),this.baseOffsetArea=this.refs.$offset.offset(),this.currentOffsetleft=R.parse(t.$dt.css("left")),this.currentOffset=t.$dt,this.currentOffsetIndex=+t.$dt.attr("data-offset-index"),this.currentOffsetXY=t.xy,this.baseOffsetMin=this.baseOffsetArea.left,this.baseOffsetMax=this.baseOffsetArea.left+this.baseOffsetWidth,this.isRemoveOffset=!1,t.altKey?this.isRemoveOffset=!0:(this.selectItem(this.currentOffsetIndex,!0),this.refreshOffsetInput())}},{key:"moveOffset",value:function(t,e){if(!this.isRemoveOffset){var n=this.currentOffsetXY.x+t;n<this.baseOffsetMin&&(n=this.baseOffsetMin),n>this.baseOffsetMax&&(n=this.baseOffsetMax);var r=R.percent((n-this.baseOffsetMin)/this.baseOffsetWidth*100).round(100);this.state.offsets[this.currentOffsetIndex].offset.set(r.value),this.currentOffset.css("left",r),this.refreshOffsetInput(),this.modifyOffset()}}},{key:"removeOffset",value:function(t){this.state.offsets.splice(t,1),this.selectItem(0),this.refresh(),this.modifyOffset()}},{key:"endOffset",value:function(t,e){var n=this;this.isRemoveOffset?setTimeout((function(){n.currentOffset=null,n.removeOffset(n.currentOffsetIndex)}),10):setTimeout((function(){n.currentOffset=null,n.refreshOffsetInput(),n.refreshOffsetProperty(),n.modifyOffset()}),10)}},{key:"refresh",value:function(){this.load(),this.refreshOffsetProperty()}},{key:gi("showOffsetEditor"),value:function(t){this.setState(t),this.selectItem(),this.refresh()}},{key:gi("changeCSSPropertyEditor"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.state.offsets[this.selectedIndex];e&&(e.properties=HF(t)),this.modifyOffset()}}])&&NF(e.prototype,n),r&&NF(e,r),i}(wi);function JF(t){return(JF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return tG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tG(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rG(t,e){return(rG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oG(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=aG(t);if(e){var o=aG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iG(this,n)}}function iG(t,e){return!e||"object"!==JF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function aG(t){return(aG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cG=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rG(t,e)}(i,t);var e,n,r,o=oG(i);function i(){return eG(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50%",e=new R("","closest-side"),n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=QF(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=QF(i,2),c=a[0],u=a[1];return re(u)&&(u=c),{radius:e,x:c=R.parse(c),y:u=R.parse(u)}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){return"\n        <div class='clip-path-editor circle-editor'>\n            <RangeEditor \n                ref='$range' \n                label='Radius' \n                key='radius' \n                value='".concat(this.state.radius,"' \n                min=\"0\" \n                max=\"100\" \n                step=\"0.1\" \n                units=\"%,closest-side,farthest-side\" \n                onchange='changeRangeEditor' \n            />\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ").concat(this.state.x,";top: ").concat(this.state.y,";'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    ")}},{key:Jr("$clipArea"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:Er("$area")+Xr()+Yr(),value:function(t){this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=R.percent((n-this.areaRect.x)/this.areaRect.width*100).round(1),i=R.percent((r-this.areaRect.y)/this.areaRect.height*100).round(1);this.refs.$pointer.css({left:o,top:i}),this.updateData({x:o,y:i}),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.x,n=t.y,r=t.radius,o="".concat(e," ").concat(n),i=r+"";return i.includes("closest-side")?i="closest-side":i.includes("farthest-side")&&(i="farthest-side"),r?"".concat(i," at ").concat(o):"".concat(o)}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:gi("changeRangeEditor"),value:function(t,e){if("radius"===t){var n=e,r=e.unit+"";r.includes("closest-side")?n=new R("","closest-side"):r.includes("farthest-side")&&(n=new R("","farthest-side")),this.updateData({radius:n})}}}])&&nG(e.prototype,n),r&&nG(e,r),i}(wi);function uG(t){return(uG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fG(t,e){return(fG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pG(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hG(t);if(e){var o=hG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yG(this,n)}}function yG(t,e){return!e||"object"!==uG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hG(t){return(hG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dG=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fG(t,e)}(i,t);var e,n,r,o=pG(i);function i(){return sG(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=this.props.value;return{label:this.props.label||"",value:t}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='text-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","\n                <input type='text' ref='$text' />\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:Jr("$text"),value:function(){return{value:this.state.value}}},{key:Or("$text"),value:function(){this.updateData({value:this.refs.$text.value})}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&lG(e.prototype,n),r&&lG(e,r),i}(wi);function vG(t){return(vG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gG(t,e){return(gG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wG(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kG(t);if(e){var o=kG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OG(this,n)}}function OG(t,e){return!e||"object"!==vG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kG(t){return(kG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var SG=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gG(t,e)}(i,t);var e,n,r,o=wG(i);function i(){return bG(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{values:this.props.values.split(" ").map((function(t){return+t})),column:this.props.column}}},{key:"template",value:function(){return"<div class='small-editor input-array-editor' ref='$body' ></div>"}},{key:Jr("$body"),value:function(){return{cssText:"\n                display: grid;\n                grid-template-columns: repeat(".concat(this.state.column,", 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n            ")}}},{key:Ur("$body"),value:function(){return this.state.values.map((function(t,e){return'\n                <div class=\'number-editor\'>\n                    <input type="number" value="'.concat(t,'" step="0.01" data-index="').concat(e,'" />\n                </div>\n            ')}))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.values,this.props.params)}},{key:Or("$body input"),value:function(t){var e=t.$dt,n=+e.attr("data-index"),r=+e.value;this.state.values[n]=r,this.updateData()}}])&&mG(e.prototype,n),r&&mG(e,r),i}(wi);function jG(t){return(jG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PG(t){return function(t){if(Array.isArray(t))return EG(t)}(t)||_G(t)||$G(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xG(t,e){return CG(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||$G(t,e)||RG()}function RG(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $G(t,e){if(t){if("string"==typeof t)return EG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EG(t,e):void 0}}function EG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _G(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function CG(t){if(Array.isArray(t))return t}function TG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function DG(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TG(Object(n),!0).forEach((function(e){AG(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TG(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function AG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LG(t,e){return(LG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function MG(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=BG(t);if(e){var o=BG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zG(this,n)}}function zG(t,e){return!e||"object"!==jG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BG(t){return(BG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FG=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LG(t,e)}(i,t);var e,n,r,o=MG(i);function i(){return IG(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{TextEditor:dG,NumberRangeEditor:eB,SelectEditor:cL}}},{key:"initState",value:function(){return DG({label:this.props.label||""},this.parse(this.props.value))}},{key:"parse",value:function(t){var e,n=t.split(" "),r=CG(e=n)||_G(e)||$G(e)||RG(),o=r[0],i=r.slice(1);if("linear"===o)var a=xG(i,2),c=a[0],u=a[1];else if("gamma"===o)var s=xG(i,3),l=s[0],f=s[1],p=s[2];return{type:o,values:i,slop:c,intercept:u,amplitude:l,exponent:f,offset:p}}},{key:"template",value:function(){return"<div class='small-editor func-filter' ref='$body'></div>"}},{key:Ur("$body"),value:function(){var t=this,e=this.state,n=e.type,r=e.label,o=r?"has-label":"";return'\n        <SelectEditor label="'.concat(r,'" key="type" value="').concat(this.state.type,'" options="identity,table,discrete,linear,gamma" onchange="changeType" />\n        <div class=\'func-filter-editor ').concat(o,"' ref='$container' data-selected-type='").concat(n,"'>\n            ").concat(r?"<label></label>":"","\n            <div data-type='identity'>\n            </div>\n            <div data-type='table'>\n                <TextEditor label='tableValues' ref='$values' key='values' value=\"").concat(this.state.values.join(" "),'" onchange="changeValues" />\n            </div>\n            <div data-type=\'linear\'>\n                ').concat(["slop","intercept"].map((function(e){return"\n                        <div>\n                            <NumberRangeEditor label='".concat(e,"' ref='$").concat(e,"' key='").concat(e,"' value=\"").concat(t.state[e],'" onchange="changeLinear" />\n                        </div>                    \n                    ')})).join(""),"\n            </div>\n            <div data-type='gamma'>\n                ").concat(["amplitude","exponent","offset"].map((function(e){return"\n                        <div>\n                            <NumberRangeEditor label='".concat(e,"' ref='$").concat(e,"' key='").concat(e,"' value=\"").concat(t.state[e],'" onchange="changeGamma" />\n                        </div>                    \n                    ')})).join(""),"            \n            </div>                                                \n        </div>\n    ")}},{key:gi("changeType"),value:function(t,e){this.updateData({type:e}),this.refresh()}},{key:"getValue",value:function(){switch(this.state.type){case"table":case"discrete":return[this.state.type].concat(PG(this.state.values)).join(" ");case"linear":return[this.state.type,this.state.slop,this.state.intercept].join(" ");case"gamma":return[this.state.type,this.state.amplitude,this.state.exponent,this.state.offset].join(" ")}return"identity"}},{key:"setValue",value:function(t){this.setState(DG({},this.parse(t)))}},{key:gi("changeValues"),value:function(t,e){this.updateData(AG({},t,e.split(" ")))}},{key:gi("changeLinear"),value:function(t,e){this.updateData(AG({},t,e))}},{key:gi("changeGamma"),value:function(t,e){this.updateData(AG({},t,e))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&VG(e.prototype,n),r&&VG(e,r),i}(wi),GG={red:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0\n",green:"\n0   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",blue:"\n0   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",yellow:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",magenta:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",cyan:"\n0   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",alpha:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   0   .5  0 \n",BlueMagenta2:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  .5   0\n0   0   0   1   0 \n",BlueShadowMagentHightlight:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1   1   0\n0   0   0   1   0 \n",darken:"\n.5   0   0   0   0\n0  .5   0   0   0\n0   0  .5   0   0\n0   0   0   1   0 \n",ElimBlue:"\n1   0   0   0   0\n0   1   0   0   0\n0   0   1   0   0\n0   0   -2   1   0 \n",GrayOnDark:"\n0   0   1   0   0\n0   0   1   0   0\n0   0   1   0   0\n0   0   0   1   0  \n",GrayOnLight:"\n1   0   0   0   0\n1   0   0   0   0\n1   0   0   0   0\n0   0   0   1   0 \n",GrayOnMid:"\n0   1   0   0   0\n0   1   0   0   0\n0   1   0   0   0\n0   0   0   1   0 \n",HardGreen:"\n1   0   0   0   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n",HardYellow:"\n1   0   0   1   0\n0   1   0   1   0\n0   0   1   0   0\n0   0   0   1   0 \n",IdenticalRedOverlay:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   0   0   0\n0   0   0   1   0 \n",lighten:"\n1.5   0   0   0   0\n0   1.5   0   0   0\n0   0   1.5   0   0\n0   0   0   1   0 \n",lime:"\n1   0   0   0   0\n0   2   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n",NoGreenMagenta:"\n1   1   0   0   0\n0   0   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n",NoGreenRed:"\n1   1   0   0   0\n0   0   0   0   0\n0   0   1   0   0\n0   0   0   1   0 \n",peachy:"\n1   0   0   0   0\n0  .5   0   0   0\n0   0   0  .5   0\n0   0   0   1   0 \n",RedOverlay:"\n1   0   0   0   0\n0   0   0   0   0\n0   0   1  -1   0\n0   0   0   1   0 \n",YesGreenColorizedMagenta:"\n1   1   0   0   0\n0   1   0   0   0\n0   1   1   0   0\n0   0   0   1   0 \n"};function HG(t){return(HG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NG(t,e){return(NG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function KG(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=WG(t);if(e){var o=WG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UG(this,n)}}function UG(t,e){return!e||"object"!==HG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function WG(t){return(WG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ZG=Object.keys(GG).map((function(t){return{title:t,values:GG[t]}})),qG=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NG(t,e)}(i,t);var e,n,r,o=KG(i);function i(){return XG(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{values:pt(this.props.values)}}},{key:"template",value:function(){return"\n            <div class='small-editor color-matrix-editor' >\n                <div ref='$body'></div>\n                <div class='title'> Mix Color Template </div>\n                <div class='color-matrix-template' ref='$sample'></div>\n            </div>\n        "}},{key:Jr("$body"),value:function(){return{cssText:"\n                display: grid;\n                grid-template-columns: repeat(".concat(6,", 1fr);\n                grid-column-gap: 2px;\n                grid-row-gap: 2px;\n                text-align: left; \n            ")}}},{key:Ur("$sample"),value:function(){return ZG.map((function(t,e){return"<div class='sample-item' title='".concat(t.title,"' data-index=\"").concat(e,'">').concat(t.title,"</div>")}))}},{key:lr("$sample .sample-item"),value:function(t){var e=+t.$dt.attr("data-index"),n=ZG[e];this.updateData({values:pt(n.values)}),this.load("$body")}},{key:Ur("$body"),value:function(){var t=this.state.values,e=["R","G","B","A"];return"\n            <div></div>\n            <div>R</div>\n            <div>G</div>\n            <div>B</div>\n            <div>A</div>\n            <div>M</div>\n        "+t.map((function(t,n){var r="";return n%5==0&&(r="<div>".concat(e[Math.floor(n/5)],"</div>")),"\n                ".concat(r,'\n                <div class=\'number-editor\'>\n                    <input type="number" value="').concat(t,'" step="0.01" data-index="').concat(n,'" />\n                </div>\n            ')}))}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.values,this.props.params)}},{key:Or("$body input"),value:function(t){var e=t.$dt,n=+e.attr("data-index"),r=+e.value;this.state.values[n]=r,this.updateData()}}])&&YG(e.prototype,n),r&&YG(e,r),i}(wi),JG={dancingStroke:[{type:"SourceAlpha",id:"strokeSource",bound:{x:100,y:100},connected:[{id:"morphology"}]},{type:"Morphology",id:"morphology",operator:"dilate",radius:"3 3",bound:{x:100,y:200},in:[{id:"strokeSource"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"#30597E",opacity:1,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"morphology"}],operator:"in",connected:[{id:"composite2"}]},{type:"SourceAlpha",id:"strokeSourceAlpha2",bound:{x:400,y:200},connected:[{id:"composite2"}]},{type:"Composite",id:"composite2",bound:{x:400,y:150},in:[{id:"composite"},{id:"strokeSourceAlpha2"}],operator:"out",connected:[{id:"displacementMap"}]},{type:"Turbulence",id:"turbulence",filterType:"fractalNoise",baseFrequency:"0.01 0.02",numOctaves:1,seed:0,stitchTiles:"stitch",bound:{x:400,y:200},connected:[{id:"displacementMap"}]},{type:"DisplacementMap",id:"displacementMap",scale:17,xChannelSelector:"A",yChannelSelector:"A",bound:{x:400,y:200},in:[{id:"composite2"},{id:"turbulence"}],connected:[{id:"merge"}]},{type:"SourceGraphic",id:"strokeSourceGraphic",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"strokeSourceGraphic"},{id:"displacementMap"}]}],stroke:[{type:"SourceAlpha",id:"strokeSource",bound:{x:100,y:100},connected:[{id:"morphology"}]},{type:"Morphology",id:"morphology",operator:"dilate",radius:"3 3",bound:{x:100,y:200},in:[{id:"strokeSource"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"#30597E",opacity:1,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"morphology"}],operator:"in",connected:[{id:"merge"}]},{type:"SourceGraphic",id:"strokeSourceGraphic",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"composite"},{id:"strokeSourceGraphic"}]}],grayscale:[{type:"Saturate",values:"0"}],shadow:[{type:"SourceAlpha",id:"shadowSource",bound:{x:100,y:100},connected:[{id:"offset"}]},{type:"Offset",id:"offset",bound:{x:200,y:100},dx:10,dy:10,in:[{id:"shadowSource"}],connected:[{id:"blur"}]},{type:"GaussianBlur",id:"blur",bound:{x:300,y:100},stdDeviationX:5,stdDeviationY:5,in:[{id:"offset"}],connected:[{id:"composite"}]},{type:"Flood",id:"flood",bound:{x:100,y:200},color:"black",opacity:.7,connected:[{id:"composite"}]},{type:"Composite",id:"composite",bound:{x:400,y:150},in:[{id:"flood"},{id:"blur"}],operator:"in",connected:[{id:"merge"}]},{type:"SourceAlpha",id:"shadowSource2",bound:{x:400,y:200},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:500,y:150},in:[{id:"composite"},{id:"shadowSource2"}]}],innerShadow:[{type:"Flood",id:"flood",bound:{x:100,y:200},color:"black",opacity:1,connected:[{id:"composite1"}]},{type:"SourceAlpha",id:"shadowSource",bound:{x:100,y:100},connected:[{id:"composite1"}]},{type:"Composite",id:"composite1",bound:{x:200,y:150},in:[{id:"flood"},{id:"shadowSource"}],operator:"out",connected:[{id:"offset"}]},{type:"Offset",id:"offset",bound:{x:300,y:150},dx:4,dy:4,in:[{id:"composite1"}],connected:[{id:"blur"}]},{type:"GaussianBlur",id:"blur",bound:{x:400,y:150},stdDeviationX:4,stdDeviationY:4,edge:"none",in:[{id:"offset"}],connected:[{id:"composite2"}]},{type:"SourceAlpha",id:"shadowSource2",bound:{x:400,y:250},connected:[{id:"composite2"}]},{type:"Composite",id:"composite2",bound:{x:500,y:150},in:[{id:"blur"},{id:"shadowSource2"}],operator:"out",connected:[{id:"merge"}]},{type:"SourceGraphic",id:"shadowSource3",bound:{x:500,y:250},connected:[{id:"merge"}]},{type:"Merge",id:"merge",bound:{x:600,y:150},in:[{id:"composite2"},{id:"shadowSource3"}]}]};function QG(t){return(QG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tH(t){return function(t){if(Array.isArray(t))return eH(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return eH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eH(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oH(t,e){return(oH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function iH(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cH(t);if(e){var o=cH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aH(this,n)}}function aH(t,e){return!e||"object"!==QG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cH(t){return(cH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uH=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oH(t,e)}(i,t);var e,n,r,o=iH(i);function i(){return nH(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{value:this.props.value}}},{key:"template",value:function(){return"\n            <div class='image-select-editor' ref='$body'></div>\n        "}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:Ur("$body"),value:function(){return"\n            <div class='preview-container'>\n                <img src=\"".concat(this.state.value,"\" />\n                <input type='file' ref='$file' accept=\"image/*\" />\n            </div>\n            <div class='select-container'>\n                <button type=\"button\" ref='$select'>Select a image</button>\n            <div>\n        ")}},{key:wr("$file"),value:function(t){var e=this,n=tH(t.target.files);n.length&&this.emit("updateImageAssetItem",n[0],(function(t){e.trigger("changeImageSelectEditor",t)}))}},{key:lr("$select"),value:function(){this.emit("showImageSelectPopup",{context:this,changeEvent:"changeImageSelectEditor",value:this.state.value})}},{key:gi("changeImageSelectEditor"),value:function(t){this.updateData({value:t}),this.refresh()}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&rH(e.prototype,n),r&&rH(e,r),i}(wi);function sH(t){return(sH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lH(Object(n),!0).forEach((function(e){pH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dH(t,e,n){return(dH="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gH(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vH(t,e){return(vH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bH(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gH(t);if(e){var o=gH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mH(this,n)}}function mH(t,e){return!e||"object"!==sH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gH(t){return(gH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wH=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vH(t,e)}(i,t);var e,n,r,o=bH(i);function i(){return yH(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getBlendList",value:function(){var t=this;return kC.split(",").map((function(e){return"".concat(e,":").concat(t.$i18n("blend.".concat(e)))}))}},{key:"initState",value:function(){return fH(fH({},dH(gH(i.prototype),"initState",this).call(this)),{},{options:this.getBlendList()})}}])&&hH(e.prototype,n),r&&hH(e,r),i}(cL);function OH(t){return(OH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return SH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function PH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jH(Object(n),!0).forEach((function(e){xH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EH(t,e){return(EH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=TH(t);if(e){var o=TH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CH(this,n)}}function CH(t,e){return!e||"object"!==OH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TH(t){return(TH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var DH=[{label:"GRAPHIC REFERENCES",items:[{label:"Source Graphic",value:"SourceGraphic"},{label:"Source Alpha",value:"SourceAlpha"},{label:"Background Image",value:"BackgroundImage"},{label:"Background Alpha",value:"BackgroundAlpha"},{label:"Fill Paint",value:"FillPaint"},{label:"Stroke Paint",value:"StrokePaint"}]},{label:"SOURCES",items:[{label:"Flood",value:"Flood"},{label:"Turbulence",value:"Turbulence"},{label:"Image",value:"Image"}]},{label:"MODIFIER",items:[{label:"Color Matrix",value:"ColorMatrix"},{label:"Saturate",value:"Saturate"},{label:"HueRotate",value:"HueRotate"},{label:"LuminanceToAlpha",value:"LuminanceAlpha"},{label:"Drop Shadow",value:"DropShadow"},{label:"Morphology",value:"Morphology"},{label:"Convolve Matrix",value:"ConvolveMatrix"},{label:"Offset",value:"Offset"},{label:"Gaussian Blur",value:"GaussianBlur"},{label:"Tile",value:"Tile"}]},{label:"LIGHTING",items:[{label:"Specular Lighting",value:"SpecularLighting"},{label:"Diffuse Lighting",value:"DiffuseLighting"},{label:"Point Light",value:"PointLight"},{label:"Spot Light",value:"SpotLight"},{label:"Distant Light",value:"DistantLight"}]},{label:"COMBINERS",items:[{label:"Blend",value:"Blend"},{label:"Composite",value:"Composite"},{label:"Merge",value:"Merge"},{label:"DisplacementMap",value:"DisplacementMap"}]}],AH=[{label:"Template",items:[{label:"Grayscale",value:"grayscale"},{label:"Shadow",value:"shadow"},{label:"Inner Shadow",value:"innerShadow"},{label:"Stroke",value:"stroke"},{label:"Dancing Stroke",value:"dancingStroke"}]}];function IH(t){switch(t){case"SpecularLighting":return vm.specular;case"DiffuseLighting":return vm.diffuse;case"SourceGraphic":case"SourceAlpha":return vm.image;case"BackgroundImage":case"BackgroundAlpha":return vm.outline_image;case"Flood":return vm.palette;case"Image":return vm.landscape;case"GaussianBlur":return vm.blur;case"ColorMatrix":return vm.blur_linear;case"Turbulence":return vm.waves;case"Saturate":return vm.vintage;case"HueRotate":return vm.looks;case"LuminanceAlpha":return vm.opacity;case"DropShadow":return vm.shadow;case"Morphology":return vm.broken_image;case"ConvolveMatrix":return vm.camera_roll;case"Offset":return vm.transform;case"Tile":return vm.view_comfy;case"Blend":return vm.gradient;case"Composite":return vm.merge;case"Merge":return vm.settings_input_component;case"DisplacementMap":return vm.texture}return""}function VH(t){switch(t){case"SourceGraphic":case"SourceAlpha":case"BackgroundImage":case"BackgroundAlpha":case"FillPaint":case"StrokePaint":return"graphic";case"Flood":case"Turbulence":case"Image":return"source";case"GaussianBlur":case"ColorMatrix":case"Saturate":case"HueRotate":case"LuminanceAlpha":case"DropShadow":case"Morphology":case"ConvolveMatrix":case"Offset":case"Tile":return"modifier";case"SpecularLighting":case"DiffuseLighting":case"SpotLight":case"PointLight":case"DistantLight":return"lighting";case"Blend":case"Composite":case"Merge":case"DisplacementMap":return"combiner"}return""}var LH=[45],MH=[20],zH={1:[-7],2:[-7],3:[-7],4:[-7],5:[-7]},BH={1:[0],2:[-7,7],3:[-14,0,14],4:[-21,-7,7,21],5:[-28,-14,0,14,28]};Object.keys(BH).forEach((function(t){BH[t]=BH[t].map((function(t){return t+20}))}));var FH=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EH(t,e)}(i,t);var e,n,r,o=_H(i);function i(){return RH(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{BlendSelectEditor:wH,ColorMatrixEditor:qG,InputArrayEditor:SG,NumberRangeEditor:eB,RangeEditor:vL,ColorViewEditor:GL,SelectEditor:cL,TextEditor:dG,FuncFilterEditor:FG,ImageSelectEditor:uH}}},{key:"makeFilterSelect",value:function(){var t=this;return"\n  \n    <div class='filter-item-list' ref=\"$filterSelect\">\n  \n      ".concat(je(DH,(function(e){return"\n          <div class='group' label=\"".concat(t.$i18n(e.label),'">\n            ').concat(je(e.items,(function(e){return'\n                <div class=\'item\' draggable="true" value="'.concat(e.value,"\">\n                  <span class='icon'>").concat(IH(e.value),"</span>\n                  ").concat(t.$i18n(e.label),"\n                </div>\n                ")})),"\n          </div>\n        ")})),"\n    </div>\n    ")}},{key:"makeFilterTemplateSelect",value:function(){var t=this;return"\n  \n    <div class='filter-item-list' ref=\"$filterTemplateSelect\">\n  \n      ".concat(je(AH,(function(e){return"\n          <div class='group' label=\"".concat(t.$i18n(e.label),'">\n            ').concat(je(e.items,(function(e){return' <div class=\'item\' draggable="true" value="'.concat(e.value,'">').concat(t.$i18n(e.label),"</div>")})),"\n          </div>\n        ")})),"\n    </div>\n    ")}},{key:"initState",value:function(){return{filters:this.parseFilter(this.props.value||[]),selectedTabIndex:1,selectedIndex:-1,selectedFilter:null}}},{key:"template",value:function(){return'\n      <div class=\'svg-filter-editor filter-list\'>\n        <div class=\'left\'>\n          <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n              <div class="tab-item selected" data-value="1" title=\'Item\'>\n                <label class=\'icon\'>'.concat(this.$i18n("svg.filter.editor.tab.filter"),'</label>\n              </div>\n              <div class="tab-item" data-value="2" title="Preset">\n                <label class=\'icon\'>').concat(this.$i18n("svg.filter.editor.tab.preset"),'</label>\n              </div>\n              <div class="tab-item" data-value="3" title="Asset">\n                <label class=\'icon\'>').concat(this.$i18n("svg.filter.editor.tab.asset"),'</label>\n              </div>\n            </div>\n            <div class="tab-body">\n              <div class="tab-content selected" data-value="1">\n                ').concat(this.makeFilterSelect(),'\n              </div>\n              <div class="tab-content" data-value="2">\n                ').concat(this.makeFilterTemplateSelect(),"\n              </div>\n                     \n            </div>\n          </div>\n        </div>\n        <div  class='center'>\n          <div class='graph'>\n            <div class='drag-line-panel' ref='$dragLinePanel'></div>          \n            <div class='connected-line-panel' ref='$connectedLinePanel'></div>\n            <div class='graph-panel' ref='$graphPanel' droppable=\"true\"></div>\n          </div>\n        </div>\n        <div class='right'>\n          <div class='filter-list' ref='$filterList'></div>\n        </div>\n      </div>")}},{key:lr("$header .tab-item:not(.empty-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedTabIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedTabIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedTabIndex:e},!1))}},{key:dr("$filterSelect .item"),value:function(t){var e=t.$dt.attr("value");t.dataTransfer.setData("filter/type",e)}},{key:br("$connectedLinePanel")+Nr,value:function(){}},{key:vr("$connectedLinePanel")+Nr,value:function(t){var e={x:t.offsetX,y:t.offsetY},n=t.dataTransfer.getData("filter/type");this.makeFilterNode(n,{bound:e})}},{key:"makeFilterNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state.filters.push(this.makeFilter(t,e)),this.state.selectedIndex=this.state.filters.length-1,this.state.selectedFilter=this.state.filters[this.state.selectedIndex],this.refresh(),this.modifyFilter()}},{key:"applyTemplate",value:function(t){var e=JG[t];e&&(this.setState({selectedIndex:-1,selectedFilter:null,filters:this.parseFilter(e)},!1),this.refresh(),this.modifyFilter())}},{key:"getSpec",value:function(t){return n$[t]}},{key:"makeFilterEditorTemplate",value:function(t,e,n){var r="".concat(e.type).concat(n).concat(this.state.selectedIndex).concat(Date.now());if("color-matrix"===t.inputType)return"\n        <div>\n          <ColorMatrixEditor \n            ref='$colorMatrix".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"       \n            column='").concat(t.column,"' \n            values='").concat(e[n].join(" "),'\' \n            onchange="changeRangeEditor"\n          />\n        </div>\n        ');if("input-array"===t.inputType)return"\n        <div>\n          <InputArrayEditor \n            ref='$inputArray".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,'"       \n            column-label="R,G,B,A,M",\n            row-label="R,G,B,A",\n            column=\'').concat(t.column,"' \n            values='").concat(e[n].join(" "),'\' \n            onchange="changeRangeEditor"\n          />\n        </div>\n        ');if("blend"===t.inputType)return"\n        <div>\n          <BlendSelectEditor \n            ref='$blend".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"\n            value='").concat(e[n].toString(),'\' \n            onchange="changeRangeEditor"             \n          />\n        </div>\n        ');if("select"===t.inputType){var o=t.options;return le(t.options)&&(o=t.options(this.state.filters)),"\n          <div>\n            <SelectEditor \n              ref='$select".concat(r,"' \n              label=\"").concat(t.title,"\"\n              options='").concat(o,"' \n              key=\"").concat(n,"\"\n              value='").concat(e[n].toString(),'\' \n              onchange="changeRangeEditor"             \n            />\n          </div>\n          ')}return"text"===t.inputType?"\n        <div>\n          <TextEditor \n            ref='$text".concat(r,"' \n            label=\"").concat(t.title,'"\n            key="').concat(n,"\"\n            value='").concat(e[n].toString(),'\' \n            onchange="changeTextEditor"\n          />\n        </div>\n        '):"number-range"===t.inputType?" \n        <div>\n          <NumberRangeEditor \n            ref='$numberrange".concat(r,"' \n            label=\"").concat(t.title,"\" \n            layout='block'             \n            min=\"").concat(t.min,'"\n            max="').concat(t.max,'"\n            step="').concat(t.step,'"\n            key="').concat(n,'" \n            value="').concat(e[n].toString(),'" \n            onchange="changeRangeEditor" \n          />\n        </div>\n      '):"color"===t.inputType?"\n        <div>\n          <ColorViewEditor \n            ref='$colorview".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeSVGFilterColorViewEditor" \n          />\n        </div>\n      '):"FuncFilter"===t.inputType?"\n        <div>\n          <FuncFilterEditor \n            ref='$funcFilter".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeFuncFilterEditor" \n          />\n        </div>\n      '):"ImageSelectEditor"===t.inputType?"\n        <div>\n          <ImageSelectEditor \n            ref='$imageSelect".concat(r,"' \n            label=\"").concat(t.title,'" \n            key="').concat(n,'"\n            value="').concat(e[n].toString(),'" \n            onchange="changeRangeEditor" \n          />\n        </div>\n      '):"\n      <div>\n        <RangeEditor \n          ref='$range".concat(r,"' \n          layout='block' \n          calc='false' \n          label=\"").concat(t.title,'" \n          min="').concat(t.min,'"\n          max="').concat(t.max,'"\n          step="').concat(t.step,'"\n          key="').concat(n,'" \n          value="').concat(e[n].toString(),'" \n          units="').concat(t.units.join(","),'" \n          onchange="changeRangeEditor" \n        />\n      </div>\n    ')}},{key:"makeOneFilterTemplate",value:function(t,e){var n=this;return'\n    <div class="filter-item">\n      <div class="title">\n        <label>'.concat(e.type,'</label>\n        <div class="filter-menu">\n          <button type="button" class="del">').concat(vm.remove,'</button>\n        </div>\n      </div>\n      <div class="filter-ui">\n        ').concat(te(t,(function(t,r){return n.makeFilterEditorTemplate(r,e,t)})),"\n\n      </div>\n    </div>\n  ")}},{key:"makeFilterTemplate",value:function(t){return this.makeOneFilterTemplate(this.getSpec(t.type),t)}},{key:Ur("$filterList"),value:function(){return this.state.selectedFilter&&!1===this.state.selectedFilter.isSource()?this.makeFilterTemplate(this.state.selectedFilter):""}},{key:"modifyFilter",value:function(){var t=this;this.state.filters.forEach((function(e){e.isLight()&&e.connected.length&&e.connected.forEach((function(n){t.state.filters.filter((function(t){return t.id===n.id})).forEach((function(t){t.reset({lightInfo:e.toLightString()})}))}))})),this.parent.trigger(this.props.onchange,this.props.key,this.state.filters)}},{key:"parseFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map((function(t){return t$.parse(t)}))}},{key:"makeFilter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t$.parse(PH(PH({},e),{},{type:t}))}},{key:lr("$filterSelect .item[value]"),value:function(t){var e=t.$dt.attr("value");this.makeFilterNode(e)}},{key:lr("$filterTemplateSelect .item[value]"),value:function(t){var e=t.$dt.attr("value");this.applyTemplate(e)}},{key:lr("$filterList .filter-menu .del"),value:function(t){this.removeFilter(this.state.selectedFilter.id)}},{key:Ur("$graphPanel"),value:function(){return this.makeGraphPanel()}},{key:"selectFilter",value:function(t){this.setState({selectedIndex:t,selectedFilter:this.state.filters[t]},!1),this.load("$filterList")}},{key:Er("$graphPanel .filter-node")+Xr()+Yr(),value:function(t){this.$target=t.$dt,this.$point=null,this.pointType="object",this.pointIndex=0;var e=this.refs.$graphPanel.rect();this.rect=e;var n=+this.$target.attr("data-index");this.selectFilter(n),this.$target.onlyOneClass("selected");var r=er.create(t.target);if(r.hasClass("out"))this.$point=r,this.pointType="out",this.pointIndex=0;else if(r.hasClass("in"))this.$point=r,this.pointType="in",this.pointIndex=+r.attr("data-index");else{var o=this.state.selectedFilter;this.startXY=pe(o.bound)}if("in"===this.pointType||"out"===this.pointType){var i=r.rect(),a=i.x-e.x,c=i.y-e.y,u=a+i.width/2,s=c+i.height/2;this.startXY={x:u,y:s}}this.startXY.dx=0,this.startXY.dy=0,this.load("$dragLinePanel")}},{key:Ur("$dragLinePanel"),value:function(){if("in"===this.pointType||"out"===this.pointType){var t=this.startXY,e=t.x,n=t.y,r=t.dx,o=t.dy;return"\n      <svg>\n        <path ".concat(Oe({class:"drag-line",fill:"transparent","stroke-width":1,d:"M".concat(e,",").concat(n,"L").concat(e+r,",").concat(n+o,"Z")})," />\n      </svg>\n      ")}return""}},{key:"makeConnectedPath",value:function(t){var e=new sc,n=t[0],r=t[t.length-1];if(!n)return"";if(!r)return"";var o=Math.abs(n.x-r.x)/2;return e.M(n).C({x:n.x+o,y:n.y},{x:r.x-o,y:r.y},r),e.d}},{key:"createPath",value:function(t,e){if(e.path)return e.path;var n=t.bound.x+LH[0],r=t.bound.y+MH[0],o=this.state.filters.map((function(t,e){return{it:t,index:e}})).find((function(t){return!!t&&!!t.it&&t&&t.it.id===e.id})),i="".concat(o.it.getInCount()),a=o.it.in.map((function(t,e){return{it:t,index:e}})).find((function(e){return!!e&&!!e.it&&e.it.id===t.id}));if(!a)return[];var c=a.index;return[{x:n,y:r},{x:o.it.bound.x+zH[i][0],y:o.it.bound.y+BH[i][c]}]}},{key:Ur("$connectedLinePanel"),value:function(){var t=this;return"\n      <svg>\n        ".concat(this.state.filters.map((function(e){return e.connected.map((function(n){var r=t.createPath(e,n),o=VH(e.type);return"\n              <path ".concat(Oe({class:"connected-line","data-source-type":o,d:t.makeConnectedPath(r)})," />\n\n              ").concat(r.length&&"\n                <circle ".concat(Oe({"data-source-type":o,"data-target-id":n.id,"data-source-id":e.id,class:"connected-remove-circle",cx:(r[0].x+r[1].x)/2,cy:(r[0].y+r[1].y)/2})," />\n              "),"\n              \n            ")})).join("")})).join(""),"\n      </svg>\n    ")}},{key:lr("$connectedLinePanel .connected-remove-circle"),value:function(t){var e=kH(t.$dt.attrs("data-target-id","data-source-id"),2),n=e[0],r=e[1],o=this.state.filters;o.filter((function(t){return t.id===r})).forEach((function(t){t.connected=t.connected.filter((function(t){return t.id!=n}))})),o.filter((function(t){return t.id===n})).forEach((function(t){t.in=t.in.map((function(t){return t&&t.id==r?null:t}))})),this.refresh(),this.modifyFilter()}},{key:"getCenterXY",value:function(t){var e=t.rect(),n=e.x-this.rect.x,r=e.y-this.rect.y;return{x:n+e.width/2,y:r+e.height/2}}},{key:"end",value:function(t,e){if("in"===this.pointType||"out"===this.pointType){this.startXY.dx=t,this.startXY.dy=e;var n=this.state.selectedFilter,r=this.$config.get("bodyEvent"),o=er.create(r.target),i=o.closest("filter-node");if("out"===this.pointType){if(o.hasClass("in")&&(c=this.state.filters[+i.attr("data-index")]))if(!c.hasLight()&&n.isLight());else{var a=+o.attr("data-index");c.in[a]||(c.setIn(a,n),n.setConnected(c))}}else if("in"===this.pointType){var c;o.hasClass("out")&&(c=this.state.filters[+i.attr("data-index")])&&(n.hasLight()&&!c.isLight()||n.in[this.pointIndex]||(n.setIn(this.pointIndex,c),c.setConnected(n)))}this.pointType=""}this.load("$dragLinePanel"),this.load("$connectedLinePanel"),this.modifyFilter()}},{key:"move",value:function(t,e){var n=this.state.selectedFilter;n&&(this.startXY.dx=t,this.startXY.dy=e,"in"===this.pointType||"out"===this.pointType?this.load("$dragLinePanel"):(n.reset({bound:{x:this.startXY.x+t,y:this.startXY.y+e}}),this.$target.css({left:R.px(n.bound.x),top:R.px(n.bound.y)}),this.load("$connectedLinePanel")))}},{key:"makeGraphPanel",value:function(){var t=this;return this.state.filters.map((function(e,n){return"\n        <div class='filter-node ".concat(ke({selected:n===t.state.selectedIndex}),"' data-type=\"").concat(e.type,'" data-index="').concat(n,'" data-filter-id="').concat(e.id,"\" style='left: ").concat(e.bound.x,"px;top: ").concat(e.bound.y,"px;'>\n          <div class='label'>").concat(t.$i18n(e.type),"</div>\n          <div class='remove'>").concat(vm.close,"</div>\n          <div class='preview' data-source-type=\"").concat(VH(e.type),"\" data-filter-type='").concat(e.type,"'>").concat(IH(e.type),"</div>\n          <div class='in-list'>\n            ").concat(de(e.getInCount()).map((function(t,e){return"<div class='in' data-index='".concat(e,"'></div>")})).join(""),"\n          </div>\n          \n          <div class='out' data-index=\"0\">").concat(vm.chevron_right,"</div>\n          ").concat(e.hasLight()?"<div class='light'  data-index=\"0\"></div>":"","\n        </div>\n      ")}))}},{key:gi("changeSVGFilterColorViewEditor"),value:function(t,e,n){this.trigger("changeRangeEditor",t,e,n)}},{key:gi("changeFuncFilterEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(xH({},t,e)),this.modifyFilter()}},{key:gi("changeRangeEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(xH({},t,e)),this.modifyFilter()}},{key:gi("changeTextEditor"),value:function(t,e){var n=this.state.selectedFilter;n&&n.reset(xH({},t,e)),this.modifyFilter()}},{key:"removeFilter",value:function(t){var e=this.state.filters.filter((function(e){return e.id!=t}));e.forEach((function(e){e.connected=e.connected.filter((function(e){return e.id!=t})),e.in=e.in.filter((function(e){return e.id!=t}))})),this.state.selectedFilter.id===t&&(this.state.selectedFilter=null,this.state.selectedIndex=-1),this.setState({filters:e}),this.modifyFilter()}},{key:lr("$graphPanel .filter-node .remove"),value:function(t){var e=+t.$dt.closest("filter-node").attr("data-index"),n=this.state.filters[e];this.removeFilter(n.id)}}])&&$H(e.prototype,n),r&&$H(e,r),i}(wi);function GH(t){return(GH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YH(t,e){return(YH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function NH(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=UH(t);if(e){var o=UH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KH(this,n)}}function KH(t,e){return!e||"object"!==GH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UH(t){return(UH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var WH=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YH(t,e)}(i,t);var e,n,r,o=NH(i);function i(){return HH(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{value:this.props.value}}},{key:"template",value:function(){return"<div class='select-editor list-view-editor' ref='$body'></div>"}},{key:Jr("$body"),value:function(){return{"data-column":this.props.column||1}}},{key:Ur("$body"),value:function(){var t=this;return Object.keys(vm).map((function(e){var n=vm[e],r=e===t.state.value?"selected":"";return"<div class='list-view-item ".concat(r,"'  data-key='").concat(e,"'>").concat(n,"</div>")}))}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.state.value=t,this.refresh()}},{key:lr("$body .list-view-item"),value:function(t){var e=t.$dt.attr("data-key");t.$dt.onlyOneClass("selected"),this.updateData({value:e})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&XH(e.prototype,n),r&&XH(e,r),i}(wi);function ZH(t){return(ZH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QH(t,e){return(QH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tX(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nX(t);if(e){var o=nX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eX(this,n)}}function eX(t,e){return!e||"object"!==ZH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nX(t){return(nX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rX=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QH(t,e)}(i,t);var e,n,r,o=tX(i);function i(){return qH(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{IconListViewEditor:WH}}},{key:"initState",value:function(){return{fit:!!this.props.value.fit,icon:this.props.value.icon||""}}},{key:"template",value:function(){var t=this.state.fit?'checked="checked"':"";return"\n      <div class='svg-clip-path-editor clippath-list'>\n          <div class='label' >\n              <label>".concat(this.props.title||"","</label>\n              <div class='tools'>\n              </div>\n          </div>\n          <div>\n            <label>Fit to size <input type='checkbox' ref='$fit' ").concat(t,"  /> </label>\n          </div>\n          <div>\n            <IconListViewEditor ref='$svg' key='svg' value=\"").concat(this.state.icon,'" column="6" onchange=\'changeClipPath\' />\n          </div>\n      </div>')}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyClipPath()}},{key:lr("$fit"),value:function(){this.updateData({fit:this.refs.$fit.checked()})}},{key:gi("changeClipPath"),value:function(t,e){this.updateData({icon:e})}},{key:"modifyClipPath",value:function(){var t=this.state,e=t.icon,n=t.fit;this.parent.trigger(this.props.onchange,this.props.key,{icon:e,fit:n})}}])&&JH(e.prototype,n),r&&JH(e,r),i}(wi);function oX(t){return(oX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iX(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return aX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aX(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sX(t,e){return(sX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lX(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pX(t);if(e){var o=pX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fX(this,n)}}function fX(t,e){return!e||"object"!==oX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pX(t){return(pX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yX=[{key:"top",title:"Top"},{key:"right",title:"Right"},{key:"bottom",title:"Bottom"},{key:"left",title:"Left"}],hX=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sX(t,e)}(i,t);var e,n,r,o=lX(i);function i(){return cX(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL}}},{key:"initState",value:function(){var t=iX(Ab.parse(this.props.value),5),e=t[0],n=t[1],r=t[2],o=t[3],i=t[4];return{isAll:1===e,all:n.clone(),top:n.clone(),right:r.clone(),bottom:o.clone(),left:i.clone()}}},{key:"template",value:function(){return"<div class='direction-editor' ref='$body'></div>"}},{key:gi("changeBorderRadius"),value:function(t,e){var n=this;"all"===t&&yX.forEach((function(t){n.state[t.key]=e.clone(),n.children["$".concat(t.key)].setValue(e.clone())})),this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:Ur("$body"),value:function(){var t=this,e=this.state.isAll?"all":"partitial",n=this.state.all,r="all"===e?"display:none":"display:block";return'\n      <div class="property-item direction-item">\n        <div class="radius-selector" data-selected-value="'.concat(e,'" ref="$selector">\n          <button type="button" data-value="all">').concat(vm.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(vm.border_inner,"\n          </button>\n        </div>\n        <div class=\"radius-value\">\n          <RangeEditor ref='$all' key='all' value=\"").concat(n,'" onchange=\'changeBorderRadius\' />\n        </div>\n      </div>\n      <div\n        class="property-item full direction-item"\n        ref="$partitialSetting"\n        style="').concat(r,'"\n      >\n        <div class="radius-setting-box">\n          ').concat(yX.map((function(e){var n=t.state[e.key];return"\n              <div>\n                  <RangeEditor ref='$".concat(e.key,"' label='").concat(e.title,"' key='").concat(e.key,"' value=\"").concat(n,"\" onchange='changeBorderRadius' />\n              </div>  \n            ")})).join(""),"\n        </div>\n      </div>\n    ")}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1);var e=[];e=this.state.isAll?[1,this.state.all,this.state.all,this.state.all,this.state.all]:[4,this.state.top,this.state.right,this.state.bottom,this.state.left],this.parent.trigger(this.props.onchange,e)}},{key:lr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.updateData({isAll:"all"===e})}}])&&uX(e.prototype,n),r&&uX(e,r),i}(wi);function dX(t){return(dX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mX(t,e){return(mX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gX(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=OX(t);if(e){var o=OX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wX(this,n)}}function wX(t,e){return!e||"object"!==dX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function OX(t){return(OX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kX=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mX(t,e)}(i,t);var e,n,r,o=gX(i);function i(){return vX(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"afterRender",value:function(){var t=this;this.colorPicker=fb.create({$editor:this.$editor,type:"sketch",position:"inline",container:this.refs.$color.el,color:this.props.value||"rgba(0, 0, 0, 1)",onChange:function(e){t.changeColor(e)},onLastUpdate:function(e){t.changeEndColor(e)}})}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)"}}},{key:"template",value:function(){return'\n      <div ref="$color"></div>\n    '}},{key:"changeColor",value:function(t){this.parent.trigger(this.props.onchange,t)}},{key:"changeEndColor",value:function(t){this.parent.trigger(this.props.onchangeend,t)}},{key:"setValue",value:function(t){this.colorPicker.initColorWithoutChangeEvent(t)}},{key:"refresh",value:function(){this.colorPicker.initColorWithoutChangeEvent(this.state.color)}}])&&bX(e.prototype,n),r&&bX(e,r),i}(wi);function SX(t){return(SX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jX(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return PX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PX(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $X(t,e){return($X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function EX(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=CX(t);if(e){var o=CX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _X(this,n)}}function _X(t,e){return!e||"object"!==SX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CX(t){return(CX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var TX=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$X(t,e)}(i,t);var e,n,r,o=EX(i);function i(){return xX(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=this.props["key-value-char"]||":",e=this.props.split||",",n=(this.props.options||"").split(e).map((function(t){return t.trim()})),r=(this.props.icons||"").split(e).map((function(t){return t.trim()})),o=(this.props.colors||"").split(e).map((function(t){return t.trim()})),i=this.props.value||"";return{keyValueChar:t,label:this.props.label||"",options:n,icons:r,colors:o,value:i}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='select-icon-editor ".concat(t?"has-label":"","'>\n                ").concat(t?'<label title="'.concat(t,'">').concat(t,"</label>"):"","\n                <div class='items' ref='$options'></div>\n            </div>\n        ")}},{key:lr("$close"),value:function(){this.updateData({value:""}),this.refresh()}},{key:"getValue",value:function(){return this.state.value||""}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:Ur("$options")+Fr,value:function(){var t=this;return this.state.options.map((function(e,n){var r=e,o=e,i="";if((c=e).includes(t.state.keyValueChar)){var a=jX(c.split(t.state.keyValueChar),2),c=a[0];r=a[1]}var u=c===t.state.value,s=u?"selected":"";if(""===e)r=vm.close,o="close";else{var l=t.state.icons[n];vm[l]&&(i="icon"),o=r,r=vm[l]||r||l||e}var f=t.state.colors[n],p={};return u&&f&&(p["background-color"]=f),"<div class='select-icon-item ".concat(s," ").concat(i,"' style='").concat(ge(p),"' data-value=\"").concat(c,"\" title='").concat(o,"'>").concat(r,"</div>")}))}},{key:lr("$options .select-icon-item"),value:function(t){var e=t.$dt.attr("data-value");this.updateData({value:e}),this.refresh()}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.props.params)}}])&&RX(e.prototype,n),r&&RX(e,r),i}(wi);function DX(t){return(DX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function IX(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AX(Object(n),!0).forEach((function(e){VX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function VX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zX(t,e){return(zX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BX(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=GX(t);if(e){var o=GX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FX(this,n)}}function FX(t,e){return!e||"object"!==DX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GX(t){return(GX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var HX=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zX(t,e)}(i,t);var e,n,r,o=BX(i);function i(){return LX(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{index:this.props.index,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,repeat:this.props.repeat,size:this.props.size,blendMode:this.props.blendMode,color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(IX({},t))}},{key:Jr("$miniView"),value:function(){return{style:{"background-image":"linear-gradient(to top right, black, white)","background-repeat":this.state.repeat,"background-size":"7px 7px"}}}},{key:"template",value:function(){return"\n            <div class='background-position-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:lr("$preview"),value:function(t){this.viewBackgroundPositionPopup()}},{key:"viewBackgroundPositionPopup",value:function(){this.emit("showBackgroundImagePositionPopup",{changeEvent:"changeBackgroundPositionPattern",data:this.state},{id:this.id})}},{key:gi("changeBackgroundPositionPattern"),value:function(t,e){e.id===this.id&&this.updateData(IX({},t))}}])&&MX(e.prototype,n),r&&MX(e,r),i}(wi);function XX(t){return(XX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function NX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WX(t,e){return(WX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZX(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=JX(t);if(e){var o=JX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qX(this,n)}}function qX(t,e){return!e||"object"!==XX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JX(t){return(JX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QX=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WX(t,e)}(i,t);var e,n,r,o=ZX(i);function i(){return KX(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{index:this.props.index,image:this.props.image,color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YX(Object(n),!0).forEach((function(e){NX(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}},{key:Jr("$miniView"),value:function(){return{style:{"background-image":this.state.image,"background-size":"cover",color:this.props.color}}}},{key:"template",value:function(){return"\n            <div class='gradient-single-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:lr("$preview"),value:function(t){this.viewGradientPopup()}},{key:"viewGradientPopup",value:function(){this.emit("showGradientPickerPopup",{instance:this,changeEvent:"changeGradientSingle",gradient:this.state.image})}},{key:gi("changeGradientSingle"),value:function(t,e){this.updateData({image:t}),this.refresh()}}])&&UX(e.prototype,n),r&&UX(e,r),i}(wi);function tY(t){return(tY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rY(t,e){return(rY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=aY(t);if(e){var o=aY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iY(this,n)}}function iY(t,e){return!e||"object"!==tY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function aY(t){return(aY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rY(t,e)}(i,t);var e,n,r,o=oY(i);function i(){return eY(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{index:this.props.index,label:this.props.label,simple:"true"===this.props.simple,image:rC.parseImage(this.props.image||"transparent")}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,this.getValue(),this.state.index)}},{key:"getValue",value:function(){return this.state.image.toString()}},{key:"setValue",value:function(t){this.setState({image:rC.parseImage(t)})}},{key:Jr("$fillView"),value:function(){var t=this.state.image;return t?{innerHTML:t.toSVGString(this.fillId)}:{innerHTML:""}}},{key:Jr("$fillColor"),value:function(){var t=this.state.image;return t?{fill:t.toFillValue(this.fillId)}:{fill:"transparent"}}},{key:Jr("$colors"),value:function(){var t=this.state.image;if(!t)return{fill:"transparent"};var e="url"!=t.type?"".concat(t.colorsteps[0].color):"transparent";return(t.type.includes("linear")||t.type.includes("radial"))&&(e=t.colorsteps.map((function(t){return"<span class='color' style='background-color: ".concat(t.color,"' title='").concat(t.color,"'></span>")})).join("")),{innerHTML:"<div> ".concat(e," </div>")}}},{key:"template",value:function(){var t=this.state,e=t.label,n=(t.removable,t.simple);return"\n            <div class='fill-single-editor ".concat(e?"has-label":"","'>\n                ").concat(e?"<label>".concat(e,"</label>"):"","            \n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n\n                        <svg class='color-view' ref='$miniView'>\n                            <defs ref='$fillView'></defs>\n                            <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ref='$fillColor' fill='url(#").concat(this.fillId,")' />\n                        </svg>\n                    </div>\n                </div>\n                <div class='colors ").concat(n?"simple":"","' ref='$colors'></div>\n            </div>\n        ")}},{key:lr("$preview"),value:function(t){this.viewGradientPopup()}},{key:"viewGradientPopup",value:function(){this.emit("showFillPickerPopup",{instance:this,changeEvent:"changeFillSingle",image:this.state.image})}},{key:gi("changeFillSingle"),value:function(t,e){this.updateData({image:rC.parseImage(t)}),this.refresh()}},{key:"fillId",get:function(){return this.id+"fill"}}])&&nY(e.prototype,n),r&&nY(e,r),i}(wi);function uY(t){return(uY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){return function(t){if(Array.isArray(t))return pY(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pY(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dY(t,e){return(dY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mY(t);if(e){var o=mY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bY(this,n)}}function bY(t,e){return!e||"object"!==uY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mY(t){return(mY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gY=["static-gradient","linear-gradient","radial-gradient","image-resource"],wY={"image-resource":vm.photo},OY={top:{x1:"0%",y1:"100%",x2:"0%",y2:"0%"},"top left":{x1:"100%",y1:"100%",x2:"0%",y2:"0%"},"top right":{x1:"0%",y1:"100%",x2:"100%",y2:"0%"},left:{x1:"100%",y1:"0%",x2:"0%",y2:"0%"},right:{x1:"0%",y1:"0%",x2:"100%",y2:"0%"},bottom:{x1:"0%",y1:"0%",x2:"0%",y2:"100%"},"bottom left":{x1:"100%",y1:"0%",x2:"0%",y2:"100%"},"bottom right":{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}},kY=["x1","y1","x2","y2","cx","cy","r","fx","fy","fr","spreadMethod","patternUnits","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight"],SY=["x1","y1","x2","y2","cx","cy","r","fx","fy","fr","patternWidth","patternHeight","imageX","imageY","imageWidth","imageHeight"],jY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dY(t,e)}(i,t);var e,n,r,o=vY(i);function i(){return yY(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{InputRangeEditor:OM,RangeEditor:vL,SelectIconEditor:TX,SelectEditor:cL}}},{key:"initState",value:function(){return{cachedRect:null,index:+(this.props.index||0),value:this.props.value,image:rC.parseImage(this.props.value||"transparent")||__.create()}}},{key:"setValue",value:function(t){this.setState({cachedRect:null,image:rC.parseImage(t)},!1),this.refresh(),this.parent.trigger("changeTabType",this.state.image.type)}},{key:"template",value:function(){var t=this,e=this.state.image,n=(e=e||{}).type||"static-gradient";return"url"===n&&(n="image-resource"),"\n        <div class='fill-editor' data-selected-editor='".concat(n,"'>\n            <div class='gradient-preview'>\n              <div class='gradient-view' ref='$gradientView'>\n                <div class='drag-pointer' ref='$dragPosition'></div>\n              </div>\n              <svg class='pointer-draw' ref='$pointerDrawArea'>\n                <line data-type='line' ref='$line' />\n                <circle r='5' data-type='start' ref='$startPoint' />\n                <circle r='5' data-type='end' ref='$endPoint' />\n                <circle r='5' data-type='center' ref='$centerPoint' />\n                <circle r='5' data-type='f' ref='$fPoint' />\n              </svg>              \n              <div class='preset-position'>\n                <div data-value='top' title='top'>").concat(vm.chevron_right,"</div>\n                <div data-value='right' title='right'>").concat(vm.chevron_right,"</div>\n                <div data-value='left' title='left'>").concat(vm.chevron_right,"</div>\n                <div data-value='bottom' title='bottom'>").concat(vm.chevron_right,"</div>\n                <div data-value='top left' title='top left'>").concat(vm.chevron_right,"</div>\n                <div data-value='top right' title='top right'>").concat(vm.chevron_right,"</div>\n                <div data-value='bottom left' title='bottom left'>").concat(vm.chevron_right,"</div>\n                <div data-value='bottom right' title='bottom right'>").concat(vm.chevron_right,'</div>                \n              </div>\n              <div data-editor=\'image-loader\'>\n                <input type=\'file\' accept="image/*" ref=\'$file\' />\n              </div>              \n            </div>\n            <div class="picker-tab">\n              <div class="picker-tab-list" ref="$tab">\n                ').concat(gY.map((function(t){return"<span class='picker-tab-item ".concat(t,"' data-editor='").concat(t,"'><span class='icon'>").concat(wY[t]||"","</span></span>")})).join(""),"\n              </div>\n            </div>\n            <div class='gradient-steps' data-editor='gradient'>\n                <div class=\"hue-container\" ref=\"$back\"></div>            \n                <div class=\"hue\" ref=\"$steps\">\n                    <div class='step-list' ref=\"$stepList\" ></div>\n                </div>\n            </div>\n            <div class='tools' data-editor='tools'>\n              <RangeEditor label='").concat(this.$i18n("fill.editor.offset"),"' ref='$range' key='length' onchange='changeColorStepOffset' />\n            </div>\n            <div class='sub-editor' ref='$subEditor'> \n                <div data-editor='spreadMethod'>\n                  <SelectIconEditor label='").concat(this.$i18n("fill.editor.spread"),"' ref='$spreadMethod' value=\"pad\" options='pad,reflect,repeat' key='spreadMethod' onchange='changeKeyValue' />\n                </div>  \n                <div data-editor='patternUnits'>\n                  <SelectEditor label='Pattern' ref='$patternUnits' options='userSpaceOnUse' key='patternUnits' onchange='changeKeyValue' />\n                </div>                  \n                ").concat(SY.map((function(n){var r=t.$i18n("fill.editor."+n);return"\n                    <div data-editor='".concat(n,"'>\n                      <RangeEditor label='").concat(r,"' ref='$").concat(n,"' value=\"").concat(t.getImageFieldValue(e,n),"\" key='").concat(n,"' onchange='changeKeyValue' />\n                    </div>\n                  ")})).join(""),"\n                                                                                                                                \n            </div>            \n        </div>\n      ")}},{key:"getImageFieldValue",value:function(t,e){var n=t[e];if(re(n))switch(e){case"cx":case"cy":case"r":case"fx":case"fy":return"50%";case"x1":case"y1":case"y2":case"fr":case"imageX":case"imageY":return"0%";case"x2":case"patternWidth":case"patternHeight":case"imageWidth":case"imageHeight":return"100%"}return n}},{key:wr("$file"),value:function(t){var e=this;this.$selection.currentProject&&fY(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t,(function(t){e.trigger("setImageUrl",t)}))}))}},{key:lr("$el .preset-position [data-value]"),value:function(t){var e=t.$dt.attr("data-value");OY[e]&&(this.state.image.reset(OY[e]),this.refresh(),this.refreshFieldValue(),this.updateData())}},{key:"refreshFieldValue",value:function(){this.children.$x1.setValue(this.state.image.x1),this.children.$y1.setValue(this.state.image.y1),this.children.$x2.setValue(this.state.image.x2),this.children.$y2.setValue(this.state.image.y2),this.children.$cx.setValue(this.state.image.cx),this.children.$cy.setValue(this.state.image.cy),this.children.$r.setValue(this.state.image.r),this.children.$fx.setValue(this.state.image.fx),this.children.$fy.setValue(this.state.image.fy),this.children.$fr.setValue(this.state.image.fr),this.children.$spreadMethod.setValue(this.state.image.spreadMethod),this.children.$patternUnits.setValue(this.state.image.patternUnits),this.children.$patternWidth.setValue(this.state.image.patternWidth),this.children.$patternHeight.setValue(this.state.image.patternHeight),this.children.$imageX.setValue(this.state.image.imageX),this.children.$imageY.setValue(this.state.image.imageY),this.children.$imageWidth.setValue(this.state.image.imageWidth),this.children.$imagenHeight.setValue(this.state.image.imageHeight)}},{key:"getDrawAreaRect",value:function(){return{width:198,height:150}}},{key:"getFieldValue",value:function(t){return R.parse(this.getImageFieldValue(this.state.image,t))}},{key:Jr("$line"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{x1:this.getFieldValue("x1").toPx(e),y1:this.getFieldValue("y1").toPx(n),x2:this.getFieldValue("x2").toPx(e),y2:this.getFieldValue("y2").toPx(n)}}},{key:Jr("$startPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("x1").toPx(e),cy:this.getFieldValue("y1").toPx(n)}}},{key:Jr("$endPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("x2").toPx(e),cy:this.getFieldValue("y2").toPx(n)}}},{key:Jr("$centerPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("cx").toPx(e),cy:this.getFieldValue("cy").toPx(n)}}},{key:Jr("$fPoint"),value:function(){var t=this.getDrawAreaRect(),e=t.width,n=t.height;return{cx:this.getFieldValue("fx").toPx(e),cy:this.getFieldValue("fy").toPx(n)}}},{key:Er("$pointerDrawArea circle[data-type]")+Xr("moveDragPointer"),value:function(t){this.containerRect=this.refs.$pointerDrawArea.rect(),this.startXY=t.xy,this.type=t.$dt.attr("data-type"),this.state.cachedRect=null}},{key:"getRectRate",value:function(t,e,n){var r=t.width,o=t.height,i=t.x,a=t.y;return i>e?e=i:i+r<e&&(e=i+r),a>n?n=a:a+o<n&&(n=a+o),{left:R.percent((e-i)/r*100),top:R.percent((n-a)/o*100)}}},{key:"moveDragPointer",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e,o=this.getRectRate(this.containerRect,n,r),i=o.left,a=o.top;"start"==this.type?(this.state.image.reset({x1:i,y1:a}),this.children.$x1.setValue(i),this.children.$y1.setValue(a),this.bindData("$startPoint"),this.bindData("$line")):"end"==this.type?(this.state.image.reset({x2:i,y2:a}),this.children.$x2.setValue(i),this.children.$y2.setValue(a),this.bindData("$endPoint"),this.bindData("$line")):"center"==this.type?(this.state.image.reset({cx:i,cy:a}),this.children.$cx.setValue(i),this.children.$cy.setValue(a),this.bindData("$centerPoint")):"f"==this.type&&(this.state.image.reset({fx:i,fy:a}),this.children.$fx.setValue(i),this.children.$fy.setValue(a),this.bindData("$fPoint")),this.bindData("$gradientView"),this.updateData()}},{key:lr("$tab .picker-tab-item"),value:function(t){var e=this,n=t.$dt.attr("data-editor");this.$el.attr("data-selected-editor",n),this.parent.trigger("changeTabType",n);var r="image-resource"===n?this.state.image.url:this.state.url,o={};kY.forEach((function(t){o[t]=e.children["$".concat(t)].getValue()})),this.state.image=rC.changeImageType(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sY(Object(n),!0).forEach((function(e){lY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({type:n,url:r,colorsteps:this.state.image.colorsteps||[]},o)),this.refresh(),this.updateData(),this.sendMessage()}},{key:"sendMessage",value:function(t){"linear-gradient"===(t=this.$el.attr("data-selected-editor"))?this.emit("addStatusBarMessage",""):"url"===t||"image-resource"===t?this.emit("addStatusBarMessage",this.$i18n("fill.editor.message.click.image")):this.emit("addStatusBarMessage",this.$i18n("fill.editor.message.drag.position"))}},{key:gi("changeKeyValue"),value:function(t,e){this.state.image.reset(lY({},t,e)),this.bindData("$gradientView"),this.bindData("$line"),this.bindData("$startPoint"),this.bindData("$endPoint"),this.bindData("$centerPoint"),this.bindData("$fPoint"),this.updateData()}},{key:gi("changeColorStepOffset"),value:function(t,e){this.currentStep&&(this.currentStep.percent=e.value,this.state.image.sortColorStep(),this.refresh(),this.updateData())}},{key:lr("$back"),value:function(t){var e=this.refs.$stepList.rect(),n=e.x,r=e.right,o=t.xy.x;o<n?o=n:o>r&&(o=r);var i=(o-n)/e.width*100;this.state.image.insertColorStep(i),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:Jr("$el"),value:function(){var t=this.state.image.type;return"url"===t&&(t="image-resource"),this.parent.trigger("changeTabType",t),{"data-selected-editor":t}}},{key:Jr("$stepList"),value:function(){return{"data-selected-index":this.state.index.toString(),style:{"background-image":this.getLinearGradient()}}}},{key:Jr("$gradientView"),value:function(){return{innerHTML:'\n        <svg x="0" y="0" width="100%" height="100%">\n          <defs>\n            '.concat(this.state.image.toSVGString(this.fillId),'\n          </defs>\n          <rect x="0" y="0" width="100%" height="100%" fill="').concat(this.state.image.toFillValue(this.fillId),'" />\n        </svg>\n      ')}}},{key:Ur("$stepList"),value:function(){var t=this;return(this.state.image.colorsteps||[]).map((function(e,n){var r=t.$selection.isSelectedColorStep(e.id)?"selected":"";return"\n      <div class='step ".concat(r,"' data-id='").concat(e.id,"' style='left: ").concat(e.percent,"%;'>\n        <div class='color-view' style=\"background-color: ").concat(e.color,"\"></div>\n        <div class='arrow' style=\"background-color: ").concat(e.color,'"></div>\n      </div>')}))}},{key:"removeStep",value:function(t){this.state.image.removeColorStep(t),this.refresh(),this.updateData()}},{key:"selectStep",value:function(t){var e=this;this.state.id=t,this.$selection.selectColorStep(t),this.state.image.colorsteps&&(this.currentStep=this.state.image.colorsteps.find((function(t){return e.$selection.isSelectedColorStep(t.id)})),this.children.$range.setValue(R.percent(this.currentStep.percent)),this.parent.trigger("selectColorStep",this.currentStep.color)),this.refresh()}},{key:Er("$stepList .step")+Xr(),value:function(t){var e=t.$dt.attr("data-id");if(t.altKey)return this.removeStep(e),!1;this.selectStep(e),this.startXY=t.xy,this.cachedStepListRect=this.refs.$stepList.rect()}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"move",value:function(t,e){var n=this.getStepListRect(),r=n.x,o=n.right,i=this.startXY.x+t;i<r?i=r:i>o&&(i=o);var a=(i-r)/n.width*100;this.currentStep.percent=a,this.children.$range.setValue(R.percent(a)),this.state.image.sortColorStep(),this.refresh(),this.updateData()}},{key:"refresh",value:function(){this.load()}},{key:"getLinearGradient",value:function(){var t=this.state.image;return"linear-gradient(to right, ".concat(is.toColorString(t.colorsteps),")")}},{key:gi("setColorStepColor"),value:function(t){"static-gradient"===this.state.image.type?(this.state.image.setColor(t),this.refresh(),this.updateData()):this.currentStep&&(this.currentStep.color=t,this.refresh(),this.updateData())}},{key:gi("setImageUrl"),value:function(t){this.state.image&&(this.state.url=t,this.state.image.reset({url:t}),this.refresh(),this.updateData())}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state.image.toString())}},{key:"fillId",get:function(){return this.id+"fill"}}])&&hY(e.prototype,n),r&&hY(e,r),i}(wi);function PY(t){return(PY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return RY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RY(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _Y(t,e){return(_Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function CY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=DY(t);if(e){var o=DY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TY(this,n)}}function TY(t,e){return!e||"object"!==PY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DY(t){return(DY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var AY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_Y(t,e)}(i,t);var e,n,r,o=CY(i);function i(){return $Y(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=this.props.value;return{options:[],label:this.props.label||"",value:t}}},{key:"template",value:function(){var t=this.state.label;return"\n            <div class='svg-filter-select-editor ".concat(t?"has-label":"","'>\n                ").concat(t?"<label>".concat(t,"</label>"):"","\n                <select ref='$options'></select>\n                <button type='button' class='open thin' ref='$open' title='Open SVG Filter Editor'>").concat(vm.fullscreen,"</button>\n                <button type='button' class='remove thin' ref='$remove' title='Remove'>").concat(vm.remove,"</button>\n            </div>\n        ")}},{key:lr("$remove"),value:function(t){this.updateData({value:""})}},{key:lr("$open"),value:function(t){var e=this.state.value;if(e.includes("id")){var n=this.$selection.currentProject.getSVGFilterIndex(e);n>-1&&this.trigger("openSVGFilterPopup",n)}}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.setState({value:t})}},{key:"refresh",value:function(){this.load()}},{key:Jr("$options"),value:function(){return{"data-count":this.state.options.length.toString()}}},{key:Ur("$options"),value:function(){var t=this,e=this.$selection.currentProject,n="";return e&&(n=(n=e.svgfilters.map((function(t){return t.id}))).length?","+n.join(","):""),(n=(n+=",-,new").split(",")).map((function(e){var n=e;if((o=e).includes(":")){var r=xY(o.split(":"),2),o=r[0];n=r[1]}""===n?n=t.props["none-value"]?t.props["none-value"]:"":"-"===n&&(n="----------",o="");var i=o===t.state.value?"selected":"";return"<option ".concat(i,' value="').concat(o,'">').concat(n,"</option>")}))}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({options:t.split(this.state.splitChar).map((function(t){return t.trim()}))})}},{key:"sendMessage",value:function(t){"new"===t?this.emit("addStatusBarMessage",this.$i18n("svgfilter.select.editor.message.create")):"-"===t?this.emit("addStatusBarMessage",this.$i18n("svgfilter.select.editor.message.select")):this.emit("addStatusBarMessage","")}},{key:wr("$options"),value:function(){var t=this,e=this.refs.$options.value;"new"==e?this.emit("addSVGFilterAssetItem",(function(e,n){t.updateData({value:n}),t.refresh(),t.trigger("openSVGFilterPopup",e)})):"-"===e||this.updateData({value:e})}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}},{key:gi("refreshSVGArea")+Gr(1e3),value:function(){this.load("$options")}},{key:gi("openSVGFilterPopup"),value:function(t){this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea");var e=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[t];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterEditorRealUpdate",preview:!1,index:t,filters:e.filters})}},{key:gi("changeSVGFilterEditorRealUpdate"),value:function(t){var e=this.$selection.currentProject;e&&(e.setSVGFilterValue(t.index,{filters:t.filters}),this.emit("refreshSVGFilterAssets"),this.emit("refreshSVGArea"))}}])&&EY(e.prototype,n),r&&EY(e,r),i}(wi);function IY(t){return(IY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function VY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MY(t,e){return(MY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=FY(t);if(e){var o=FY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return BY(this,n)}}function BY(t,e){return!e||"object"!==IY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FY(t){return(FY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var GY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MY(t,e)}(i,t);var e,n,r,o=zY(i);function i(){return VY(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){var t=this.props.value;return{label:this.props.label||"",height:R.px(100),value:t}}},{key:"template",value:function(){var t=this.state,e=t.label,n=t.height,r=t.value;return"\n            <div class='text-editor ".concat(e?"has-label":"","'>\n                ").concat(e?"<label>".concat(e,"</label>"):"","\n                <textarea ref='$text' style='height:").concat(n,"'>").concat(r,"</textarea>\n            </div>\n        ")}},{key:"getValue",value:function(){return this.refs.$options.value}},{key:"setValue",value:function(t,e){this.setState({value:t},!1),e&&this.setState({height:e},!1),this.refresh()}},{key:Jr("$text"),value:function(){return{text:this.state.value||"",style:{height:this.state.height}}}},{key:Or("$text"),value:function(){this.updateData({value:this.refs.$text.value})}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.state.value,this.props.params)}}])&&LY(e.prototype,n),r&&LY(e,r),i}(wi);function HY(t){return(HY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function YY(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XY(Object(n),!0).forEach((function(e){NY(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XY(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function NY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WY(t,e){return(WY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=JY(t);if(e){var o=JY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qY(this,n)}}function qY(t,e){return!e||"object"!==HY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JY(t){return(JY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WY(t,e)}(i,t);var e,n,r,o=ZY(i);function i(){return KY(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectIconEditor:TX}}},{key:"getDirectionOptions",value:function(){return this.makeOptionsFunction("row,column,row-reverse,column-reverse")}},{key:"getWrapOptions",value:function(){return this.makeOptionsFunction("nowrap,wrap,wrap-reverse")}},{key:"getJustifyContentOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,space-between,space-around")}},{key:"getAlignItemsOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,baseline,stretch")}},{key:"getAlignContentOptions",value:function(){return this.makeOptionsFunction("flex-start,flex-end,center,space-between,space-around,stretch")}},{key:"makeOptionsFunction",value:function(t){var e=this;return t.split(",").map((function(t){return"".concat(t,":").concat(e.$i18n("flex.layout.editor."+t))})).join(",")}},{key:"initState",value:function(){return YY({},we(this.props.value))}},{key:"setValue",value:function(t){this.setState(YY({},we(t)))}},{key:"getValue",value:function(){return ge(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:Ur("$body"),value:function(){return"\n            <div class='flex-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("flex.layout.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='flex-direction'\n                    value=\"").concat(this.state["flex-direction"]||"row",'"\n                    options="').concat(this.getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='flex-wrap'\n                    value=\"").concat(this.state["flex-wrap"]||"wrap",'"\n                    options="').concat(this.getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"]||"flex-start",'"\n                    options="').concat(this.getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"]||"flex-start",'"\n                    options="').concat(this.getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"]||"flex-start",'"\n                    options="').concat(this.getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='flex-layout-editor' ref='$body' ></div>\n        "}},{key:gi("changeKeyValue"),value:function(t,e,n){this.setState(NY({},t,e),!1),this.modifyData()}}])&&UY(e.prototype,n),r&&UY(e,r),i}(wi);function tN(t){return(tN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eN(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return nN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nN(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iN(t,e){return(iN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=uN(t);if(e){var o=uN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cN(this,n)}}function cN(t,e){return!e||"object"!==tN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uN(t){return(uN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sN=/(auto)|(repeat\([^\)]*\))|(([\d.]+)(px|pt|fr|r?em|deg|vh|vw|%))/gi,lN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iN(t,e)}(i,t);var e,n,r,o=aN(i);function i(){return rN(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectEditor:cL,NumberInputEditor:SV,InputRangeEditor:OM}}},{key:"getLayoutItemOptions",value:function(){var t=this;return"none,auto,repeat,length".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n("grid.box.editor.".concat(e)))})).join(",")}},{key:"initState",value:function(){return{label:this.props.label,list:this.parseValue(this.props.value)}}},{key:"setValue",value:function(t){this.setState({list:this.parseValue(t)})}},{key:"parseValue",value:function(t){for(var e=null,n=[];null!==(e=sN.exec(t));){var r=e[0];if("auto"===r)n.push({type:"auto",count:0,value:"0px"});else if(r.includes("repeat")){var o=r.split("repeat(")[1].split(")");o.pop();var i=eN(o.join("").split(",")),a=i[0],c=i.slice(1);n.push({type:"repeat",count:a,value:c.join(", ")})}else n.push({type:"length",count:1,value:r})}return n}},{key:"getValue",value:function(){return this.state.list.map((function(t){return"repeat"===t.type?"repeat(".concat(t.count,", ").concat(t.value,")"):"auto"===t.type||"none"===t.type?t.type:t.value})).join(" ")}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:"makeItem",value:function(t,e){return"\n            <div class='item' data-repeat-type='".concat(t.type,"' data-index='").concat(e,"' >\n                <div class='repeat'>\n                    <SelectEditor \n                        ref='$").concat(e,"-type' \n                        options=\"").concat(this.getLayoutItemOptions(),'" \n                        key="type" \n                        value="').concat(t.type||"auto",'" \n                        params="').concat(e,"\" \n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='count'>\n                    <NumberInputEditor \n                        ref='$").concat(e,'-count\' \n                        key="count" \n                        value="').concat(t.count,'" \n                        params="').concat(e,"\" \n                        max='1000'\n                        onchange=\"changeKeyValue\" />\n                </div>                \n                <div class='value'>\n                    <InputRangeEditor \n                        ref='$").concat(e,'-value\' \n                        key="value" \n                        value="').concat(t.value,'" \n                        params="').concat(e,"\" \n                        units='auto,fr,px,em,%'\n                        onchange=\"changeKeyValue\" />\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy'>").concat(vm.copy,"</button>                \n                    <button type=\"button\" class='remove'>").concat(vm.remove2,"</button>\n                </div>\n            </div>\n        ")}},{key:Ur("$list"),value:function(){var t=this;return this.state.list.map((function(e,n){return t.makeItem(e,n)}))}},{key:"template",value:function(){return"\n            <div class='grid-box-editor' ref='$body' >\n                <div class='grid-box-editor-item'>\n                    <div class='item header'>\n                        <div class='repeat'>\n                            <label>".concat(this.state.label," </label>\n                            <button type='button' ref='$add'>").concat(vm.add,"</button>\n                        </div>\n                        <div class='count'>").concat(this.$i18n("grid.box.editor.count"),"</div>\n                        <div class='value'>").concat(this.$i18n("grid.box.editor.value"),"</div>\n                        <div class='tools'></div>\n                    </div>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        ")}},{key:lr("$list .remove"),value:function(t){var e=+t.$dt.closest("item").attr("data-index");this.state.list.splice(e,1),this.refresh(),this.modifyData()}},{key:lr("$list .copy"),value:function(t){var e=+t.$dt.closest("item").attr("data-index"),n=clone(this.state.list[e]);this.state.list.splice(e,0,n),this.refresh(),this.modifyData()}},{key:lr("$add"),value:function(){this.trigger("add")}},{key:gi("add"),value:function(){this.state.list.push({type:"auto",count:0,value:"0px"}),this.refresh(),this.modifyData()}},{key:gi("changeKeyValue"),value:function(t,e,n){var r=+n,o=this.state.list[r];o&&("type"===t&&this.refs.$list.$('[data-index="'.concat(r,'"]')).attr("data-repeat-type",e),o[t]=e),this.modifyData()}}])&&oN(e.prototype,n),r&&oN(e,r),i}(wi);function fN(t){return(fN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hN(t,e){return(hN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bN(t);if(e){var o=bN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vN(this,n)}}function vN(t,e){return!e||"object"!==fN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bN(t){return(bN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hN(t,e)}(i,t);var e,n,r,o=dN(i);function i(){return pN(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL}}},{key:"initState",value:function(){return{label:this.props.label,value:this.parseValue(this.props.value)}}},{key:"setValue",value:function(t){this.setState({list:this.parseValue(t)})}},{key:"parseValue",value:function(t){return R.parse(t)}},{key:"getValue",value:function(){return this.state.value}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:"makeItem",value:function(){return"\n            <div class='item'>\n                <div class='value'>\n                    <RangeEditor\n                        label='".concat(this.state.label,"' \n                        ref='$value' \n                        key=\"value\" \n                        value=\"").concat(this.state.value,'" \n                        units=\'px,em,%\'\n                        onchange="changeKeyValue" />\n                </div>\n            </div>\n        ')}},{key:Ur("$list"),value:function(){return this.makeItem()}},{key:"template",value:function(){return"\n            <div class='grid-gap-editor' ref='$body' >\n                <div class='grid-gap-editor-item'>\n                    <div ref='$list'></div>\n                </div>\n            </div>\n        "}},{key:gi("changeKeyValue"),value:function(t,e){this.state.value=e,this.modifyData()}}])&&yN(e.prototype,n),r&&yN(e,r),i}(wi);function gN(t){return(gN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wN(Object(n),!0).forEach((function(e){kN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PN(t,e){return(PN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$N(t);if(e){var o=$N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RN(this,n)}}function RN(t,e){return!e||"object"!==gN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $N(t){return($N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var EN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PN(t,e)}(i,t);var e,n,r,o=xN(i);function i(){return SN(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectIconEditor:TX,GridBoxEditor:lN,GridGapEditor:mN}}},{key:"initState",value:function(){return ON({},we(this.props.value))}},{key:"setValue",value:function(t){this.setState(ON({},we(t)))}},{key:"getValue",value:function(){return ge(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:Ur("$body"),value:function(){return"\n            <div class='grid-layout-item'>\n                <GridBoxEditor \n                    label='".concat(this.$i18n("grid.layout.editor.template.columns"),"'\n                    ref='$columnBox'\n                    key='grid-template-columns'\n                    value=\"").concat(this.state["grid-template-columns"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <GridGapEditor \n                    label='").concat(this.$i18n("grid.layout.editor.column.gap"),"'\n                    key='grid-column-gap'\n                    value=\"").concat(this.state["grid-column-gap"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <GridBoxEditor \n                    label='").concat(this.$i18n("grid.layout.editor.template.rows"),"'\n                    ref='$rowBox'\n                    key='grid-template-rows'\n                    value=\"").concat(this.state["grid-template-rows"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>            \n            <div class='grid-layout-item'>\n                <GridGapEditor \n                    label='").concat(this.$i18n("grid.layout.editor.row.gap"),"'                \n                    key='grid-row-gap'\n                    value=\"").concat(this.state["grid-row-gap"]||"","\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n        ")}},{key:"template",value:function(){return"\n            <div class='grid-layout-editor' ref='$body' ></div>\n        "}},{key:gi("changeKeyValue"),value:function(t,e,n){this.setState(kN({},t,e),!1),this.modifyData()}}])&&jN(e.prototype,n),r&&jN(e,r),i}(wi);function _N(t){return(_N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function TN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IN(t,e){return(IN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function VN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=MN(t);if(e){var o=MN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LN(this,n)}}function LN(t,e){return!e||"object"!==_N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function MN(t){return(MN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IN(t,e)}(i,t);var e,n,r,o=VN(i);function i(){return DN(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectIconEditor:TX}}},{key:"initState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?CN(Object(n),!0).forEach((function(e){TN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},we(this.props.value))}},{key:"setValue",value:function(t){this.setState(we(t))}},{key:"getValue",value:function(){return ge(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:Ur("$body"),value:function(){return"\n            <div class='flex-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("flex.layout.item.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='flex-direction'\n                    value=\"").concat(this.state["flex-direction"]||"row",'"\n                    options="').concat(getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='flex-wrap'\n                    value=\"").concat(this.state["flex-wrap"]||"wrap",'"\n                    options="').concat(getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"],'"\n                    options="').concat(getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"],'"\n                    options="').concat(getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='flex-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("flex.layout.item.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"],'"\n                    options="').concat(getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='flex-layout-editor' ref='$body' ></div>\n        "}},{key:gi("changeKeyValue"),value:function(t,e,n){this.setState(TN({},t,e),!1),this.modifyData()}}])&&AN(e.prototype,n),r&&AN(e,r),i}(wi);function BN(t){return(BN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function GN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YN(t,e){return(YN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function NN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=UN(t);if(e){var o=UN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KN(this,n)}}function KN(t,e){return!e||"object"!==BN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UN(t){return(UN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var WN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YN(t,e)}(i,t);var e,n,r,o=NN(i);function i(){return HN(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectIconEditor:TX}}},{key:"initState",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?FN(Object(n),!0).forEach((function(e){GN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},we(this.props.value))}},{key:"setValue",value:function(t){this.setState(we(t))}},{key:"getValue",value:function(){return ge(this.state)}},{key:"modifyData",value:function(){this.parent.trigger(this.props.onchange,this.props.key,this.getValue())}},{key:Ur("$body"),value:function(){return"\n            <div class='grid-layout-item'>\n                <div class='label'><label>".concat(this.$i18n("grid.layout.item.editor.direction"),"</label></div>\n                <SelectIconEditor \n                    key='grid-direction'\n                    value=\"").concat(this.state["grid-direction"]||"row",'"\n                    options="').concat(getDirectionOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.wrap"),"</label></div>\n                <SelectIconEditor \n                    key='grid-wrap'\n                    value=\"").concat(this.state["grid-wrap"]||"wrap",'"\n                    options="').concat(getWrapOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.justify-content"),"</label></div>\n                <SelectIconEditor \n                    key='justify-content'\n                    value=\"").concat(this.state["justify-content"],'"\n                    options="').concat(getJustifyContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.align-items"),"</label></div>\n                <SelectIconEditor \n                    key='align-items'\n                    value=\"").concat(this.state["align-items"],'"\n                    options="').concat(getAlignItemsOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>\n            <div class='grid-layout-item'>\n                <div class='label'><label>").concat(this.$i18n("grid.layout.item.editor.align-content"),"</label></div>\n                <SelectIconEditor \n                    key='align-content'\n                    value=\"").concat(this.state["align-content"],'"\n                    options="').concat(getAlignContentOptions(),"\"\n                    onchange='changeKeyValue'\n                />\n            </div>    \n        ")}},{key:"template",value:function(){return"\n            <div class='grid-layout-editor' ref='$body' ></div>\n        "}},{key:gi("changeKeyValue"),value:function(t,e,n){this.setState(GN({},t,e),!1),this.modifyData()}}])&&XN(e.prototype,n),r&&XN(e,r),i}(wi);function ZN(t){return(ZN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function JN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qN(Object(n),!0).forEach((function(e){QN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function QN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nK(t,e){return(nK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=iK(t);if(e){var o=iK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oK(this,n)}}function oK(t,e){return!e||"object"!==ZN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iK(t){return(iK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var aK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nK(t,e)}(i,t);var e,n,r,o=rK(i);function i(){return tK(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{index:this.props.index,x:R.parse(this.props.x),y:R.parse(this.props.y),width:R.parse(this.props.width),height:R.parse(this.props.height),lineWidth:R.parse(this.props.linewidth),lineHeight:R.parse(this.props.lineheight),backColor:this.props.backcolor,foreColor:this.props.forecolor,blendMode:this.props.blendmode,type:this.props.type}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.modifyValue(t)}},{key:"modifyValue",value:function(t){this.parent.trigger(this.props.onchange,this.props.key,t,this.state.index)}},{key:"setValue",value:function(t){this.setState(JN({},t))}},{key:Jr("$miniView"),value:function(){var t=JN({},this.state);return this.state.width.value>80&&(t.width=R.px(80),t.x=R.px(t.x.value/this.state.width.value/80)),this.state.height.value>80&&(t.height=R.px(80),t.y=R.px(this.state.y.value/this.state.height.value/80)),{cssText:Jf.parse(t).toCSS()}}},{key:"template",value:function(){return"\n            <div class='pattern-size-editor'>\n                <div class='preview' ref='$preview'>\n                    <div class='mini-view'>\n                        <div class='color-view' style=\"background-color: ".concat(this.state.color,"\" ref='$miniView'></div>\n                    </div>\n                </div>\n            </div>\n        ")}},{key:lr("$preview"),value:function(t){this.viewBackgroundPositionPopup()}},{key:"viewBackgroundPositionPopup",value:function(){this.emit("showPatternInfoPopup",{changeEvent:"changePatternInfo",data:this.state,instance:this})}},{key:gi("changePatternInfo"),value:function(t){this.updateData(JN({},t))}}])&&eK(e.prototype,n),r&&eK(e,r),i}(wi),cK=[{key:"check",title:"Check",execute:function(){return[{pattern:"check(20px 20px, 10px 10px, black, transparent)"},{pattern:"check(40px 40px, 20px 20px, black, transparent)"},{pattern:"check(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))"},{pattern:"check(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))"},{pattern:"check(100px 100px, 50px 50px, #DCF3DC, transparent)"},{pattern:"check(200px 200px, 100px 100px, #102C45, transparent)"}]}},{key:"grid",title:"Grid",execute:function(){return[{pattern:"grid(20px 20px, 10px 10px, black, transparent)"},{pattern:"grid(40px 40px, 20px 20px, black, transparent)"},{pattern:"grid(60px 60px, 30px 30px, #DDB104, rgba(254,240,188,0))"},{pattern:"grid(80px 80px, 40px 40px, #DDB104, rgba(254,240,188,0))"},{pattern:"grid(100px 100px, 50px 50px, #DCF3DC, transparent)"},{pattern:"grid(200px 200px, 100px 100px, #102C45, transparent)"}]}},{key:"dot",title:"Dot",execute:function(){return[{pattern:"dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)"},{pattern:"dot(40px 40px, 20px 20px, #E7393F, #FEF0BC, normal, 2px)"},{pattern:"dot(60px 60px, 30px 30px, #E7393F, black, normal, 3px)"},{pattern:"dot(80px 80px, 40px 40px, #B7C4CD, white, normal, 4px)"}]}},{key:"cross-dot",title:"Cross Dot",execute:function(){return[{pattern:"cross-dot(20px 20px, 10px 10px, #B7C4CD, white, normal, 1px)"},{pattern:"cross-dot(40px 40px, 20px 20px, #DDB104, #FEF0BC, normal, 4px)"},{pattern:"cross-dot(60px 60px, 30px 30px, #35DB92, #DCF9EC, normal, 6px)"}]}},{key:"diagonal-line",title:"Diagonal Line",execute:function(){return[{pattern:"diagonal-line(10px 10px, 45deg, #B7C4CD, white, normal, 1px)"},{pattern:"diagonal-line(25px 25px, 90deg, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"diagonal-line(50px 50px, 135deg, #35DB92, #DCF9EC, normal, 3px)"}]}},{key:"vertical-line",title:"Vertical Line",execute:function(){return[{pattern:"vertical-line(10px 10px, 0, #B7C4CD, white, normal, 1px)"},{pattern:"vertical-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"vertical-line(50px 50px, 0, black, rgba(231,57,63,0.9), normal, 1px)"}]}},{key:"horizontal-line",title:"Horizontal Line",execute:function(){return[{pattern:"horizontal-line(10px 10px, 0, #B7C4CD, white, normal, 1px)"},{pattern:"horizontal-line(25px 25px, 0, #DDB104, #FEF0BC, normal, 2px)"},{pattern:"horizontal-line(50px 50px, 0, #35DB92, #DCF9EC, normal, 3px)"}]}}];function uK(t){return(uK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sK(t){return function(t){if(Array.isArray(t))return lK(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lK(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yK(t,e){return(yK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vK(t);if(e){var o=vK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dK(this,n)}}function dK(t,e){return!e||"object"!==uK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vK(t){return(vK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bK={MediaProgressEditor:DF,BlendSelectEditor:wH,PatternEditor:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yK(t,e)}(i,t);var e,n,r,o=hK(i);function i(){return fK(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectEditor:cL,ColorSingleEditor:AL,PatternSizeEditor:aK}}},{key:"initState",value:function(){return{hideLabel:"true"===this.props["hide-label"],value:this.props.value,patterns:this.parsePattern(this.props.value)}}},{key:"parsePattern",value:function(t){return Jf.parseStyle(t)}},{key:"setValue",value:function(t){this.setState({value:t,patterns:this.parsePattern(t)})}},{key:"template",value:function(){var t=this.state.hideLabel?"hide":"";return"\n            <div class='pattern-editor' >\n                <div class='label ".concat(t,"'>\n                    <label>").concat(this.props.title||"","</label>\n                    <div class='tools'>\n                        <button type=\"button\" ref='$add'>").concat(vm.add," ").concat(this.props.title?"":"Add","</button>\n                    </div>\n                </div>\n                <div class='pattern-list' ref='$patternList'></div>\n            </div>\n        ")}},{key:Ur("$patternList"),value:function(){var t=this;return this.state.patterns.map((function(e,n){var r=e.selected?"selected":"";return e.selected&&(t.selectedIndex=n),"\n            <div class='pattern-item ".concat(r,"' data-index='").concat(n,"' ref=\"fillIndex").concat(n,"\"  draggable='true'>\n                <PatternSizeEditor ").concat(Oe({key:"pattern-size",ref:"$bp".concat(n),type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,index:n,foreColor:e.foreColor,backColor:e.backColor,blendMode:e.blendMode,lineWidth:e.lineWidth,lineHeight:e.lineHeight})," onchange='changePatternSizeInfo' />\n                <div class='tools'>\n                    <button type=\"button\" class='remove' title='Remove a pattern' data-index='").concat(n,"'>").concat(vm.remove,"</button>\n                </div>\n            </div>\n            ")}))}},{key:"modifyPattern",value:function(){var t=Jf.join(this.state.patterns);this.parent.trigger(this.props.onchange,this.props.key,t)}},{key:gi("add"),value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check",n=cK.find((function(t){return t.key===e}));n&&((t=this.state.patterns).push.apply(t,sK(Jf.parseStyle(n.execute()[0].pattern))),this.refresh(),this.modifyPattern())}},{key:lr("$add"),value:function(){this.trigger("add")}},{key:dr("$patternList .pattern-item"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:br("$patternList .pattern-item")+Nr,value:function(t){}},{key:"sortItem",value:function(t,e,n){t.splice.apply(t,[n+(e<n?-1:0),0].concat(sK(t.splice(e,1))))}},{key:"sortPattern",value:function(t,e){this.sortItem(this.state.patterns,t,e)}},{key:vr("$patternList .pattern-item")+Nr,value:function(t){var e=+t.$dt.attr("data-index");this.selectItem(this.startIndex,!0),this.sortPattern(this.startIndex,e),this.modifyPattern(),this.refresh()}},{key:"getCurrentPattern",value:function(){return this.state.patterns[this.selectedIndex]}},{key:lr("$patternList .tools .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.state.patterns.splice(e,1),this.modifyPattern(),this.refresh()}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["fillIndex".concat(t)].addClass("selected"):this.refs["fillIndex".concat(t)].removeClass("selected"),this.state.patterns.forEach((function(e,n){e.selected=n===t}))}},{key:gi("changePatternSizeInfo")+Gr(10),value:function(t,e,n){this.state.patterns[n].reset(e),this.modifyPattern(),this.refresh()}}])&&pK(e.prototype,n),r&&pK(e,r),i}(wi),PatternSizeEditor:aK,GridGapEditor:mN,NumberInputEditor:SV,GridLayoutItemEditor:WN,GridBoxEditor:lN,FlexLayoutItemEditor:zN,GridLayoutEditor:EN,FlexLayoutEditor:QY,TextAreaEditor:GY,ColorMatrixEditor:qG,FuncFilterEditor:FG,SVGFilterSelectEditor:AY,FillEditor:jY,FillSingleEditor:cY,BorderEditor:SF,BorderValueEditor:yF,GradientSingleEditor:QX,BackgroundPositionEditor:HX,OffsetPathListEditor:eF,PolygonDataEditor:YB,PathDataEditor:LB,StrokeDashArrayEditor:PB,InputRangeEditor:OM,SelectIconEditor:TX,ImageSelectEditor:uH,EmbedColorPicker:kX,IconListViewEditor:WH,InputArrayEditor:SG,DirectionEditor:hX,SVGClipPathEditor:rX,NumberRangeEditor:eB,TextEditor:dG,SVGFilterEditor:FH,CircleEditor:cG,BackgroundImageEditor:HV,BoxShadowEditor:qV,BorderRadiusEditor:xL,ColorSingleEditor:AL,ColorViewEditor:GL,CubicBezierEditor:JL,FilterEditor:pM,GradientEditor:MM,IterationCountEditor:ZM,OffsetEditor:qF,CSSPropertyEditor:FF,PerspectiveOriginEditor:Kz,RangeEditor:vL,SelectEditor:cL,TextShadowEditor:bB,TransformEditor:Oz,TransformOriginEditor:Az,VarEditor:az};function mK(t){return(mK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kK(t,e){return(kK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function SK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=PK(t);if(e){var o=PK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jK(this,n)}}function jK(t,e){return!e||"object"!==mK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PK(t){return(PK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xK={"segment-move":"modify",modify:"modify",path:"path",transform:"transform"},RK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kK(t,e)}(i,t);var e,n,r,o=SK(i);function i(){return wK(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{mode:"move",fill:null,stroke:null,"fill-opacity":null,"stroke-width":null,msg:this.$i18n("path.manager.msg")}}},{key:"components",value:function(){return bK}},{key:gi("refreshSelection"),value:function(){var t=this.$selection.current;t&&(this.children.$fill.setValue(t.fill||"rgba(0, 0, 0, 0)"),this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$fillOpacity.setValue(t["fill-opacity"]||R.number(1)),this.children.$strokeWidth.setValue(t["stroke-width"]||R.number(1)))}},{key:"template",value:function(){return this.$selection.current,"\n      <div class='path-manager'>\n        <div class='tools' ref='$mode' data-selected-value='".concat(this.state.mode,"'>\n            <button type=\"button\" data-value='modify' title='").concat(this.$i18n("path.manager.mode.modify"),"' > ").concat(vm.device_hub,"</button>\n            <button type=\"button\" data-value='path' title='").concat(this.$i18n("path.manager.mode.path"),"' > ").concat(vm.control_point,"</button>\n            <button type=\"button\" data-value='transform' title='").concat(this.$i18n("path.manager.mode.transform"),"' > ").concat(vm.format_shapes,"</button>\n        </div>\n        <div class='tools' ref='$flip'>\n            <button type=\"button\" data-value='flipX' title='").concat(this.$i18n("path.manager.mode.flipX"),"'>").concat(vm.flip,"</button>\n            <button type=\"button\" data-value='flipY' title='").concat(this.$i18n("path.manager.mode.flipY"),"'>").concat(vm.flip,"</button>\n            <button type=\"button\" data-value='flip' title='").concat(this.$i18n("path.manager.mode.flipOrigin"),"'>").concat(vm.flip,"</button>\n        </div>\n        <div class='tools'>      \n          <div >\n            <FillSingleEditor ref='$fill' simple=\"true\" label='").concat(this.$i18n("svg.item.property.fill"),"' key='fill' onchange=\"changeValue\" />\n          </div>\n\n\n          <div >\n            <FillSingleEditor ref='$stroke' simple=\"true\"  label='").concat(this.$i18n("svg.item.property.stroke"),"' key='stroke' onchange=\"changeValue\" />\n          </div>      \n\n          <div >\n            <NumberInputEditor \n              ref='$fillOpacity' \n              label='").concat(this.$i18n("svg.item.property.fillOpacity"),'\' \n              key=\'fill-opacity\' \n              value="1" \n              min="0"\n              max="1"\n              step="0.01"\n              calc="false"\n              unit="number" \n              onchange="changeValue" \n              />\n          </div>   \n\n          <div >\n            <NumberInputEditor \n              ref=\'$strokeWidth\' \n              label=\'').concat(this.$i18n("svg.item.property.strokeWidth"),'\' \n              key="stroke-width" \n              onchange="changeValue" />\n          </div>\n        </div>\n      </div>    \n    ')}},{key:gi("setColorAsset"),value:function(t){var e=t.color;this.$el.isShow()&&(this.setState({stroke:e},!1),this.children.$stroke.setValue(e),this.updateData({stroke:e}),this.command("setAttribute","change color assets",{stroke:e},null,!0))}},{key:gi("changeValue"),value:function(t,e,n){this.command("setAttribute","change path",gK({},t,e),null,!0),this.updateData(gK({},t,e))}},{key:Jr("$mode"),value:function(){return{"data-selected-value":xK[this.state.mode]}}},{key:"refresh",value:function(){this.bindData("$mode")}},{key:lr("$flip button"),value:function(t){var e=t.$dt.attr("data-value");this.emit("changePathTransform",e)}},{key:lr("$mode button"),value:function(t){var e=t.$dt.attr("data-value");this.updateData({mode:e}),this.refresh()}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.emit(this.state.changeEvent,t)}},{key:gi("changePathManager"),value:function(t){this.setState({mode:t})}},{key:gi("showPathManager"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.changeEvent=t.changeEvent||"changePathManager",this.setState(t),this.$el.show(),this.emit("addStatusBarMessage",this.state.msg),this.emit("change.mode.view","PathEditorView")}},{key:gi("hidePathManager"),value:function(){this.$el.hide()}}])&&OK(e.prototype,n),r&&OK(e,r),i}(wi);function $K(t){return($K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DK(t,e){return(DK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function AK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=VK(t);if(e){var o=VK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IK(this,n)}}function IK(t,e){return!e||"object"!==$K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VK(t){return(VK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var LK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DK(t,e)}(i,t);var e,n,r,o=AK(i);function i(){return CK(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{tolerance:1,stroke:"black","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",msg:this.$i18n("path.manager.msg")}}},{key:"components",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EK(Object(n),!0).forEach((function(e){_K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EK(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},bK)}},{key:gi("refreshSelection"),value:function(){var t=this.$selection.current;t&&(this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$strokeWidth.setValue(t["stroke-width"]||R.number(1)))}},{key:gi("setColorAsset"),value:function(t){var e=t.color;this.$el.isShow()&&(this.setState({stroke:e},!1),this.children.$stroke.setValue(e),this.updateData({stroke:e}))}},{key:"template",value:function(){return"\n      <div class='draw-manager'>\n        <div class='tools'>   \n          <div >        \n            <label>".concat(this.$i18n("draw.manager.tolerance"),'</label>            \n            <NumberInputEditor \n              ref=\'$tolerance\' \n              key=\'tolerance\' \n              value="1" \n              min="0"\n              max="100"\n              step="0.01"\n              unit="number" \n              onchange="changeValue" \n            />\n          </div>              \n          <div >\n            <label>').concat(this.$i18n("svg.item.property.stroke"),'</label>          \n            <FillSingleEditor ref=\'$stroke\' simple="true" value="').concat(this.state.stroke,'" key=\'stroke\' onchange="changeValue" />\n          </div>                \n\n          <div >\n            <label>').concat(this.$i18n("svg.item.property.strokeWidth"),'</label>          \n            <NumberInputEditor \n              ref=\'$strokeWidth\' \n              key="stroke-width" \n              value="').concat(this.state["stroke-width"],'"              \n              onchange="changeValue" />\n          </div>      \n          \n\n          <div>\n            <label>').concat(this.$i18n("svg.item.property.lineCap"),'</label>          \n            <SelectEditor\n              ref=\'$strokeLineCap\' \n              key="stroke-linecap" \n              value="').concat(this.state["stroke-linecap"],'"                   \n              options="butt,round,square" \n              onchange="changeValue" \n            />\n          </div> \n          <div>\n            <label>').concat(this.$i18n("svg.item.property.lineJoin"),'</label>          \n            <SelectEditor \n              ref=\'$strokeLineJoin\' \n              key="stroke-linejoin" \n              value="').concat(this.state["stroke-linejoin"],'"                                 \n              options="miter,bevel,round" \n              onchange="changeValue" \n            />\n          </div>\n        </div>\n      </div>    \n    ')}},{key:gi("changeValue"),value:function(t,e,n){this.updateData(_K({},t,e))}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.instance.trigger(this.state.changeEvent,t)}},{key:gi("changePathManager"),value:function(t){this.setState({mode:t})}},{key:gi("showDrawManager"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.changeEvent=t.changeEvent||"changeDrawManager",this.setState(t),this.$el.show(),this.emit("addStatusBarMessage",this.state.msg),this.emit("hidePathManager")}},{key:gi("hideDrawManager"),value:function(){this.$el.hide()}}])&&TK(e.prototype,n),r&&TK(e,r),i}(wi);function MK(t){return(MK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FK(t,e){return(FK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function GK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=XK(t);if(e){var o=XK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HK(this,n)}}function HK(t,e){return!e||"object"!==MK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function XK(t){return(XK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var YK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FK(t,e)}(i,t);var e,n,r,o=GK(i);function i(){return zK(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{PathManager:RK,DrawManager:LK}}},{key:"template",value:function(){return"\n      <div class='page-subeditor'>\n        <PathManager />\n        <DrawManager />\n        <SelectionManager />\n      </div>\n    "}}])&&BK(e.prototype,n),r&&BK(e,r),i}(wi);function NK(t){return(NK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function KK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WK(t,e){return(WK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=JK(t);if(e){var o=JK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qK(this,n)}}function qK(t,e){return!e||"object"!==NK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JK(t){return(JK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WK(t,e)}(i,t);var e,n,r,o=ZK(i);function i(){return KK(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{PageTools:CV,ElementView:dV,PageSubEditor:YK}}},{key:"afterRender",value:function(){this.emit("load.json")}},{key:"template",value:function(){return"\n      <div class='page-container' tabIndex=\"-1\">\n        <div class='page-view'>\n          <div class='page-lock scrollbar' ref='$lock'>\n            <ElementView ref='$elementView' />\n          </div>\n        </div>\n        \x3c!--<PageSubEditor /> --\x3e\n        <PageTools />\n      </div>\n    "}}])&&UK(e.prototype,n),r&&UK(e,r),i}(wi);function tU(t){return(tU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rU(t,e){return(rU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=aU(t);if(e){var o=aU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iU(this,n)}}function iU(t,e){return!e||"object"!==tU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function aU(t){return(aU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rU(t,e)}(i,t);var e,n,r,o=oU(i);function i(){return eU(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n        <button type="button" class=\'menu-item '.concat(this.getClassName(),"' data-no-title=\"").concat(this.isHideTitle(),'" ').concat(this.isHideTitle()?'title="'.concat(this.getTitle(),'"'):"",' checked="').concat(this.getChecked()?"checked":"",'">\n            <div class="icon ').concat(this.getIcon(),'">').concat(this.getIconString(),'</div>\n            <div class="title">').concat(this.getTitle(),"</div>\n        </button>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"clickButton",value:function(t){}},{key:"getChecked",value:function(){return!1}},{key:"setSelected",value:function(t){this.$el.toggleClass("selected",t)}},{key:"getTitle",value:function(){return""}},{key:"getIcon",value:function(){return""}},{key:"getIconString",value:function(){return""}},{key:"isHideTitle",value:function(){return!1}},{key:lr(),value:function(t){this.clickButton(t)}}])&&nU(e.prototype,n),r&&nU(e,r),i}(wi);function uU(t){return(uU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fU(t,e){return(fU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hU(t);if(e){var o=hU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yU(this,n)}}function yU(t,e){return!e||"object"!==uU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hU(t){return(hU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fU(t,e)}(i,t);var e,n,r,o=pU(i);function i(){return sU(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return this.$i18n("menu.item.github.title")}},{key:"clickButton",value:function(t){window.open("https://github.com/easylogic/editor","github-window")}}])&&lU(e.prototype,n),r&&lU(e,r),i}(cU);function vU(t){return(vU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OU(t,e){return(OU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jU(t);if(e){var o=jU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SU(this,n)}}function SU(t,e){return!e||"object"!==vU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jU(t){return(jU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var PU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OU(t,e)}(i,t);var e,n,r,o=kU(i);function i(){return gU(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return'\n    <form class=\'codepen\' action="https://codepen.io/pen/define" method="POST" target="_code_pen">\n      <input type="hidden" name="data" ref="$codepen" value=\'\'>\n      <button type="submit">\n        <div class=\'icon codepen\'></div>\n        <div class=\'title\'>'.concat(this.$i18n("menu.item.codepen.title"),"</div>\n      </button>\n    </form>     \n    ")}},{key:$r(),value:function(){var t=Uc.generate(this.$editor);return this.refs.$codepen.val(JSON.stringify(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bU(Object(n),!0).forEach((function(e){mU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({title:"sapa - editor.easylogic.studio",description:"https://editor.easylogic.studio",js_external:"https://cdn.jsdelivr.net/npm/@easylogic/anipa@0.0.11/dist/main.js"},t))),!1}}])&&wU(e.prototype,n),r&&wU(e,r),i}(wi);function xU(t){return(xU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EU(t,e){return(EU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=TU(t);if(e){var o=TU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CU(this,n)}}function CU(t,e){return!e||"object"!==xU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TU(t){return(TU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var DU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EU(t,e)}(i,t);var e,n,r,o=_U(i);function i(){return RU(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.rect}},{key:"getTitle",value:function(){return this.props.title||"Rect"}},{key:"clickButton",value:function(t){this.emit("addLayerView","rect")}},{key:gi("addLayerView"),value:function(t){this.setSelected("rect"===t)}}])&&$U(e.prototype,n),r&&$U(e,r),i}(cU);function AU(t){return(AU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LU(t,e){return(LU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function MU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=BU(t);if(e){var o=BU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zU(this,n)}}function zU(t,e){return!e||"object"!==AU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BU(t){return(BU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LU(t,e)}(i,t);var e,n,r,o=MU(i);function i(){return IU(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.lens}},{key:"getTitle",value:function(){return this.props.title||"Circle"}},{key:"clickButton",value:function(t){this.emit("addLayerView","circle")}},{key:gi("addLayerView"),value:function(t){this.setSelected("circle"===t)}}])&&VU(e.prototype,n),r&&VU(e,r),i}(cU);function GU(t){return(GU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YU(t,e){return(YU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function NU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=UU(t);if(e){var o=UU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KU(this,n)}}function KU(t,e){return!e||"object"!==GU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UU(t){return(UU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var WU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YU(t,e)}(i,t);var e,n,r,o=NU(i);function i(){return HU(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.left}},{key:"getTitle",value:function(){return"Left"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.left")}}])&&XU(e.prototype,n),r&&XU(e,r),i}(cU);function ZU(t){return(ZU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QU(t,e){return(QU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nW(t);if(e){var o=nW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eW(this,n)}}function eW(t,e){return!e||"object"!==ZU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nW(t){return(nW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QU(t,e)}(i,t);var e,n,r,o=tW(i);function i(){return qU(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.right}},{key:"getTitle",value:function(){return"Right"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.right")}}])&&JU(e.prototype,n),r&&JU(e,r),i}(cU);function oW(t){return(oW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cW(t,e){return(cW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lW(t);if(e){var o=lW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sW(this,n)}}function sW(t,e){return!e||"object"!==oW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lW(t){return(lW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cW(t,e)}(i,t);var e,n,r,o=uW(i);function i(){return iW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.center}},{key:"getTitle",value:function(){return"Center"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.center")}}])&&aW(e.prototype,n),r&&aW(e,r),i}(cU);function pW(t){return(pW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dW(t,e){return(dW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mW(t);if(e){var o=mW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bW(this,n)}}function bW(t,e){return!e||"object"!==pW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mW(t){return(mW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dW(t,e)}(i,t);var e,n,r,o=vW(i);function i(){return yW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.top}},{key:"getTitle",value:function(){return"Top"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.top")}}])&&hW(e.prototype,n),r&&hW(e,r),i}(cU);function wW(t){return(wW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SW(t,e){return(SW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xW(t);if(e){var o=xW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PW(this,n)}}function PW(t,e){return!e||"object"!==wW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xW(t){return(xW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var RW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SW(t,e)}(i,t);var e,n,r,o=jW(i);function i(){return OW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.bottom}},{key:"getTitle",value:function(){return"Bottom"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.bottom")}}])&&kW(e.prototype,n),r&&kW(e,r),i}(cU);function $W(t){return($W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CW(t,e){return(CW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=AW(t);if(e){var o=AW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DW(this,n)}}function DW(t,e){return!e||"object"!==$W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AW(t){return(AW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var IW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CW(t,e)}(i,t);var e,n,r,o=TW(i);function i(){return EW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.middle}},{key:"getTitle",value:function(){return"middle"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("sort.middle")}}])&&_W(e.prototype,n),r&&_W(e,r),i}(cU);function VW(t){return(VW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zW(t,e){return(zW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=GW(t);if(e){var o=GW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FW(this,n)}}function FW(t,e){return!e||"object"!==VW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GW(t){return(GW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var HW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zW(t,e)}(i,t);var e,n,r,o=BW(i);function i(){return LW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.same_height}},{key:"getTitle",value:function(){return"height"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("same.height")}}])&&MW(e.prototype,n),r&&MW(e,r),i}(cU);function XW(t){return(XW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KW(t,e){return(KW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function UW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ZW(t);if(e){var o=ZW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WW(this,n)}}function WW(t,e){return!e||"object"!==XW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZW(t){return(ZW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KW(t,e)}(i,t);var e,n,r,o=UW(i);function i(){return YW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.same_width}},{key:"getTitle",value:function(){return"width"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("same.width")}}])&&NW(e.prototype,n),r&&NW(e,r),i}(cU);function JW(t){return(JW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eZ(t,e){return(eZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oZ(t);if(e){var o=oZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rZ(this,n)}}function rZ(t,e){return!e||"object"!==JW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oZ(t){return(oZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var iZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eZ(t,e)}(i,t);var e,n,r,o=nZ(i);function i(){return QW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.title}},{key:"getTitle",value:function(){return this.props.title||"Text"}},{key:"getClassName",value:function(){return"text"}},{key:"clickButton",value:function(t){this.emit("addLayerView","text")}},{key:gi("addLayerView"),value:function(t){this.setSelected("text"===t)}}])&&tZ(e.prototype,n),r&&tZ(e,r),i}(cU);function aZ(t){return(aZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sZ(t,e){return(sZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pZ(t);if(e){var o=pZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fZ(this,n)}}function fZ(t,e){return!e||"object"!==aZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pZ(t){return(pZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sZ(t,e)}(i,t);var e,n,r,o=lZ(i);function i(){return cZ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.launch}},{key:"getTitle",value:function(){return this.$i18n("menu.item.export.title")}},{key:"clickButton",value:function(t){this.emit("showExportView")}}])&&uZ(e.prototype,n),r&&uZ(e,r),i}(cU);function hZ(t){return(hZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bZ(t,e){return(bZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wZ(t);if(e){var o=wZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gZ(this,n)}}function gZ(t,e){return!e||"object"!==hZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wZ(t){return(wZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var OZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bZ(t,e)}(i,t);var e,n,r,o=mZ(i);function i(){return dZ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.note}},{key:"getTitle",value:function(){return this.$i18n("menu.item.learn.title")}},{key:"clickButton",value:function(t){window.open("https://www.easylogic.studio/docs/getting-started.html","learn-window")}}])&&vZ(e.prototype,n),r&&vZ(e,r),i}(cU);function kZ(t){return(kZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PZ(t,e){return(PZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$Z(t);if(e){var o=$Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RZ(this,n)}}function RZ(t,e){return!e||"object"!==kZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $Z(t){return($Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var EZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PZ(t,e)}(i,t);var e,n,r,o=xZ(i);function i(){return SZ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.cube}},{key:"getTitle",value:function(){return this.props.title||"Cube"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","cube")}}])&&jZ(e.prototype,n),r&&jZ(e,r),i}(cU);function _Z(t){return(_Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DZ(t,e){return(DZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function AZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=VZ(t);if(e){var o=VZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IZ(this,n)}}function IZ(t,e){return!e||"object"!==_Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VZ(t){return(VZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var LZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DZ(t,e)}(i,t);var e,n,r,o=AZ(i);function i(){return CZ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.photo}},{key:"getTitle",value:function(){return this.props.title||"Image"}},{key:"clickButton",value:function(){this.emit("addLayerView","image")}}])&&TZ(e.prototype,n),r&&TZ(e,r),i}(cU);function MZ(t){return(MZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FZ(t,e){return(FZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function GZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=XZ(t);if(e){var o=XZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return HZ(this,n)}}function HZ(t,e){return!e||"object"!==MZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function XZ(t){return(XZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var YZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FZ(t,e)}(i,t);var e,n,r,o=GZ(i);function i(){return zZ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.pentool}},{key:"getTitle",value:function(){return this.props.title||"Path"}},{key:"clickButton",value:function(t){this.emit("addLayerView","path")}},{key:gi("addLayerView"),value:function(t){this.setSelected("path"===t)}}])&&BZ(e.prototype,n),r&&BZ(e,r),i}(cU);function NZ(t){return(NZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function KZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WZ(t,e){return(WZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=JZ(t);if(e){var o=JZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qZ(this,n)}}function qZ(t,e){return!e||"object"!==NZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JZ(t){return(JZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WZ(t,e)}(i,t);var e,n,r,o=ZZ(i);function i(){return KZ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.storage}},{key:"getTitle",value:function(){return this.$i18n("menu.item.save.title")}},{key:"clickButton",value:function(t){this.emit("saveJSON")}}])&&UZ(e.prototype,n),r&&UZ(e,r),i}(cU);function tq(t){return(tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rq(t,e){return(rq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=aq(t);if(e){var o=aq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iq(this,n)}}function iq(t,e){return!e||"object"!==tq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function aq(t){return(aq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rq(t,e)}(i,t);var e,n,r,o=oq(i);function i(){return eq(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.archive}},{key:"getTitle",value:function(){return this.$i18n("menu.item.download.title")}},{key:"clickButton",value:function(t){this.emit("downloadJSON")}}])&&nq(e.prototype,n),r&&nq(e,r),i}(cU);function uq(t){return(uq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fq(t,e){return(fq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hq(t);if(e){var o=hq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yq(this,n)}}function yq(t,e){return!e||"object"!==uq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hq(t){return(hq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fq(t,e)}(i,t);var e,n,r,o=pq(i);function i(){return sq(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.near_me}},{key:"getIcon",value:function(){return"flipY"}},{key:"getTitle",value:function(){return this.props.title||"Select"}},{key:"clickButton",value:function(t){this.emit("addLayerView","select")}},{key:gi("addLayerView"),value:function(t){this.setSelected("select"===t)}}])&&lq(e.prototype,n),r&&lq(e,r),i}(cU);function vq(t){return(vq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gq(t,e){return(gq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kq(t);if(e){var o=kq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oq(this,n)}}function Oq(t,e){return!e||"object"!==vq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kq(t){return(kq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gq(t,e)}(i,t);var e,n,r,o=wq(i);function i(){return bq(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.outline_rect}},{key:"getTitle",value:function(){return this.props.title||"Rect"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-rect")}}])&&mq(e.prototype,n),r&&mq(e,r),i}(cU);function jq(t){return(jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rq(t,e){return(Rq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_q(t);if(e){var o=_q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eq(this,n)}}function Eq(t,e){return!e||"object"!==jq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _q(t){return(_q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rq(t,e)}(i,t);var e,n,r,o=$q(i);function i(){return Pq(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.outline_circle}},{key:"getTitle",value:function(){return this.props.title||"Circle"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-circle")}}])&&xq(e.prototype,n),r&&xq(e,r),i}(cU);function Tq(t){return(Tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iq(t,e){return(Iq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mq(t);if(e){var o=Mq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lq(this,n)}}function Lq(t,e){return!e||"object"!==Tq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mq(t){return(Mq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iq(t,e)}(i,t);var e,n,r,o=Vq(i);function i(){return Dq(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.fullscreen}},{key:"getTitle",value:function(){return this.$i18n("menu.item.fullscreen.title")}},{key:"clickButton",value:function(t){this.emit("toggle.fullscreen")}}])&&Aq(e.prototype,n),r&&Aq(e,r),i}(cU);function Bq(t){return(Bq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hq(t,e){return(Hq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nq(t);if(e){var o=Nq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yq(this,n)}}function Yq(t,e){return!e||"object"!==Bq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nq(t){return(Nq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hq(t,e)}(i,t);var e,n,r,o=Xq(i);function i(){return Fq(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.text_rotate}},{key:"getTitle",value:function(){return this.props.title||"TextPath"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-textpath")}}])&&Gq(e.prototype,n),r&&Gq(e,r),i}(cU);function Uq(t){return(Uq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qq(t,e){return(qq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tJ(t);if(e){var o=tJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qq(this,n)}}function Qq(t,e){return!e||"object"!==Uq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tJ(t){return(tJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qq(t,e)}(i,t);var e,n,r,o=Jq(i);function i(){return Wq(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.cylinder}},{key:"getTitle",value:function(){return this.props.title||"Cylinder"}},{key:"getClassName",value:function(){return"cylinder"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","cylinder")}}])&&Zq(e.prototype,n),r&&Zq(e,r),i}(cU);function nJ(t){return(nJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iJ(t,e){return(iJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=uJ(t);if(e){var o=uJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cJ(this,n)}}function cJ(t,e){return!e||"object"!==nJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uJ(t){return(uJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iJ(t,e)}(i,t);var e,n,r,o=aJ(i);function i(){return rJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.title}},{key:"getTitle",value:function(){return this.props.title||"Text"}},{key:"clickButton",value:function(t){this.emit("addLayerView","svg-text")}}])&&oJ(e.prototype,n),r&&oJ(e,r),i}(cU);function lJ(t){return(lJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yJ(t,e){return(yJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vJ(t);if(e){var o=vJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dJ(this,n)}}function dJ(t,e){return!e||"object"!==lJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vJ(t){return(vJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yJ(t,e)}(i,t);var e,n,r,o=hJ(i);function i(){return fJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return"Login"}},{key:"clickButton",value:function(t){this.emit("showLoginWindow")}}])&&pJ(e.prototype,n),r&&pJ(e,r),i}(cU);function mJ(t){return(mJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OJ(t,e){return(OJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jJ(t);if(e){var o=jJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SJ(this,n)}}function SJ(t,e){return!e||"object"!==mJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jJ(t){return(jJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var PJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OJ(t,e)}(i,t);var e,n,r,o=kJ(i);function i(){return gJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIcon",value:function(){return"github"}},{key:"getTitle",value:function(){return"Sign"}},{key:"clickButton",value:function(t){this.emit("showSignWindow")}}])&&wJ(e.prototype,n),r&&wJ(e,r),i}(cU);function xJ(t){return(xJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EJ(t,e){return(EJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=TJ(t);if(e){var o=TJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CJ(this,n)}}function CJ(t,e){return!e||"object"!==xJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TJ(t){return(TJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var DJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EJ(t,e)}(i,t);var e,n,r,o=_J(i);function i(){return RJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.artboard}},{key:"getTitle",value:function(){return this.props.title||"Artboard"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addArtBoard")}}])&&$J(e.prototype,n),r&&$J(e,r),i}(cU);function AJ(t){return(AJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LJ(t,e){return(LJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function MJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=BJ(t);if(e){var o=BJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zJ(this,n)}}function zJ(t,e){return!e||"object"!==AJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BJ(t){return(BJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LJ(t,e)}(i,t);var e,n,r,o=MJ(i);function i(){return IJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.edit}},{key:"getTitle",value:function(){return this.props.title||"Draw"}},{key:"clickButton",value:function(t){this.emit("addLayerView","brush")}}])&&VJ(e.prototype,n),r&&VJ(e,r),i}(cU);function GJ(t){return(GJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YJ(t,e){return(YJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function NJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=UJ(t);if(e){var o=UJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KJ(this,n)}}function KJ(t,e){return!e||"object"!==GJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UJ(t){return(UJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var WJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YJ(t,e)}(i,t);var e,n,r,o=NJ(i);function i(){return HJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.brush}},{key:"getTitle",value:function(){return this.props.title||"draw a brush"}},{key:"isHideTitle",value:function(){return!0}},{key:"clickButton",value:function(t){this.emit("addLayerView","brush")}},{key:gi("addLayerView"),value:function(t){this.setSelected("brush"===t)}}])&&XJ(e.prototype,n),r&&XJ(e,r),i}(cU);function ZJ(t){return(ZJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QJ(t,e){return(QJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nQ(t);if(e){var o=nQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eQ(this,n)}}function eQ(t,e){return!e||"object"!==ZJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nQ(t){return(nQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QJ(t,e)}(i,t);var e,n,r,o=tQ(i);function i(){return qJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.video}},{key:"getTitle",value:function(){return this.props.title||"Video"}},{key:"clickButton",value:function(){this.emit("addLayerView","video")}}])&&JJ(e.prototype,n),r&&JJ(e,r),i}(cU);function oQ(t){return(oQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cQ(t,e){return(cQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lQ(t);if(e){var o=lQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sQ(this,n)}}function sQ(t,e){return!e||"object"!==oQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lQ(t){return(lQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fQ={KeyBoard:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cQ(t,e)}(i,t);var e,n,r,o=uQ(i);function i(){return iQ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getIconString",value:function(){return vm.keyboard}},{key:"getTitle",value:function(){return this.$i18n("menu.item.shortcuts.title")}},{key:"clickButton",value:function(t){this.emit("showShortcutWindow")}}])&&aQ(e.prototype,n),r&&aQ(e,r),i}(cU),AddVideo:rQ,AddDrawBrush:WJ,AddDrawPath:FJ,AddArtboard:DJ,SignButton:PJ,LoginButton:bJ,AddSVGText:sJ,AddCylinder:eJ,AddSVGTextPath:Kq,Fullscreen:zq,AddSVGCircle:Cq,AddSVGRect:Sq,SelectTool:dq,Download:cq,Save:QZ,AddCube:EZ,AddImage:LZ,AddPath:YZ,Manual:OZ,ExportView:yZ,AddText:iZ,SameHeight:HW,SameWidth:qW,TopAlign:gW,BottomAlign:RW,MiddleAlign:IW,CenterAlign:fW,RightAlign:rW,LeftAlign:WU,AddCircle:FU,AddRect:DU,ExportCodePen:PU,Github:dU};function pQ(t){return(pQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dQ(t,e){return(dQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mQ(t);if(e){var o=mQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bQ(this,n)}}function bQ(t,e){return!e||"object"!==pQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mQ(t){return(mQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dQ(t,e)}(i,t);var e,n,r,o=vQ(i);function i(){return yQ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return fQ}},{key:"template",value:function(){return"\n      <div class='tool-menu center'>\n        <div class='items'>\n          <div class='draw-items' ref='$items' data-selected-value=\"".concat(this.$editor.layout,"\">\n\n            <SelectTool />\n            <span data-item='css'>\n              <AddRect />\n              <AddCircle />         \n              <AddText />\n              <AddImage />\n              <AddVideo />\n            </span>            \n            <span data-item='svg'>\n              <div class='divider'></div>\n              <AddDrawPath />\n              <AddPath />\n              <AddSVGRect />\n              <AddSVGCircle />            \n              \x3c!-- <AddSVGText /> --\x3e\n              <AddSVGTextPath />\n              <AddPolygon />\n            </span>\n          </div>\n        </div>\n\n      </div>\n    ")}},{key:gi("changedEditorlayout"),value:function(){this.refs.$items.attr("data-selected-value",this.$editor.layout)}},{key:gi("noneSelectMenu"),value:function(){var t=this.refs.$items.$(".selected");t&&t.removeClass("selected")}},{key:lr("$items button"),value:function(t){t.$dt.onlyOneClass("selected")}}])&&hQ(e.prototype,n),r&&hQ(e,r),i}(wi);function wQ(t){return(wQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SQ(t,e){return(SQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xQ(t);if(e){var o=xQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PQ(this,n)}}function PQ(t,e){return!e||"object"!==wQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xQ(t){return(xQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var RQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SQ(t,e)}(i,t);var e,n,r,o=jQ(i);function i(){return OQ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return bK}},{key:"onToggleShow",value:function(){}},{key:"template",value:function(){return"\n        <div class='property ".concat(this.isHideHeader()?"no-title":""," ").concat(this.getClassName()," ").concat(this.isFirstShow()?"show":"","'>\n            ").concat(this.isHideHeader()?"":"\n            <div class='property-title ".concat(this.getTitleClassName(),'\' ref="$title">\n                <label class="').concat(this.hasKeyframe()?"has-keyframe":"",'"> \n                  ').concat(this.hasKeyframe()?"\n                      <span class='add-timeline-property' data-property='".concat(this.getKeyframeProperty(),"'></span>\n                    "):""," \n                  <span ref='$propertyTitle'>").concat(this.getTitle(),"</span>\n                  <span class='icon'>").concat(vm.chevron_right,'</span>\n                </label>\n                <span class="tools">').concat(this.getTools(),"</span>\n            </div>"),"\n            <div class='property-body'>").concat(this.getBody(),"</div>\n            ").concat(this.getFooter()?"<div class='property-footer'>".concat(this.getFooter(),"</div>"):"","\n        </div>\n        ")}},{key:"setTitle",value:function(t){this.refs.$propertyTitle.text(t)}},{key:"hasKeyframe",value:function(){return!1}},{key:"isHideHeader",value:function(){return!1}},{key:"isFirstShow",value:function(){return!0}},{key:"getClassName",value:function(){return""}},{key:"getTitleClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:"getFooter",value:function(){return""}},{key:lr("$title label"),value:function(t){var e=t.$dt.parent(),n=er.create(t.target).hasClass("add-timeline-property");e.hasClass("property-title")&&!1===n&&(this.$el.toggleClass("show"),this.onToggleShow())}},{key:lr("$title .icon"),value:function(t){t.$dt.parent().hasClass("property-title")&&(this.$el.toggleClass("show"),this.onToggleShow())}},{key:lr("$el .property-body .add-timeline-property")+Nr+Kr,value:function(t){var e=t.$dt.attr("data-property"),n=t.$dt.attr("data-editor");this.emit("addTimelineCurrentProperty",{property:e,editor:n})}},{key:lr("$el .property-title .add-timeline-property")+Nr+Kr,value:function(t){var e=t.$dt.attr("data-property"),n=t.$dt.attr("data-editor");this.emit("addTimelineCurrentProperty",{property:e,editor:n})}},{key:"isPropertyShow",value:function(){return this.$el.hasClass("show")}},{key:"toggle",value:function(t){this.$el.toggle(t)}},{key:"hide",value:function(){this.$el.hide()}},{key:"show",value:function(){this.$el.show()}},{key:"onShowTitle",value:function(t){}},{key:"refreshShowIsNot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.$selection.current;n&&(t.includes(n.itemType)?this.hide():(this.show(),e&&this.refresh()))}},{key:"refreshShow",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.$selection.current;n&&(le(t)&&t()||!le(t)&&t.includes(n.itemType))?(this.show(),e&&this.refresh()):this.hide()}},{key:"startInputEditing",value:function(t){t&&(t.attr("contenteditable",!0),t.css({"background-color":"white",outline:"1px auto black",color:"black"}),t.focus())}},{key:"endInputEditing",value:function(t,e){if(t){t.attr("contenteditable",!1),t.css({"background-color":null,outline:null,color:null});var n=t.attr("data-index");e&&e(n,t.text().trim()),t.blur()}}}])&&kQ(e.prototype,n),r&&kQ(e,r),i}(wi);function $Q(t){return($Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CQ(t,e){return(CQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=AQ(t);if(e){var o=AQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DQ(this,n)}}function DQ(t,e){return!e||"object"!==$Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AQ(t){return(AQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var IQ=["visible","hidden","scroll","auto"],VQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CQ(t,e)}(i,t);var e,n,r,o=TQ(i);function i(){return EQ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("background.color.property.title")}},{key:"isHideHeader",value:function(){return!0}},{key:"getOverflowList",value:function(){var t=this;return IQ.map((function(e){return"".concat(e,":").concat(t.$i18n("background.color.property.overflow.".concat(e)))})).join(",")}},{key:"getBody",value:function(){return"\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='rotate'></span>\n        </div>\n        <RangeEditor \n          ref='$rotate' \n          key='rotate' \n          label='".concat(this.$i18n("background.color.property.rotate"),"'\n          min=\"0\"\n          max=\"360\"\n          step=\"0.01\"\n          units=\"deg\"\n          onchange=\"changeRotate\" />\n      </div>        \n\n\n        <div class='property-item animation-property-item' style='display:none;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='z-index'></span>\n          </div>\n          <NumberRangeEditor \n            ref='$zIndex' \n            key='z-index' \n            label='").concat(this.$i18n("background.color.property.zindex"),"'\n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeSelect\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='opacity'></span>\n          </div>\n          <NumberRangeEditor \n            ref='$opacity' \n            key='opacity' \n            label='").concat(this.$i18n("background.color.property.opacity"),"'\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeSelect\" />\n        </div>        \n        \n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='mix-blend-mode'></span>\n          </div>\n          <BlendSelectEditor \n            label='").concat(this.$i18n("background.color.property.blend"),"'\n            ref='$mixBlend' \n            removable='true'\n            key='mix-blend-mode' \n            icon=\"true\" \n            tabIndex=\"1\"\n            onchange=\"changeSelect\" />\n        </div>        \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='overflow'></span>\n          </div>\n          <SelectEditor \n            label='").concat(this.$i18n("background.color.property.overflow"),"'\n            ref='$overflow' \n            removable='true'\n            key='overflow' \n            icon=\"true\" \n            tabIndex=\"1\"\n            options=\"").concat(this.getOverflowList(),'" \n            onchange="changeSelect" />\n        </div>                \n      ')}},{key:gi("refreshRect"),value:function(){var t=this.$selection.current;if(t&&!1===t.is("artboard")){var e=fa.get(t.transform,"rotateZ");e&&this.children.$rotate.setValue(e[0])}}},{key:gi("changeRotate"),value:function(t,e){var n=this,r=this.$selection.current;r&&!1===r.is("artboard")&&(this.command("setAttribute","change transform for rotate",{transform:function(t){return fa.replace(t.transform,{type:"rotateZ",value:[R.deg(e)]})}}),this.nextTick((function(){n.emit("refreshRect")})))}},{key:"refresh",value:function(){var t=this.$selection.current;if(t){this.children.$zIndex.setValue(t["z-index"]||0),this.children.$opacity.setValue(t.opacity||"1"),this.children.$mixBlend.setValue(t["mix-blend-mode"]),this.children.$overflow.setValue(t.overflow);var e=fa.get(t.transform,"rotateZ");e&&this.children.$rotate.setValue(e[0])}}},{key:gi("changeSelect"),value:function(t,e){this.command("setAttribute","change attribute : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"afterRender",value:function(){this.show()}},{key:gi("refreshSelection"),value:function(){this.refresh()}}])&&_Q(e.prototype,n),r&&_Q(e,r),i}(RQ);function LQ(t){return(LQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BQ(t,e){return(BQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function FQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=HQ(t);if(e){var o=HQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GQ(this,n)}}function GQ(t,e){return!e||"object"!==LQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HQ(t){return(HQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var XQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BQ(t,e)}(i,t);var e,n,r,o=FQ(i);function i(){return MQ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("border.radius.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"border-radius"}},{key:"getBody",value:function(){return"<div class=\"property-item full border-radius-item\" ref='$body'></div>"}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{})["border-radius"]||"";return"\n      <BorderRadiusEditor ref='$1' value='".concat(t,"' onchange='changeBorderRadius' />\n    ")}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShow(["rect","circle","text","cube","cylinder"])}},{key:gi("changeBorderRadius"),value:function(t){this.command("setAttribute","change border radius",{"border-radius":t})}}])&&zQ(e.prototype,n),r&&zQ(e,r),i}(RQ);function YQ(t){return(YQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UQ(t,e){return(UQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qQ(t);if(e){var o=qQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ZQ(this,n)}}function ZQ(t,e){return!e||"object"!==YQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qQ(t){return(qQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var JQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UQ(t,e)}(i,t);var e,n,r,o=WQ(i);function i(){return NQ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"isHideHeader",value:function(){return!0}},{key:"getTitle",value:function(){return this.$i18n("size.property.title")}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot("project")}},{key:gi("refreshRect")+Hr(100),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$width.setValue(t.width),this.children.$height.setValue(t.height))}},{key:"getBody",value:function(){return"\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; padding-top: 10px;'>\n        <div class='property-item animation-property-item' style='padding:0px'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='width'></span>\n          </div>\n          <InputRangeEditor ref='$width' key='width' min=\"0\" max='3000' onchange='changRangeEditor' />\n        </div>\n        <div class='property-item animation-property-item' style='padding:0px'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='height'></span>      \n          </div>\n          <InputRangeEditor ref='$height' key='height' min=\"0\" max='3000' onchange='changRangeEditor' />\n        </div>      \n      </div>\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; text-align: center;padding: 4px 0px;'>\n        <span>".concat(this.$i18n("size.property.width"),"</span>\n        <span>").concat(this.$i18n("size.property.height"),"</span>\n      </div>\n    ")}},{key:gi("changRangeEditor"),value:function(t,e){this.$selection.reset(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.emit("resetSelection")}}])&&KQ(e.prototype,n),r&&KQ(e,r),i}(RQ);function QQ(t){return(QQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n0(t,e){return(n0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i0(t);if(e){var o=i0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return o0(this,n)}}function o0(t,e){return!e||"object"!==QQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i0(t){return(i0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n0(t,e)}(i,t);var e,n,r,o=r0(i);function i(){return t0(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("boxshadow.property.title")}},{key:"getBody",value:function(){return'\n      <div class="full box-shadow-item" ref="$shadowList"></div>\n    '}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"box-shadow"}},{key:Ur("$shadowList"),value:function(){var t=this.$selection.current||{};return"\n      <BoxShadowEditor ref='$boxshadow' value=\"".concat(t["box-shadow"]||"",'" hide-label="true" onChange="changeBoxShadow" />\n    ')}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(vm.add,"</button>")}},{key:lr("$add"),value:function(){this.children.$boxshadow.trigger("add")}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShow(["artboard","rect","circle","text"])}},{key:gi("changeBoxShadow"),value:function(t){this.command("setAttribute","change box shadow",{"box-shadow":t})}}])&&e0(e.prototype,n),r&&e0(e,r),i}(RQ);function c0(t){return(c0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f0(t,e){return(f0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d0(t);if(e){var o=d0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h0(this,n)}}function h0(t,e){return!e||"object"!==c0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d0(t){return(d0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b0(t){return function(t){if(Array.isArray(t))return m0(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return m0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m0(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var g0=[];["margin","padding"].forEach((function(t){g0.push.apply(g0,b0(["-top","-bottom","-left","-right"].map((function(e){return t+e}))))}));var w0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f0(t,e)}(i,t);var e,n,r,o=p0(i);function i(){return s0(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("box.model.property.title")}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShow(["artboard","rect","circle","text"])}},{key:"getBody",value:function(){return'<div class="property-item box-model-item" ref="$boxModelItem"></div>'}},{key:"templateInput",value:function(t,e){var n=e[t]||R.z();return'<input type="number" ref="$'.concat(t,'" value="').concat(n.value,'" tabIndex="1" />')}},{key:Ur("$boxModelItem"),value:function(){var t=this.$selection.current;return t?'\n      <div>\n        <div class="margin" data-title="'.concat(this.$i18n("box.model.property.margin"),'">\n          <div data-value="top">\n            ').concat(this.templateInput("margin-top",t),'\n          </div>\n          <div data-value="bottom">\n            ').concat(this.templateInput("margin-bottom",t),'\n          </div>\n          <div data-value="left">\n            ').concat(this.templateInput("margin-left",t),'\n          </div>\n          <div data-value="right">\n            ').concat(this.templateInput("margin-right",t),'\n          </div>\n        </div>\n        <div class="padding" data-title="').concat(this.$i18n("box.model.property.padding"),'">\n          <div data-value="top">\n            ').concat(this.templateInput("padding-top",t),'\n          </div>\n          <div data-value="bottom">\n            ').concat(this.templateInput("padding-bottom",t),'\n          </div>\n          <div data-value="left">\n            ').concat(this.templateInput("padding-left",t),'\n          </div>\n          <div data-value="right">\n            ').concat(this.templateInput("padding-right",t),"\n          </div>\n        </div>\n        <div class='content' title='Content'>\n        \n        </div>\n      </div>\n    "):""}},{key:Or("$boxModelItem input"),value:function(t){this.resetBoxModel()}},{key:"resetBoxModel",value:function(){var t=this,e={};g0.forEach((function(n){e[n]=R.px(t.getRef("$",n).value)})),this.command("setAttribute","change padding or margin",e)}}])&&l0(e.prototype,n),r&&l0(e,r),i}(RQ);function O0(t){return(O0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j0(t,e){return(j0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$0(t);if(e){var o=$0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R0(this,n)}}function R0(t,e){return!e||"object"!==O0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $0(t){return($0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j0(t,e)}(i,t);var e,n,r,o=P0(i);function i(){return k0(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Content"}},{key:gi("refreshSelection","refreshContent")+Gr(100),value:function(){this.refreshShow(["text"])}},{key:"getBody",value:function(){return'\n      <div class="property-item content-item">\n        <textarea ref="$contentItem"></textarea>\n      </div>\n    '}},{key:Jr("$contentItem"),value:function(){var t=this.$selection.current;return t?{value:t.content||""}:""}},{key:Or("$contentItem"),value:function(t){this.setContent()}},{key:"setContent",value:function(){var t=this.$selection.current;if(t){var e={content:this.refs.$contentItem.value};t.reset(e),this.emit("refreshCanvasForPartial",t)}}}])&&S0(e.prototype,n),r&&S0(e,r),i}(RQ);function _0(t){return(_0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D0(t,e){return(D0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V0(t);if(e){var o=V0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(t,e){return!e||"object"!==_0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V0(t){return(V0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D0(t,e)}(i,t);var e,n,r,o=A0(i);function i(){return C0(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("font.property.title")}},{key:"getClassName",value:function(){return"item"}},{key:"afterRender",value:function(){this.show()}},{key:gi("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$color.setValue(t.color||"rgba(0, 0, 0, 1)"),this.children.$size.setValue(t["font-size"]),this.children.$stretch.setValue(t["font-stretch"]||"0%"),this.children.$style.setValue(t["font-style"]),this.children.$family.setValue(t["font-family"]))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='color'></span>\n        </div>\n        <ColorViewEditor ref='$color' label='".concat(this.$i18n("font.property.color"),"' key='color' onchange=\"changeColor\" />\n      </div>      \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-size'></span>\n        </div>\n        <RangeEditor \n          ref='$size' \n          label='").concat(this.$i18n("font.property.size"),"' \n          key=\"font-size\" \n          \n          onchange=\"changeRangeEditor\" />\n      </div>\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-stretch'></span>\n        </div>\n        <RangeEditor \n          ref='$stretch' \n          label='").concat(this.$i18n("font.property.stretch"),"' \n          key=\"font-stretch\" \n          \n          units='%',\n          onchange=\"changeRangeEditor\" />\n      </div>      \n \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='font-weight'></span>\n        </div>\n        <NumberRangeEditor \n          ref='$weightRange' \n          label='").concat(this.$i18n("font.property.weight"),'\' \n          key=\'font-weight\' \n         \n          value="400" \n          min="100"\n          max="900"\n          step="1"\n          calc="false"\n          unit="number" \n          onchange="changeRangeEditor" \n          />\n      </div>              \n      <div class=\'property-item\'>\n        <SelectIconEditor \n          ref=\'$style\' \n          label=\'').concat(this.$i18n("font.property.style"),"' \n          key=\"font-style\" \n          options=\"normal:I,italic\" \n          icons='I,italic'\n          onchange=\"changeRangeEditor\" />\n      </div>      \n\n      <div class='property-item'>\n        <SelectEditor \n          ref='$family' \n          icon=\"true\"\n          label='").concat(this.$i18n("font.property.family"),'\' \n          key="font-family" \n          options=",serif,sans-serif,monospace,cursive,fantasy,system-ui" \n          onchange="changeRangeEditor" \n        />\n      </div> \n         \n    ')}},{key:gi("changeColor"),value:function(t,e){this.trigger("changeRangeEditor",t,e)}},{key:gi("changeRangeEditor"),value:function(t,e){this.command("setAttribute","change font attribute",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&T0(e.prototype,n),r&&T0(e,r),i}(RQ);function M0(t){return(M0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F0(t,e){return(F0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=X0(t);if(e){var o=X0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H0(this,n)}}function H0(t,e){return!e||"object"!==M0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X0(t){return(X0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F0(t,e)}(i,t);var e,n,r,o=G0(i);function i(){return z0(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("text.shadow.property.title")}},{key:"getBody",value:function(){return'\n      <div class="full text-shadow-item" ref="$shadowList"></div>\n    '}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"text-shadow"}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(vm.add,"</button>")}},{key:lr("$add"),value:function(){this.children.$textshadow.trigger("add")}},{key:Ur("$shadowList"),value:function(){var t=this.$selection.current||{};return"\n      <TextShadowEditor ref='$textshadow' value=\"".concat(t["text-shadow"]||"",'" hide-label="true" onChange="changeTextShadow" />\n    ')}},{key:"afterRender",value:function(){this.show()}},{key:gi("refreshSelection"),value:function(){this.refresh()}},{key:gi("changeTextShadow"),value:function(t){this.command("setAttribute","change text shadow",{"text-shadow":t})}}])&&B0(e.prototype,n),r&&B0(e,r),i}(RQ);function N0(t){return(N0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W0(t,e){return(W0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=J0(t);if(e){var o=J0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q0(this,n)}}function q0(t,e){return!e||"object"!==N0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J0(t){return(J0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W0(t,e)}(i,t);var e,n,r,o=Z0(i);function i(){return K0(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("text.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:gi("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$align.setValue(t["text-align"]),this.children.$transform.setValue(t["text-transform"]),this.children.$decoration.setValue(t["text-decoration"]))}},{key:"getBody",value:function(){return"\n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$align' \n          label='".concat(this.$i18n("text.property.align"),"' \n          key='text-align' \n          value='left' \n          options=\"left,center,right,justify\" \n          icons=\"align_left,align_center,align_right,align_justify\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$transform' \n          label='").concat(this.$i18n("text.property.transform"),"' \n          key='text-transform' \n          options=\"none,uppercase:A,lowercase:a,capitalize:Aa\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class=\"property-item\">\n        <SelectIconEditor \n          ref='$decoration' \n          label='").concat(this.$i18n("text.property.decoration"),"' \n          key='text-decoration' \n          options=\"none,underline,overline:O,line-through\" \n          icons=\"A,underline,O,strikethrough\"\n          onchange='changeTextValue' />        \n      </div>                    \n    ")}},{key:gi("changeTextValue"),value:function(t,e){this.command("setAttribute","change text property : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&U0(e.prototype,n),r&&U0(e,r),i}(RQ);function t1(t){return(t1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r1(t,e){return(r1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o1(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a1(t);if(e){var o=a1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i1(this,n)}}function i1(t,e){return!e||"object"!==t1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a1(t){return(a1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c1=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r1(t,e)}(i,t);var e,n,r,o=o1(i);function i(){return e1(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("font.spacing.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:gi("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$lineHeight.setValue(t["line-height"]||R.number(1)),this.children.$letter.setValue(t["letter-spacing"]||"0px"),this.children.$word.setValue(t["word-spacing"]||"0px"),this.children.$indent.setValue(t["text-indent"]||"0px"))}},{key:"getBody",value:function(){return"\n\n    <div class='property-item animation-property-item'>\n      <div class='group'>\n        <span class='add-timeline-property' data-property='line-height'></span>\n      </div>\n      <RangeEditor \n        ref='$lineHeight' \n        label='".concat(this.$i18n("font.spacing.property.lineHeight"),"' \n        key=\"line-height\" \n        units=\",px,%,em\"\n        onchange=\"changeRangeEditor\" />\n    </div>       \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='letter-spacing'></span>\n        </div>\n        <RangeEditor ref='$letter' label='").concat(this.$i18n("font.spacing.property.letterSpacing"),"' key=\"letter-spacing\" min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='word-spacing'></span>\n        </div>\n        <RangeEditor ref='$word' label='").concat(this.$i18n("font.spacing.property.wordSpacing"),"' key=\"word-spacing\"  min=\"-100\" max=\"100\" onchange=\"changeRangeEditor\" />\n      </div>\n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-indent'></span>\n        </div>      \n        <RangeEditor ref='$indent' label='").concat(this.$i18n("font.spacing.property.indent"),'\' key="text-indent"  min="-100" max="100" onchange="changeRangeEditor" />\n      </div>      \n    ')}},{key:gi("changeRangeEditor"),value:function(t,e){""===e.unit&&(e=R.number(e.value)),this.command("setAttribute","change font attribute: ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&n1(e.prototype,n),r&&n1(e,r),i}(RQ);function s1(t){return(s1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f1(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l1(Object(n),!0).forEach((function(e){p1(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h1(t){return function(t){if(Array.isArray(t))return d1(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d1(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g1(t,e){return(g1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w1(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k1(t);if(e){var o=k1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O1(this,n)}}function O1(t,e){return!e||"object"!==s1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k1(t){return(k1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S1=[{key:"top",title:"Top"},{key:"bottom",title:"Bottom"},{key:"left",title:"Left"},{key:"right",title:"Right"}],j1=S1.map((function(t){return t.key})),P1={image:"Image","static-gradient":"Static","linear-gradient":"Linear","repeating-linear-gradient":"".concat(vm.repeat," Linear"),"radial-gradient":"Radial","repeating-radial-gradient":"".concat(vm.repeat," Radial"),"conic-gradient":"Conic","repeating-conic-gradient":"".concat(vm.repeat," Conic")},R1=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g1(t,e)}(i,t);var e,n,r,o=w1(i);function i(){return b1(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Border Image"}},{key:gi("refreshSelection"),value:function(){this.refresh()}},{key:"getTools",value:function(){var t=(this.$selection.current||{}).appliedBorderImage||!1;return"\n      <label><input type='checkbox' ".concat(t?"checked":""," ref='$apply' /> Apply</label>\n    ")}},{key:lr("$apply"),value:function(){var t=this.$selection.current;if(t){var e=this.refs.$apply.checked();t.reset({applyBorderImage:e}),this.emit("refreshElement",t)}}},{key:"getColorStepList",value:function(t){switch(t.type){case"static-gradient":case"linear-gradient":case"repeating-linear-gradient":case"radial-gradient":case"repeating-radial-gradient":case"conic-gradient":case"repeating-conic-gradient":return this.getColorStepString(t.colorsteps)}return""}},{key:"getColorStepString",value:function(t){return t.map((function(t){return"<div class='step' data-colorstep-id=\"".concat(t.id,"\" data-selected='").concat(t.selected,"' style='background-color:").concat(t.color,";'></div>")})).join("")}},{key:Ur("$borderImageView"),value:function(){var t=(this.$selection.current||{borderImage:{image:{}}}).borderImage,e=t.type?P1[t.type]:"",n="background-image: ".concat(t.image.toString(),"; background-size: cover;");return" \n      <div class='preview' ref=\"$preview\">\n        <div class='mini-view'>\n          <div class='color-view'  style=\"".concat(n,"\" ref=\"$miniView\"></div>\n        </div>\n      </div> \n      <div class='fill-info'>\n        <div class='gradient-info'>\n          <div class='fill-title' ref=\"$fillTitle\">").concat(e,"</div>\n          <div class='colorsteps' ref=\"$colorsteps\">\n            ").concat(this.getColorStepList(t.image),"\n          </div>\n        </div>\n      </div>\n    ")}},{key:gi("changeBorderImage"),value:function(t,e){var n=this;"border-image-slice"===t&&j1.forEach((function(t){n.children["$".concat(t,"Slice")].setValue(e)})),this.setBorderImageProperty()}},{key:"getBody",value:function(){return this.$selection.current,'\n      <div class="property-item border-image-item" ref=\'$borderImageView\'></div>    \n      <div class="property-item border-slice-item">\n        <div class="slice-selector" data-selected-value="all" ref="$selector">\n          <button type="button" data-value="all">'.concat(vm.border_all,'</button>\n          <button type="button" data-value="partitial">\n            ').concat(vm.border_inner,'\n          </button>\n        </div>\n        <div class="slice-value">\n          <RangeEditor ref=\'$allSlice\' key=\'border-image-slice\' onchange=\'changeBorderImage\' />\n        </div>\n      </div>\n      <div\n        class="property-item border-slice-item full has-list"\n        ref="$partitialSetting"\n        style="display: none;"\n      >\n        <div class="slice-setting-box" ref="$sliceSettingBox">\n          ').concat(S1.map((function(t){return"\n              <div>\n                <label class='title'>".concat(t.title,"</label>\n              </div>\n              <div>\n                <RangeEditor ref='$").concat(t.key,"Slice' label='Slice' key='border-image-slice-").concat(t.key,"' onchange='changeBorderImage' /> \n              </div>  \n              <div>\n                <RangeEditor ref='$").concat(t.key,"Width' label='Width' key='border-image-width-").concat(t.key,"' onchange='changeBorderImage' /> \n              </div>                \n            ")})).join(""),"\n        </div>\n      </div>\n    ")}},{key:wr("$sliceSettingBox select"),value:function(t){this.setBorderImageProperty()}},{key:lr("$borderImageView .preview"),value:function(){this.viewFillPopup(this.refs.$preview,"")}},{key:lr("$borderImageView .colorsteps .step"),value:function(t){this.refs.$colorsteps.$('[data-selected="true"]').removeAttr("data-selected");var e=t.$dt.attr("data-colorstep-id");t.$dt.attr("data-selected",!0);var n=t.$dt.closest("border-image-item").$(".preview");this.viewFillPopup(n,e)}},{key:"getFillData",value:function(t){var e={type:t.type};switch(e.type){case"image":e.url=t.image?t.image.url:"";break;default:if(t.image){var n=t.image;e.type=n.type,e.colorsteps=h1(n.colorsteps),e.angle=n.angle,e.radialType=n.radialType||"ellipse",e.radialPosition=n.radialPosition||j.CENTER}else e.colorsteps=[],e.angle=0,e.radialType="ellipse",e.radialPosition=j.CENTER}return e}},{key:"viewFillPopup",value:function(t,e){var n=this.$selection.current;n&&this.emit("showFillPopup",f1(f1({changeEvent:"changeBorderImageFillPopup"},this.getFillData(n.borderImage)),{},{selectColorStepId:e,refresh:!0}))}},{key:"viewChangeImage",value:function(t){var e=this.$selection.current;if(e){var n,r=e.borderImage;r&&((n=this.getRef("$miniView"))&&r.image&&n.css({"background-image":r.image.toString(),"background-size":"cover"}),(n=this.getRef("$fillTitle"))&&n.html(P1.image),(n=this.getRef("$colorsteps",this.selectedIndex))&&n.empty())}}},{key:"setImage",value:function(t){var e=this.$selection.current;e&&(e.borderImage.setImageUrl(t),this.viewChangeImage(t),this.emit("refreshElement",e))}},{key:"viewChangeGradient",value:function(t){var e=this.$selection.current;if(e){var n,r=e.borderImage;r&&((n=this.getRef("$miniView"))&&n.css({"background-image":r.image.toString(),"background-size":"cover"}),(n=this.getRef("$fillTitle"))&&n.html(P1[t.type]),(n=this.getRef("$colorsteps",this.selectedIndex))&&n.html(this.getColorStepString(t.colorsteps)))}}},{key:"setGradient",value:function(t){var e=this.$selection.current;e&&(e.borderImage.setGradient(t),this.viewChangeGradient(t),this.emit("refreshElement",e))}},{key:gi("changeBorderImageFillPopup"),value:function(t){switch(t.type){case"image":this.setImage(t);break;default:this.setGradient(t)}}},{key:"setBorderImageProperty",value:function(){var t=this,e=this.$selection.current;if(e){var n=e.borderImage;if("all"===this.refs.$selector.attr("data-selected-value")){var r=this.children.$allSlice.getValue();n.reset({slice:{top:r.clone(),right:r.clone(),bottom:r.clone(),left:r.clone()}})}else j1.forEach((function(e){n.slice[e]=t.children["$".concat(e,"Slice")].getValue(),n.width[e]=t.children["$".concat(e,"Width")].getValue()}));this.emit("refreshElement",e)}}},{key:lr("$selector button"),value:function(t){var e=t.$dt.attr("data-value");this.refs.$selector.attr("data-selected-value",e),"all"===e?this.refs.$partitialSetting.hide():this.refs.$partitialSetting.show("grid"),this.setBorderImageProperty()}}])&&m1(e.prototype,n),r&&m1(e,r),i}(RQ);function $1(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@";return"".concat(e).concat(t.startIndex).padEnd(10,"0")}function E1(t,e){var n=function(t,e){var n=t.match(e),r=[];if(!n)return r;for(var o=0,i=n.length;o<i;o++)r.push({parsedString:n[o]});var a={next:0};return r.forEach((function(e){var n=t.indexOf(e.parsedString,a.next);e.startIndex=n,e.endIndex=n+e.parsedString.length,a.next=e.endIndex})),r}(t,e);return n.forEach((function(e){t=t.replace(e.parsedString,$1(e))})),{str:t,matches:n}}function _1(t,e){return e.forEach((function(e){t=t.replace($1(e),e.parsedString)})),t}function C1(t){return(C1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A1(t,e,n){return(A1="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M1(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function I1(t,e){return(I1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V1(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M1(t);if(e){var o=M1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L1(this,n)}}function L1(t,e){return!e||"object"!==C1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M1(t){return(M1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var z1=/((cubic-bezier|steps)\(([^\)]*)\))/gi,B1=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I1(t,e)}(i,t);var e,n,r,o=V1(i);function i(){return T1(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}},{key:"join",value:function(t){return t.map((function(t){return new i(t).toString()})).join(",")}},{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.parseStyle(t);return n.push(i.parse(e)),i.join(n)}},{key:"remove",value:function(t,e){return i.filter(t,(function(t,n){return e!=n}))}},{key:"filter",value:function(t,e){return i.join(i.parseStyle(t).filter((function(t){return e(t)})))}},{key:"replace",value:function(t,e,n){var r=i.parseStyle(t);return r[e]?r[e]=n:r.push(n),i.join(r)}},{key:"get",value:function(t,e){return i.parseStyle(t)[e]}},{key:"parseStyle",value:function(t){var e=[];if(!t)return e;var n=E1(t,z1);return(e=n.str.split(",").map((function(t){var e=t.split(" ").filter(Boolean);return e.length>=7?{duration:R.parse(e[0]),timingFunction:_1(e[1],n.matches),delay:R.parse(e[2]),iterationCount:"infinite"===e[3]?R.string("infinite"):R.parse(e[3]),direction:e[4],fillMode:e[5],playState:e[6],name:e[7]}:e.length>=3?{duration:R.parse(e[0]),timingFunction:_1(e[1],n.matches),delay:R.parse(e[2]),name:e[3]}:e.length>=1?{duration:R.parse(e[0]),name:e[1]}:{}}))).map((function(t){return i.parse(t)}))}}],(n=[{key:"getDefaultObject",value:function(){return{itemType:"animation",checked:!0,name:"none",direction:"normal",duration:R.second(0),timingFunction:"linear",delay:R.second(0),iterationCount:R.string("infinite"),playState:"running",fillMode:"none"}}},{key:"convert",value:function(t){return(t=A1(M1(i.prototype),"convert",this).call(this,t)).duration=R.parse(t.duration),t.iterationCount=R.parse(t.iterationCount),t}},{key:"toCloneObject",value:function(){var t=this.json;return{name:t.name,direction:t.direction,duration:t.duration+"",timingFunction:t.timingFunction,delay:t.delay,iterationCount:t.iterationCount+"",playState:t.playState,fillMode:t.fillMode}}},{key:"togglePlayState",value:function(t){t?this.reset({playState:"running"===t?"running":"paused"}):"paused"===this.json.playState?this.reset({playState:"running"}):this.reset({playState:"paused"})}},{key:"toCSS",value:function(){return this.json.name?{animation:this.toString()}:{}}},{key:"toString",value:function(){var t=this.json;return[t.duration,t.timingFunction,t.delay,t.iterationCount,t.direction,t.fillMode,t.playState,t.name].join(" ")}}])&&D1(e.prototype,n),r&&D1(e,r),i}(Ui);function F1(t){return(F1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N1(t,e){return(N1=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K1(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=W1(t);if(e){var o=W1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U1(this,n)}}function U1(t,e){return!e||"object"!==F1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W1(t){return(W1=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z1=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N1(t,e)}(i,t);var e,n,r,o=K1(i);function i(){return X1(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("animation.property.title")}},{key:"getBody",value:function(){return"<div class='animation-list' ref='$animationList'></div>"}},{key:"getTools",value:function(){return'\n        <button type="button" ref="$add" title="add Fill">'.concat(vm.add,"</button>\n    ")}},{key:Ur("$animationList")+Fr,value:function(){var t=this,e=this.$selection.current;return e?B1.parseStyle(e.animation).map((function(e,n){var r=t.state.selectedIndex===n?"selected":"",o=Re(e.timingFunction,30,30);return"\n      <div class='animation-group-item'>\n        <div class='animation-item ".concat(r,"' \n             data-index='").concat(n,"' \n             ref=\"animationIndex").concat(n,"\" \n          >\n            <div class='timing preview' data-index='").concat(n,"' ref='$preview").concat(n,'\'>\n              <svg class=\'item-canvas\' width="30" height="30" viewBox="0 0 30 30">\n                <path d="').concat(o,"\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='title' ref=\"animationName").concat(n,'">\n                ').concat(e.name?e.name:"&lt; ".concat(t.$i18n("animation.property.select a keyframe")," &gt;"),"\n              </div>\n              <div class='labels'>\n                <label class='count' title='").concat(t.$i18n("animation.property.iteration.count"),"'><small>").concat(e.iterationCount,"</small></label>\n                <label class='delay' title='").concat(t.$i18n("animation.property.delay"),"'><small>").concat(e.delay,"</small></label>\n                <label class='duration' title='").concat(t.$i18n("animation.property.duration"),"'><small>").concat(e.duration,"</small></label>\n                <label class='direction' title='").concat(t.$i18n("animation.property.direction"),"'><small>").concat(e.direction,"</small></label>\n                <label class='fill-mode' title='").concat(t.$i18n("animation.property.fill.mode"),"'><small>").concat(e.fillMode,"</small></label>\n                <label class='play-state' title='").concat(t.$i18n("animation.property.play.state"),"' data-index='").concat(n,"' data-play-state-selected-value=\"").concat(e.playState,"\">\n                  <small data-play-state-value='running'>").concat(vm.play,"</small>\n                  <small data-play-state-value='paused'>").concat(vm.pause,'</small>\n                </label>\n              </div>\n            </div>\n            <div class=\'tools\'>\n                <button type="button" class="del" data-index="').concat(n,'">\n                  ').concat(vm.remove2,"\n                </button>\n            </div>\n        </div>\n      </div>        \n      ")})):""}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShowIsNot("project"),this.emit("hideAnimationPropertyPopup")}},{key:lr("$add"),value:function(t){var e=this.$selection.current;e&&(e.reset({animation:B1.add(e.animation,{name:null})}),this.emit("refreshElement",e)),this.refresh()}},{key:lr("$animationList .tools .del"),value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.reset({animation:B1.remove(n.animation,e)}),this.emit("refreshElement",n),this.refresh())}},{key:lr("$animationList .play-state"),value:function(t){var e=+t.$dt.attr("data-index"),n=this.$selection.current;if(n){var r=B1.parseStyle(n.animation),o=r[e];o&&(o.togglePlayState(),t.$dt.attr("data-play-state-selected-value",o.playState),n.reset({animation:B1.join(r)}),this.emit("refreshElement",n))}}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["animationIndex".concat(t)].addClass("selected"):this.refs["animationIndex".concat(t)].removeClass("selected")}},{key:"viewAnimationPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.current=this.$selection.current,this.current&&(this.currentAnimation=B1.get(this.current.animation,this.selectedIndex),this.viewAnimationPropertyPopup())}},{key:"viewAnimationPropertyPopup",value:function(){if(this.currentAnimation){var t=this.currentAnimation;this.emit("showAnimationPropertyPopup",{changeEvent:"changeAnimationPropertyPopup",data:t.toCloneObject(),instance:this})}}},{key:lr("$animationList .preview"),value:function(t){this.viewAnimationPicker(t.$dt)}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join("")]}},{key:gi("changeAnimationPropertyPopup"),value:function(t){this.currentAnimation&&(this.currentAnimation.reset(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G1(Object(n),!0).forEach((function(e){H1(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),this.current&&(this.current.reset({animation:B1.replace(this.current.animation,this.selectedIndex,this.currentAnimation)}),this.emit("refreshElement",this.current),this.refresh()))}}])&&Y1(e.prototype,n),r&&Y1(e,r),i}(RQ);function q1(t){return(q1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function t2(t,e){return(t2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function e2(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=r2(t);if(e){var o=r2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return n2(this,n)}}function n2(t,e){return!e||"object"!==q1(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r2(t){return(r2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o2=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&t2(t,e)}(i,t);var e,n,r,o=e2(i);function i(){return J1(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("keyframe.property.title")}},{key:"getBody",value:function(){return"<div class='keyframe-list' ref='$keyframeList'></div>"}},{key:"getTools",value:function(){return'\n      <button type="button" ref="$add" title="add Filter">'.concat(vm.add,"</button>\n    ")}},{key:"makeProperty",value:function(t){var e=t.key;return"x"===e?e="left":"y"===e&&(e="top"),"\n      <div class='offset-property-item'>\n        <label>".concat(e,":</label>\n        <div class='value'>").concat(t.value,"</div>\n      </div>\n    ")}},{key:"makeOffset",value:function(t){var e=this;return"\n      <div class='offset'>\n        <label>".concat(t.offset,"</label>\n        <div class='properties'>\n          ").concat(t.properties.map((function(t){return e.makeProperty(t)})).join(""),"\n        </div>        \n      </div>\n    ")}},{key:"makeKeyframeTemplate",value:function(t,e){var n=this;return e=e.toString(),"\n      <div class='keyframe-item' data-selected-value='".concat(t.selectedType,"' ref='$keyframeIndex").concat(e,"' data-index='").concat(e,"'>\n        <div class='title'>\n          <div class='name'>").concat(t.name,"</div>\n          <div class='tools'>\n            <div class='group'>\n              <button type=\"button\" data-type='list'>").concat(vm.list,"</button>\n              <button type=\"button\" data-type='code'>").concat(vm.code,'</button>\n            </div>\n            <button type="button" class="del" data-index="').concat(e,'">').concat(vm.remove2,"</button>\n          </div>\n        </div>\n        <div class='offset-list'>\n          <div class='container'>\n            ").concat(t.offsets.map((function(t){return"\n              <div class='offset' style='left: ".concat(t.offset,"; background-color: ").concat(t.color,"'></div>\n              ")})).join(""),"\n          </div>\n        </div>\n        <div class='keyframe-code' data-type='list'>\n          ").concat(t.offsets.map((function(t){return n.makeOffset(t)})).join(""),"\n        </div>\n        <div class='keyframe-code' data-type='code'>\n          <pre>").concat(t.toString().trim(),"</pre>\n        </div>        \n      </div>\n    ")}},{key:lr("$keyframeList .keyframe-item .title .group button[data-type]"),value:function(t){var e=t.$dt.closest("keyframe-item"),n=+e.attr("data-index"),r=t.$dt.attr("data-type"),o=this.$selection.currentProject;if(o){var i=o.keyframes[n];i&&i.reset({selectedType:r}),e.attr("data-selected-value",r)}}},{key:lr("$keyframeList .keyframe-item .offset-list"),value:function(t){var e=+t.$dt.closest("keyframe-item").attr("data-index");this.$selection.currentProject&&this.viewKeyframePicker(e)}},{key:lr("$keyframeList .del")+Nr,value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.currentProject;n&&(n.removeKeyframe(e),this.emit("refreshProject",n),this.refresh())}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShowIsNot("project")}},{key:Ur("$keyframeList"),value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.keyframe?_O.parseStyle(e):e.keyframes;return e.keyframe="",e.keyframes=n,n.map((function(e,n){return t.makeKeyframeTemplate(e,n)}))}},{key:lr("$add"),value:function(){var t=this.$selection.currentProject;t?(t.createKeyframe(),this.refresh(),this.emit("refreshProject",t)):alert("Please select a project.")}},{key:"viewKeyframePicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t,this.selectItem(this.selectedIndex,!0),this.current=this.$selection.currentProject,this.current&&(this.currentKeyframe=this.current.keyframes[this.selectedIndex],this.viewKeyframePropertyPopup())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.getRef("$keyframeIndex",t).addClass("selected"):this.getRef("$keyframeIndex",t).removeClass("selected"),this.current&&this.current.keyframes.forEach((function(e,n){e.selected=n===t}))}},{key:"viewKeyframePropertyPopup",value:function(t){if(this.current=this.$selection.currentProject,this.current){this.currentKeyframe=this.current.keyframes[this.selectedIndex];var e=this.currentKeyframe,n=e.name,r=e.offsets;this.emit("showKeyframePopup",{position:t,name:n,offsets:r})}}},{key:gi("changeKeyframePopup"),value:function(t){var e=this.$selection.currentProject;e&&(this.currentKeyframe=e.keyframes[this.selectedIndex],this.currentKeyframe&&this.currentKeyframe.reset(t),this.refresh(),this.emit("refreshProject",e))}}])&&Q1(e.prototype,n),r&&Q1(e,r),i}(RQ);function i2(t){return(i2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l2(t,e){return(l2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f2(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h2(t);if(e){var o=h2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p2(this,n)}}function p2(t,e){return!e||"object"!==i2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h2(t){return(h2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d2=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l2(t,e)}(i,t);var e,n,r,o=f2(i);function i(){return c2(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("background.image.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"background-image"}},{key:"getClassName",value:function(){return"background-image"}},{key:"getBody",value:function(){return"\n      <div class='full' ref='$property'></div>      \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='background-color'></span>\n        </div>\n        <ColorViewEditor ref='$color' label=\"".concat(this.$i18n("background.color.property.color"),'" key=\'background-color\' onchange="changeColor" />\n      </div>            \n    ')}},{key:"getTools",value:function(){return"<button type=\"button\" ref='$add'>".concat(vm.add,"</button>")}},{key:lr("$add"),value:function(){this.children.$backgroundImageEditor.trigger("add")}},{key:Ur("$property"),value:function(){var t=(this.$selection.current||{})["background-image"]||"";return"<BackgroundImageEditor \n              ref='$backgroundImageEditor' \n              key='background-image'\n              value='".concat(t,"' \n              hide-label=\"true\"\n              onchange='changeBackgroundImage' \n            />")}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:"refresh",value:function(){this.load();var t=this.$selection.current;if(t){var e=t["background-color"]||"rgba(0, 0, 0, 1)";this.children.$color.setValue(t["background-color"]||"rgba(0, 0, 0, 1)"),this.state.backgroundColor=e}}},{key:gi("changeColor"),value:function(t,e){this.command("setAttribute","change background color",a2({},t,e))}},{key:gi("changeBackgroundImage")+Gr(10),value:function(t,e){this.command("setAttribute","change background image",a2({},t,e))}}])&&s2(e.prototype,n),r&&s2(e,r),i}(RQ);function b2(t){return(b2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m2(t){return function(t){if(Array.isArray(t))return g2(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g2(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k2(t,e){return(k2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S2(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P2(t);if(e){var o=P2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j2(this,n)}}function j2(t,e){return!e||"object"!==b2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P2(t){return(P2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R2=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k2(t,e)}(i,t);var e,n,r,o=S2(i);function i(){return w2(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("filter.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"filter"}},{key:"getTitleClassName",value:function(){return"filter"}},{key:"getBody",value:function(){return"<div class='full filter-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$filterSelect">      \n      </select>\n      <button type="button" ref="$add" title="add Filter">'.concat(vm.add,"</button>\n    ")}},{key:lr("$add"),value:function(){var t=this.refs.$filterSelect.value;this.children.$filterEditor.trigger("add",t)}},{key:Ur("$filterSelect"),value:function(){var t=this,e=wC.map((function(e){return{title:t.$i18n("filter.property.".concat(e)),value:e}})),n=this.getSVGFilterList();return(n.length?[].concat(m2(e),[{title:"-------",value:""}],m2(n)):m2(e)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){var e=t.id;return{title:"svg - #".concat(e),value:e}}))),e}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{}).filter;return"<FilterEditor ref='$filterEditor' value='".concat(t,"' hide-label='true' onchange='changeFilterEditor' />")}},{key:gi("changeFilterEditor"),value:function(t){this.command("setAttribute","change filter",{filter:t})}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:gi("refreshSVGArea")+Gr(1e3),value:function(){this.load("$filterSelect")}}])&&O2(e.prototype,n),r&&O2(e,r),i}(RQ);function $2(t){return($2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E2(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _2(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D2(t,e){return(D2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A2(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V2(t);if(e){var o=V2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I2(this,n)}}function I2(t,e){return!e||"object"!==$2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V2(t){return(V2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L2=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D2(t,e)}(i,t);var e,n,r,o=A2(i);function i(){return C2(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("code.view.property.title")}},{key:gi("refreshSelectionStyleView","refreshStyleView","refreshSelection","refreshSVGArea")+Gr(100),value:function(){this.refreshShowIsNot()}},{key:"getBody",value:function(){return"\n      <div class=\"property-item code-view-item\" ref='$body'></div>\n    "}},{key:"filterKeyName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.split(";").filter((function(t){return t.trim()})).map((function(t){var n=E2((t=t.trim()).split(":"),2),r=n[0],o=n[1];return"".concat(e,"<strong>").concat(r,"</strong>:").concat(o,";\n")})).join("").trim()}},{key:"modifyNewLine",value:function(t){return t.replace(/;/gi,";\n").trim()}},{key:Ur("$body"),value:function(){var t=this,e=this.$selection.currentProject,n=e?e.toKeyframeString():"",r=e?ge(e.toRootVariableCSS()):"",o=e?e.toSVGString():"";r=this.filterKeyName(r.trim()),n=this.modifyNewLine(n.trim()),o=o.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");var i=this.$selection.current,a=i?Se(i.toExport()):"",c=i?i.toNestedCSS().map((function(e){var n=e.cssText?e.cssText:ge(e.css);return"".concat(e.selector," { \n").concat(t.filterKeyName(Se(n),"&nbsp;&nbsp;"),"\n}")})):[],u=i?Se(i.toExportSVGCode()):"",s=i?i.selectors:[];return a=this.filterKeyName(a.trim()),"\n      <div class=''>\n       \n        ".concat(a?"<div>\n          <pre title='CSS'>".concat(a,"</pre>\n          </div>"):"","\n        \n        ").concat(c.map((function(t){return"<div>\n          <pre title='CSS'>".concat(t,"</pre>\n          </div>")})).join(""),"\n\n        ").concat(u?"<div>\n          <pre title='SVG'>".concat(u,"</pre>\n          </div>"):"","        \n\n        ").concat(s.length?"<div>\n            ".concat(s.map((function(t){return"<pre title='".concat(t.selector,"'>").concat(t.toPropertyString(),"</pre>")})).join(""),"\n            \n          </div>"):"","\n\n        ").concat(n?"<div>\n          <pre title='".concat(this.$i18n("code.view.property.keyframe"),"'>").concat(n,"</pre>\n        </div>"):"","\n        ").concat(r?"<div>\n          <label>:root</label>\n          <pre>".concat(r,"</pre>\n          </div>"):"","\n        ").concat(o?"<div>\n            <pre title='SVG'>".concat(o,"</pre>\n          </div>"):"","\n\n      </div>\n    ")}}])&&T2(e.prototype,n),r&&T2(e,r),i}(RQ);function M2(t){return(M2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z2(t){return function(t){if(Array.isArray(t))return B2(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return B2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B2(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H2(t,e){return(H2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X2(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N2(t);if(e){var o=N2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y2(this,n)}}function Y2(t,e){return!e||"object"!==M2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N2(t){return(N2=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K2=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H2(t,e)}(i,t);var e,n,r,o=X2(i);function i(){return F2(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("backdrop.filter.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getTitleClassName",value:function(){return"filter"}},{key:"getKeyframeProperty",value:function(){return"backdrop-filter"}},{key:"getBody",value:function(){return"<div class='full filter-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$filterSelect"></select>\n      <button type="button" ref="$add" title="add Filter">'.concat(vm.add,"</button>\n    ")}},{key:lr("$add"),value:function(){var t=this.refs.$filterSelect.value;this.children.$filterEditor.trigger("add",t)}},{key:Ur("$filterSelect"),value:function(){var t=this,e=wC.map((function(e){return{title:t.$i18n("filter.property.".concat(e)),value:e}})),n=this.getSVGFilterList();return(n.length?[].concat(z2(e),[{title:"-------",value:""}],z2(n)):z2(e)).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:"getSVGFilterList",value:function(){var t=this.$selection.currentProject,e=[];return t&&(e=t.svgfilters.map((function(t){return{title:"svg - #".concat(t.id),value:t.id}}))),e}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{})["backdrop-filter"];return"<FilterEditor ref='$filterEditor' value='".concat(t,"' hide-label=\"true\" onchange='changeFilterEditor' />")}},{key:gi("changeFilterEditor"),value:function(t){this.command("setAttribute","change backdrop filter",{"backdrop-filter":t})}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}}])&&G2(e.prototype,n),r&&G2(e,r),i}(RQ);function U2(t){return(U2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q2(t,e){return(q2=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J2(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=t4(t);if(e){var o=t4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q2(this,n)}}function Q2(t,e){return!e||"object"!==U2(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function t4(t){return(t4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var e4=["top-left","top","top-right","left","right","bottom-left","bottom","bottom-right"],n4={top:"0","top-right":"45",right:"90","bottom-right":"135",bottom:"180","bottom-left":"225",left:"270","top-left":"315"},r4=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q2(t,e)}(i,t);var e,n,r,o=J2(i);function i(){return W2(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='rotate-editor-view'>            \n                <div class='rotate-area' ref='$rotateArea'>\n                    <div class='rotate-container' ref='$rotateContainer'>\n                        <div class='rotate-item rotate-x'></div>\n                        <div class='rotate-item rotate-y'></div>\n                    </div>\n                </div>\n                <div class='direction-area' ref='$directionArea'>\n                    ".concat(e4.map((function(t){return"<div class='direction' data-value='".concat(t,"'></div>")})).join(""),"\n                </div>                \n                <div class='rotate-z' ref='$rotateZ'>\n                    <div class='handle-line'></div>                \n                    <div class='handle icon' ref='$handle'>").concat(vm.gps_fixed,"</div>\n                </div>                \n            </div>\n        ")}},{key:lr("$directionArea .direction"),value:function(t){var e=t.$dt.attr("data-value"),n=R.deg(n4[e]||0);this.$selection.each((function(t){var e=fa.replace(t.transform,{type:"rotateZ",value:[n]});t.reset({transform:e})})),this.bindData("$rotateZ"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:Jr("$rotateContainer"),value:function(){var t=this.$selection.current||{transform:""};return{style:{transform:fa.filter(t.transform||"",(function(t){return"rotateX"===t.type||"rotateY"===t.type}))}}}},{key:Jr("$rotateZ"),value:function(){var t=this.$selection.current||{transform:""};return{style:{transform:fa.filter(t.transform||"",(function(t){return"rotate"===t.type||"rotateZ"===t.type}))}}}},{key:fr("$rotateArea"),value:function(){this.$selection.each((function(t){t.reset({transform:fa.remove(t.transform,["rotateX","rotateY"])})})),this.bindData("$rotateContainer"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:Er("$rotateArea")+Xr("moveRotateXY")+Yr("moveEndRotateXY"),value:function(){this.setCacheRotateXY()}},{key:"setCacheRotateXY",value:function(){this.setCacheBaseTrasnform("rotateX","rotateY")}},{key:"moveRotateXY",value:function(t,e){this.modifyRotateXY(t,e),this.bindData("$rotateContainer"),this.emit("refreshSelectionDragStyleView",null,!1,!0),this.emit("refreshRect")}},{key:"moveEndRotateXY",value:function(t,e){this.emit("refreshSelectionStyleView"),this.emit("refreshRect")}},{key:"modifyCacheItem",value:function(t,e,n,r,o){e[r]&&n.set(e[r].value[0].value),n.add(o),this.setTransformValue(t,r,n)}},{key:"modifyRotateXY",value:function(t,e){var n=this,r=R.deg(-e/this.$editor.scale),o=R.deg(t/this.$editor.scale);this.$selection.each((function(t,e){n.modifyCacheItem(t,e,R.deg(0),"rotateX",r),n.modifyCacheItem(t,e,R.deg(0),"rotateY",o),t.transform=fa.join(t.transformObj)}))}},{key:fr("$handle"),value:function(){this.$selection.each((function(t){t.reset({transform:fa.remove(t.transform,["rotateZ","rotate"])})})),this.bindData("$rotateZ"),this.emit("refreshSelectionStyleView",null,!1,!0),this.emit("refreshRect")}},{key:Er("$handle")+Xr()+Yr(),value:function(){this.setCacheRotateZ()}},{key:"move",value:function(t,e){this.modifyRotateZ(t,e),this.bindData("$rotateZ"),this.emit("refreshSelectionDragStyleView",null,!1,!0),this.emit("refreshRect")}},{key:"end",value:function(){this.emit("refreshSelectionStyleView"),this.emit("refreshRect")}},{key:"modifyRotateZ",value:function(t,e){var n=this,r=this.$config.get("bodyEvent"),o=R.deg(Math.floor(U(this.rotateZStart,this.rotateZCenter,{dx:t,dy:e})));this.$selection.each((function(t,e){var i=R.deg(0);e.rotateZ?i.set(e.rotateZ.value[0].value):e.rotate&&i.set(e.rotate.value[0].value),i.add(o.value),r.altKey&&i.add(-i.value%10),n.setTransformValue(t,"rotateZ",i),t.transform=fa.join(t.transformObj)}))}},{key:"setTransformValue",value:function(t,e,n){var r=t.transformObj.filter((function(t){return t.type===e}))[0];r?r.value[0]=n.clone():t.transformObj.push({type:e,value:[n.clone()]})}},{key:"setCacheBaseTrasnform",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.$selection.each((function(t,n){t.transformObj=fa.parseStyle(t.transform),n.transformObj=fa.parseStyle(n.transform),e.forEach((function(t){n[t]=n.transformObj.filter((function(e){return e.type===t}))[0]}))}))}},{key:"setCacheRotateZ",value:function(){var t=this.refs.$handle.rect(),e=this.refs.$rotateZ.rect();this.rotateZCenter={x:e.x+e.width/2,y:e.y+e.height/2},this.rotateZStart={x:t.x+t.width/2,y:t.y+t.height/2},this.setCacheBaseTrasnform("rotateZ","rotate")}},{key:gi("refreshSelection"),value:function(){this.refresh()}}])&&Z2(e.prototype,n),r&&Z2(e,r),i}(wi);function o4(t){return(o4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a4(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i4(Object(n),!0).forEach((function(e){c4(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l4(t,e,n){return(l4="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h4(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function f4(t,e){return(f4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p4(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h4(t);if(e){var o=h4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y4(this,n)}}function y4(t,e){return!e||"object"!==o4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h4(t){return(h4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d4=["rotate","rotateX","rotateY","rotateZ","rotate3d","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","perspective","scale","scaleX","scaleY","scaleZ","scale3d","matrix","matrix3d"],v4=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f4(t,e)}(i,t);var e,n,r,o=p4(i);function i(){return u4(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return a4(a4({},l4(h4(i.prototype),"components",this).call(this)),{},{RotateEditorView:r4})}},{key:"getTitle",value:function(){return this.$i18n("transform.property.title")}},{key:"getBody",value:function(){return"\n      <RotateEditorView />\n      <div class='full transform-property' ref='$body'></div>\n    "}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"transform"}},{key:"getTools",value:function(){var t=this;return'\n      <select ref="$transformSelect">\n      '.concat(d4.map((function(e){var n=t.$i18n("css.item."+e);return"<option value='".concat(e,"'>").concat(n,"</option>")})).join(""),'\n      </select>\n      <button type="button" ref="$add" title="add Filter">').concat(vm.add,"</button>\n    ")}},{key:lr("$add"),value:function(){var t=this.refs.$transformSelect.value;this.children.$transformEditor.trigger("add",t)}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{}).transform;return"\n      <TransformEditor ref='$transformEditor' value='".concat(t,"' hide-label=\"true\" onchange='changeTransformEditor' />\n    ")}},{key:gi("changeTransformEditor"),value:function(t){this.command("setAttribute","change transform property",{transform:function(e){return fa.replaceAll(e.transform,t)}})}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:gi("refreshRect"),value:function(){this.refresh()}}])&&s4(e.prototype,n),r&&s4(e,r),i}(RQ);function b4(t){return(b4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w4(t,e){return(w4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O4(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S4(t);if(e){var o=S4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k4(this,n)}}function k4(t,e){return!e||"object"!==b4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S4(t){return(S4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j4=["circle","ellipse","inset","polygon","path","svg"],P4=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w4(t,e)}(i,t);var e,n,r,o=O4(i);function i(){return m4(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("clippath.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"clip-path"}},{key:"getClassName",value:function(){return"clip-path-property"}},{key:"getBody",value:function(){return"<div class='clip-path-list' ref='$clippathList'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$clipPathSelect">      \n        '.concat(j4.map((function(t){return"<option value='".concat(t,"'>").concat(t,"</option>")})).join(""),'\n      </select>\n      <button type="button" ref="$add" title="add Clip Path">').concat(vm.add,"</button>\n    ")}},{key:"makeClipPathTemplate",value:function(t){return"\n      <div class='clippath-item'>\n        <div class='title'>\n          <div class='name'>".concat(t,'</div>\n          <div class=\'tools\'>\n              <button type="button" class="del">\n                ').concat(vm.remove2,"\n              </button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:lr("$clippathList .clippath-item"),value:function(t){this.$selection.current&&this.viewClipPathPicker()}},{key:lr("$clippathList .del")+Nr,value:function(t){var e=this.$selection.current;e&&(this.command("setAttribute","delete clip-path",{"clip-path":""},e.id),this.refresh(),this.emit("hideClipPathPopup"))}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:Ur("$clippathList"),value:function(){var t=this.$selection.current;return t&&t["clip-path"]?this.makeClipPathTemplate(t["clip-path"]):""}},{key:lr("$add"),value:function(){var t=this.$selection.current;t&&(t["clip-path"]?alert("clip-path is already exists."):(t&&(t["clip-path"]=this.refs.$clipPathSelect.value,this.command("setAttribute","change clip-path",{"clip-path":this.refs.$clipPathSelect.value},t.id)),this.refresh()))}},{key:"viewClipPathPicker",value:function(){var t=this.$selection.current;if(t){var e=Wb.parseStyle(t["clip-path"]);switch(e.type){case"path":var n=e.value.trim(),r=n?"modify":"path";this.emit("showPathEditor",r,{changeEvent:"updateClipPathString",current:t,d:n,box:"box",screenX:t.screenX,screenY:t.screenY,screenWidth:t.screenWidth,screenHeight:t.screenHeight});break;case"svg":break;default:this.emit("showClipPathPopup",{"clip-path":t["clip-path"]})}}}},{key:gi("updateClipPathString"),value:function(t){var e=this.$selection.current;e&&(e.reset({"clip-path":"path(".concat(t.d,")")}),this.refresh(),this.command("setAttribute","change clip-path",{"clip-path":"path(".concat(t.d,")")},null,!0))}},{key:gi("changeClipPathPopup"),value:function(t){var e=this.$selection.current;e&&(e.reset(t),this.refresh(),this.command("setAttribute","change clip-path",t,e.id))}}])&&g4(e.prototype,n),r&&g4(e,r),i}(RQ);function x4(t){return(x4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E4(t,e){return(E4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _4(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T4(t);if(e){var o=T4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C4(this,n)}}function C4(t,e){return!e||"object"!==x4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T4(t){return(T4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D4=/((cubic-bezier|steps)\(([^\)]*)\))/gi,A4=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E4(t,e)}(i,t);var e,n,r,o=_4(i);function i(){return R4(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}},{key:"join",value:function(t){return t.map((function(t){return new i(t).toString()})).join(",")}},{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.parseStyle(t);return n.push(i.parse(e)),i.join(n)}},{key:"remove",value:function(t,e){return i.filter(t,(function(t,n){return e!=n}))}},{key:"filter",value:function(t,e){return i.join(i.parseStyle(t).filter((function(t){return e(t)})))}},{key:"replace",value:function(t,e,n){var r=i.parseStyle(t);return r[e]?r[e]=n:r.push(n),i.join(r)}},{key:"get",value:function(t,e){return i.parseStyle(t)[e]}},{key:"parseStyle",value:function(t){var e=[];if(!t)return e;var n=E1(t,D4);return(e=n.str.split(",").map((function(t){var e=t.split(" ").filter(Boolean);return e.length>=4?{name:e[0],duration:R.parse(e[1]),timingFunction:_1(e[2],n.matches),delay:R.parse(e[3])}:e.length>=3?{name:e[0],duration:R.parse(e[1]),delay:R.parse(e[2])}:e.length>=1?{name:e[0],duration:R.parse(e[1])}:{}}))).map((function(t){return i.parse(t)}))}}],(n=[{key:"getDefaultObject",value:function(){return{name:"all",duration:R.second(0),timingFunction:"linear",delay:R.second(0)}}},{key:"toCloneObject",value:function(){return{name:this.json.name,duration:this.json.duration+"",timingFunction:this.json.timingFunction,delay:this.json.delay+""}}},{key:"toCSS",value:function(){return{transition:this.toString()}}},{key:"toString",value:function(){var t=this.json;return[t.name,t.duration,t.timingFunction,t.delay].join(" ")}}])&&$4(e.prototype,n),r&&$4(e,r),i}(Ui);function I4(t){return(I4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B4(t,e){return(B4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F4(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H4(t);if(e){var o=H4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G4(this,n)}}function G4(t,e){return!e||"object"!==I4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H4(t){return(H4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X4=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B4(t,e)}(i,t);var e,n,r,o=F4(i);function i(){return M4(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("transition.property.title")}},{key:"getBody",value:function(){return"<div class='transition-list' ref='$transitionList'></div>"}},{key:"getTools",value:function(){return'\n        <button type="button" ref="$add" title="add Transition">'.concat(vm.add,"</button>\n    ")}},{key:Ur("$transitionList")+Fr,value:function(){var t=this,e=this.$selection.current;return e?A4.parseStyle(e.transition).map((function(e,n){var r=t.state.selectedIndex===n?"selected":"",o=Re(e.timingFunction,30,30);return"\n      <div class='transition-group-item'>\n        <div class='transition-item ".concat(r,"' data-index='").concat(n,"' ref=\"transitionIndex").concat(n,"\">\n            <div class='timing preview' data-index='").concat(n,"' ref='$preview").concat(n,'\'>\n              <svg class=\'item-canvas\' width="30" height="30" viewBox="0 0 30 30">\n                <path d="').concat(o,"\" stroke=\"white\" stroke-width=\"1\" fill='none' />\n              </svg>\n            </div>\n            <div class='name'>\n              <div class='labels'>\n                <span class='property-name' title='Property'>").concat(e.name,"</span>\n                <span class='duration' title='Duration'><small>Duration: ").concat(e.duration,"</small></span>\n                <span class='delay' title='Delay'><small>Delay: ").concat(e.delay,'</small></span>\n              </div>\n            </div>\n            <div class=\'tools\'>\n                <button type="button" class="del" data-index="').concat(n,'">\n                  ').concat(vm.remove2,"\n                </button>\n            </div>\n        </div>\n      </div>        \n      ")})):""}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}},{key:lr("$add"),value:function(t){var e=this.$selection.current;e&&(e.reset({transition:A4.add(e.transition)}),this.emit("refreshElement",e)),this.refresh()}},{key:"getCurrentTransition",value:function(){return this.current.transitions[this.selectedIndex]}},{key:lr("$transitionList .tools .del"),value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.reset({transition:A4.remove(n.transition,e)}),this.emit("refreshElement",n),this.refresh())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.refs["transitionIndex".concat(t)].addClass("selected"):this.refs["transitionIndex".concat(t)].removeClass("selected")}},{key:"viewTransitionPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t.attr("data-index"),this.current=this.$selection.current,this.current&&(this.currentTransition=A4.get(this.current.transition,this.selectedIndex),this.viewTransitionPropertyPopup())}},{key:"viewTransitionPropertyPopup",value:function(){if(this.currentTransition){var t=this.currentTransition;this.emit("showTransitionPropertyPopup",{changeEvent:"changeTransitionPropertyPopup",data:t.toCloneObject(),instance:this})}}},{key:lr("$transitionList .preview"),value:function(t){this.viewTransitionPicker(t.$dt)}},{key:"getRef",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.refs[e.join("")]}},{key:gi("changeTransitionPropertyPopup"),value:function(t){this.currentTransition&&(this.currentTransition.reset(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V4(Object(n),!0).forEach((function(e){L4(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),this.current&&(this.current.reset({transition:A4.replace(this.current.transition,this.selectedIndex,this.currentTransition)}),this.emit("refreshElement",this.current),this.refresh()))}}])&&z4(e.prototype,n),r&&z4(e,r),i}(RQ);function Y4(t){return(Y4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U4(t,e){return(U4=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W4(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=q4(t);if(e){var o=q4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z4(this,n)}}function Z4(t,e){return!e||"object"!==Y4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q4(t){return(q4=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J4=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U4(t,e)}(i,t);var e,n,r,o=W4(i);function i(){return N4(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("perspective.origin.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"isFirstShow",value:function(){return!1}},{key:"getKeyframeProperty",value:function(){return"perspective-origin"}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(vm.remove,"</button>\n    ")}},{key:lr("$remove"),value:function(){this.trigger("changePerspectiveOrigin","")}},{key:"getBody",value:function(){return"\n      <div class=\"property-item full perspective-origin-item\" ref='$body'></div>\n    "}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{})["perspective-origin"]||"";return"<PerspectiveOriginEditor \n              ref='$1' \n              value='".concat(t,"' \n              onchange='changePerspectiveOrigin' \n            />")}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShowIsNot(["project"])}},{key:gi("changePerspectiveOrigin"),value:function(t){this.command("setAttribute","change perspective origin",{"perspective-origin":t})}}])&&K4(e.prototype,n),r&&K4(e,r),i}(RQ);function Q4(t){return(Q4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n5(t,e){return(n5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r5(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i5(t);if(e){var o=i5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return o5(this,n)}}function o5(t,e){return!e||"object"!==Q4(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i5(t){return(i5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a5=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n5(t,e)}(i,t);var e,n,r,o=r5(i);function i(){return t5(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("perspective.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"isFirstShow",value:function(){return!1}},{key:"getKeyframeProperty",value:function(){return"perspective"}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(vm.remove,"</button>\n    ")}},{key:lr("$remove"),value:function(){this.trigger("changePerspective","perspective","")}},{key:"getBody",value:function(){return"<div class='property-item' ref='$perspective'></div>"}},{key:Ur("$perspective"),value:function(){var t=(this.$selection.current||{}).perspective||"";return"\n        <RangeEditor ref='$1' key='perspective' value=\"".concat(t,'" max="2000px" onchange="changePerspective" />\n    ')}},{key:gi("changePerspective"),value:function(t,e){this.command("setAttribute","change perspective",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot(["project"])}}])&&e5(e.prototype,n),r&&e5(e,r),i}(RQ);function c5(t){return(c5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l5(t,e){return(l5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f5(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y5(t);if(e){var o=y5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p5(this,n)}}function p5(t,e){return!e||"object"!==c5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y5(t){return(y5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h5=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l5(t,e)}(i,t);var e,n,r,o=f5(i);function i(){return u5(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("transform.origin.property.title")}},{key:"getTools",value:function(){return'\n        <button type="button" class="remove" ref=\'$remove\'>'.concat(vm.remove,"</button>\n    ")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"transform-origin"}},{key:lr("$remove"),value:function(){this.trigger("changeTransformOrigin","")}},{key:"getBody",value:function(){return"\n      <div class=\"property-item full transform-origin-item\" ref='$body'></div>\n    "}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{})["transform-origin"]||"";return"<TransformOriginEditor ref='$1' value='".concat(t,"' onchange='changeTransformOrigin' />")}},{key:gi("refreshSelection","refreshRect")+Gr(100),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:gi("changeTransformOrigin"),value:function(t){this.command("setAttribute","change transform-origin",{"transform-origin":t})}}])&&s5(e.prototype,n),r&&s5(e,r),i}(RQ);function d5(t){return(d5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m5(t,e){return(m5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g5(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O5(t);if(e){var o=O5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w5(this,n)}}function w5(t,e){return!e||"object"!==d5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O5(t){return(O5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k5=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m5(t,e)}(i,t);var e,n,r,o=g5(i);function i(){return v5(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Background Clip"}},{key:"isFirstShow",value:function(){return!1}},{key:"getTools",value:function(){return"<div ref='$backgroundClip' style='padding-top: 3px;'></div>"}},{key:Ur("$backgroundClip"),value:function(){var t=(this.$selection.current||{})["background-clip"]||"";return"<SelectEditor ref='$1' key='background-clip' icon=\"true\" value=\"".concat(t,'" options=",paddinb-box,border-box,content-box,text" onchange="changeSelect" />')}},{key:gi("changeSelect"),value:function(t,e){this.command("setAttribute","change background clip",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShow(["rect","circle","text"])}}])&&b5(e.prototype,n),r&&b5(e,r),i}(RQ);function S5(t){return(S5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x5(t,e){return(x5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R5(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E5(t);if(e){var o=E5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $5(this,n)}}function $5(t,e){return!e||"object"!==S5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E5(t){return(E5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _5=["",":hover",":active",":before",":after",":first-child",":last-child",":link",":active",":focus"].join(","),C5=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x5(t,e)}(i,t);var e,n,r,o=R5(i);function i(){return j5(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("selector.property.title")}},{key:"getBody",value:function(){return"<div class='selector-list' ref='$selectorList'></div>"}},{key:"getTools",value:function(){return"\n      <div style='display:inline-block;'>\n        <SelectEditor ref='$select' key='selector' icon=\"true\" key-value-char=';' none-value=\"selector\" options=\"".concat(_5,'" />\n      </div>\n      <button type="button" ref="$add" title="add Selector">').concat(vm.add,"</button>\n    ")}},{key:"makeSelectorTemplate",value:function(t,e){return e=e.toString(),"\n      <div class='selector-item' draggable='true' ref='$selectorIndex".concat(e,"' data-index='").concat(e,"'>\n        <div class='title'>\n          <div class='name'>\n            <span>").concat(t.selector||"&lt;".concat(this.$i18n("selector.property.none"),"&gt;"),'</span>\n          </div>\n          <div class=\'tools\'>\n              <button type="button" class="del" data-index="').concat(e,'">').concat(vm.remove2,"</button>\n          </div>\n        </div>\n      </div>\n    ")}},{key:lr("$selectorList .selector-item .name"),value:function(t){var e=+t.$dt.closest("selector-item").attr("data-index");this.$selection.current&&this.viewSelectorPicker(e)}},{key:lr("$selectorList .selector-item .del")+Nr+Kr,value:function(t){var e=t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.removeSelector(e),this.emit("refreshElement",n),this.refresh())}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShowIsNot(["project","svg-path","svg-brush","svg-textpath","svg-text"])}},{key:Ur("$selectorList"),value:function(){var t=this,e=this.$selection.current;if(!e)return"";var n=e.selector?Tb.parseStyle(e):e.selectors;return e.selector="",e.selectors=n,n.map((function(e,n){return t.makeSelectorTemplate(e,n)}))}},{key:dr("$selectorList .selector-item .title"),value:function(t){this.startIndex=+t.$dt.attr("data-index")}},{key:br("$selectorList .selector-item")+Nr,value:function(t){}},{key:vr("$selectorList .selector-item")+Nr,value:function(t){var e=+t.$dt.attr("data-index"),n=this.$selection.current;n&&(n.sortSelector(this.startIndex,e),this.emit("refreshElement",n),this.refresh())}},{key:lr("$add"),value:function(){var t=this.$selection.current;t&&(t.createSelector({selector:this.children.$select.getValue()}),this.emit("refreshElement",t)),this.refresh()}},{key:"viewSelectorPicker",value:function(t){"number"==typeof this.selectedIndex&&this.selectItem(this.selectedIndex,!1),this.selectedIndex=+t,this.selectItem(this.selectedIndex,!0),this.current=this.$selection.current,this.current&&(this.currentSelector=this.current.selectors[this.selectedIndex],this.viewSelectorPropertyPopup())}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?this.getRef("$selectorIndex",t).addClass("selected"):this.getRef("$selectorIndex",t).removeClass("selected"),this.current&&this.current.selectors.forEach((function(e,n){e.selected=n===t}))}},{key:"viewSelectorPropertyPopup",value:function(t){if(this.current=this.$selection.current,this.current){this.currentSelector=this.current.selectors[this.selectedIndex];var e=this.currentSelector,n=e.selector,r=e.properties;this.emit("showSelectorPopup",{position:t,selector:n,properties:r})}}},{key:gi("changeSelectorPopup"),value:function(t){this.current=this.$selection.current,this.current&&(this.currentselector=this.current.selectors[this.selectedIndex],this.currentSelector&&this.currentSelector.reset(t),this.refresh(),this.emit("refreshElement",this.current))}}])&&P5(e.prototype,n),r&&P5(e,r),i}(RQ);function T5(t){return(T5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I5(t,e){return(I5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V5(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M5(t);if(e){var o=M5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L5(this,n)}}function L5(t,e){return!e||"object"!==T5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M5(t){return(M5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var z5=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I5(t,e)}(i,t);var e,n,r,o=V5(i);function i(){return D5(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("position.property.title")}},{key:gi("refreshSelection"),value:function(){this.refreshShowIsNot(["project","artboard"])}},{key:gi("refreshRect"),value:function(){var t=this.$selection.current;if(!t)return"";this.children.$x&&this.children.$x.setValue(t.x),this.children.$y&&this.children.$y.setValue(t.y)}},{key:"isHideHeader",value:function(){return!0}},{key:"getBody",value:function(){return'\n      <div class="position-item" ref="$positionItem"></div>\n    '}},{key:Ur("$positionItem"),value:function(){var t=this.$selection.current;return t?"\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px;'>\n        <div class='property-item animation-property-item' style='padding: 0px;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='x'></span>\n          </div>\n          <InputRangeEditor ref='$x' key='x' value='".concat(t.x,"' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n        </div>\n        <div class='property-item animation-property-item' style='padding: 0px;'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='y'></span>\n          </div>\n          <InputRangeEditor ref='$y' key='y' value='").concat(t.y,"' min=\"-1000\" max='1000' onchange='changRangeEditor' />\n        </div>\n      </div>\n      <div style='display: grid;grid-template-columns: repeat(2, 1fr); grid-column-gap: 10px; text-align: center;padding: 4px 0px;'>\n        <span>").concat(this.$i18n("position.property.X"),"</span>\n        <span>").concat(this.$i18n("position.property.Y"),"</span>\n      </div>      \n    "):""}},{key:gi("changRangeEditor"),value:function(t,e){this.command("setAttribute","change position",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),this.emit("refreshAllElementBoundSize")}}])&&A5(e.prototype,n),r&&A5(e,r),i}(RQ);function B5(t){return(B5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H5(t,e){return(H5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X5(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N5(t);if(e){var o=N5(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y5(this,n)}}function Y5(t,e){return!e||"object"!==B5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N5(t){return(N5=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K5=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H5(t,e)}(i,t);var e,n,r,o=X5(i);function i(){return F5(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("project.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add a project\">".concat(vm.add,"</button>\n    ")}},{key:lr("$add"),value:function(){this.emit("addProject")}},{key:"getBody",value:function(){return'\n      <div class="project-list scrollbar" ref="$projectList"></div>\n    '}},{key:Ur("$projectList")+Fr,value:function(){var t=this;return(this.$editor.projects||[]).map((function(e,n){var r=e===t.$selection.currentProject?"selected":"";return"\n        <div class='project-item ".concat(r,"'>\n          <div class='detail'>\n            <label data-index='").concat(n,"'>").concat(e.name||"New Project",'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-index="').concat(n,"\" title='Remove'>").concat(vm.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      ")}))}},{key:fr("$projectList .project-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(t,n){var r=e.$editor.projects[t];r&&r.reset({name:n})}))}},{key:yr("$projectList .project-item label")+Mr+Nr+Kr,value:function(t){return this.modifyDoneInputEditing(t.$dt),!1}},{key:jr("$projectList .project-item label")+Nr+Kr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:"selectProject",value:function(t){t&&(this.$selection.selectProject(t),t.artboards.length&&(this.$selection.selectArtboard(t.artboards[0]),this.$selection.select())),this.emit("refreshAllSelectProject")}},{key:lr("$projectList .project-item label"),value:function(t){var e=+t.$dt.attr("data-index");this.selectProject(this.$editor.projects[e])}},{key:lr("$projectList .project-item .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.$editor.projects.splice(e);var n=this.$editor.projects[e]||this.$editor.projects[e-1];this.selectProject(n)}},{key:gi("refreshProjectList"),value:function(){this.refresh()}}])&&G5(e.prototype,n),r&&G5(e,r),i}(RQ);function U5(t){return(U5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q5(t,e){return(q5=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J5(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=t3(t);if(e){var o=t3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q5(this,n)}}function Q5(t,e){return!e||"object"!==U5(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function t3(t){return(t3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var e3=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q5(t,e)}(i,t);var e,n,r,o=J5(i);function i(){return W5(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("artboard.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add a artboard\">".concat(vm.add,"</button>\n    ")}},{key:"getBody",value:function(){return'\n      <div class="artboard-list scrollbar" ref="$artboardList"></div>\n    '}},{key:Ur("$artboardList")+Fr,value:function(){var t=this,e=this.$selection.currentProject;return e?e.artboards.map((function(e,n){var r=e===t.$selection.currentArtboard?"selected":"",o="";return e&&e.hasLayout()&&(o=t.$i18n("artboard.property.layout.title."+e.layout)),"\n        <div class='artboard-item ".concat(r,"' data-layout=\"").concat(e.layout,"\" data-artboard-id='").concat(e.id,"'>\n          <div class='preview icon'>").concat(vm.doc,"</div>\n          <div class='detail'>\n            <label data-index='").concat(n,"' data-layout-title='").concat(o,"' >").concat(e.name,'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-index="').concat(n,"\" title='Remove'>").concat(vm.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      ")})):""}},{key:fr("$artboardList .artboard-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(t,n){var r=e.$selection.currentProject;if(r){var o=r.artboards[t];o&&(o.reset({name:n}),e.emit("refreshArtBoardName",o.id,n))}}))}},{key:yr("$artboardList .artboard-item label")+Mr+Nr+Kr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:jr("$artboardList .artboard-item label")+Nr+Kr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:lr("$add"),value:function(t){this.emit("addArtBoard")}},{key:lr("$artboardList .artboard-item .remove"),value:function(t){var e=this.$selection.currentProject;if(e){var n=+t.$dt.attr("data-index");e.artboards.splice(n);var r=e.artboards[n]||e.artboards[n-1];this.emit("selectArtboard",r)}}},{key:lr("$artboardList .artboard-item label"),value:function(t){var e=this.$selection.currentProject;if(e){t.$dt.closest("artboard-item").onlyOneClass("selected");var n=+t.$dt.attr("data-index"),r=e.artboards[n];r&&this.emit("selectArtboard",r)}}},{key:gi("refreshArtBoardList"),value:function(){this.refresh()}},{key:gi("changeItemLayout"),value:function(){this.refresh()}}])&&Z5(e.prototype,n),r&&Z5(e,r),i}(RQ);function n3(t){return(n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r3(t){return function(t){if(Array.isArray(t))return o3(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o3(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a3(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i3(Object(n),!0).forEach((function(e){c3(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f3(t,e){return(f3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p3(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d3(t);if(e){var o=d3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h3(this,n)}}function h3(t,e){return!e||"object"!==n3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d3(t){return(d3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b3=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f3(t,e)}(i,t);var e,n,r,o=p3(i);function i(){return s3(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("layer.tree.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"initState",value:function(){return{hideDragPointer:!0,lastDragOverPosition:0,lastDragOverOffset:0,rootRect:{top:0},itemRect:{height:0}}}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add a layer\">".concat(vm.add,"</button>\n    ")}},{key:"getBody",value:function(){return"\n      <div class=\"layer-list scrollbar\" ref=\"$layerList\"></div>\n      <div class='drag-point' ref='$dragPointer'></div>\n    "}},{key:Jr("$dragPointer"),value:function(){var t=this.state.lastDragOverOffset,e=this.state.itemRect.height/3,n={};if(this.state.lastDragOverOffset<e){t=0;var r=this.state.lastDragOverPosition+t-this.state.rootRect.top;n={top:R.px(r),height:"1px",width:"100%",left:"0px"},this.state.lastDragOverItemDirection="before"}else this.state.lastDragOverOffset>this.state.itemRect.height-e?(t=this.state.itemRect.height,r=this.state.lastDragOverPosition+t-this.state.rootRect.top,n={top:R.px(r),height:"1px",width:"100%",left:"0px"},this.state.lastDragOverItemDirection="after"):(t=0,r=this.state.lastDragOverPosition+t-this.state.rootRect.top,n={top:R.px(r),height:R.px(this.state.itemRect.height),width:"100%",left:"0px"},this.state.lastDragOverItemDirection="self");return{style:a3(a3({position:"absolute"},n),{},{display:this.state.hideDragPointer?"none":"block"})}}},{key:"getIcon",value:function(t){if(t.isGroup)return vm.group;switch(t.itemType){case"circle":return vm.lens;case"image":return vm.image;case"text":case"svg-text":return vm.title;case"svg-textpath":return vm.text_rotate;case"svg-path":return vm.pentool;case"cube":return vm.cube;case"cylinder":return vm.cylinder;default:return vm.rect}}},{key:"makeLayerList",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.layers?r3(t.layers).reverse().map((function(t,r){var o=e.$selection.check(t)?"selected":"",i=t.name;t.is("text")&&(i=t.text||t.name);var a="";t.hasLayout()&&(a=e.$i18n("layer.tree.property.layout.title."+t.layout));var c=t.isTreeItemHide();return"        \n      <div class='layer-item ".concat(o,"' data-is-group=\"").concat(t.isGroup,'" data-depth="').concat(n,"\" data-layout='").concat(t.layout,"' data-layer-id='").concat(t.id,"' data-is-hide=\"").concat(c,"\"  draggable=\"true\">\n        <div class='detail'>\n          <label data-layout-title='").concat(a,"' > \n            <div class='folder ").concat(t.collapsed?"collapsed":"","'>").concat(vm.arrow_right,"</div>\n            <span class='icon' data-item-type=\"").concat(t.itemType,"\" style='color: ").concat(t["background-color"],";'>").concat(e.getIcon(t),"</span> \n            <span class='name'>").concat(i,'</span>\n          </label>\n          <div class="tools">\n            <button type="button" class="lock" data-lock="').concat(t.lock,"\" title='Lock'>").concat(t.lock?vm.lock:vm.lock_open,'</button>\n            <button type="button" class="visible" data-visible="').concat(t.visible,"\" title='Visible'>").concat(vm.visible,'</button>\n            <button type="button" class="remove" title=\'Remove\'>').concat(vm.remove2,"</button>            \n          </div>\n        </div>\n      </div>\n\n      ").concat(e.makeLayerList(t,n+1),"\n    ")})).join(""):""}},{key:gi("refreshContent"),value:function(t){this.refresh()}},{key:Ur("$layerList")+Fr,value:function(){var t=this.$selection.currentArtboard;return t?this.makeLayerList(t,0)+'\n      <div class=\'layer-item \' data-depth="0" data-is-last="true">\n      </div>\n    ':""}},{key:dr("$layerList .layer-item"),value:function(t){var e=t.$dt.attr("data-layer-id");t.$dt.addClass("drag-start"),t.dataTransfer.setData("layer/id",e),this.state.rootRect=this.refs.$layerList.rect(),this.state.itemRect=t.$dt.rect(),this.setState({hideDragPointer:!1},!1),this.bindData("$dragPointer")}},{key:mr("$layerList .layer-item"),value:function(t){this.setState({hideDragPointer:!0},!1),this.bindData("$dragPointer"),this.refs.$layerList.$$(".".concat("drag-start")).forEach((function(t){t.removeClass("drag-start")}))}},{key:br("$layerList .layer-item:not(.".concat("drag-start",")"))+Nr,value:function(t){var e=t.$dt.attr("data-layer-id");this.state.lastDragOverItemId=e,this.state.lastDragOverPosition=t.$dt.rect().top,this.state.lastDragOverOffset=t.offsetY,this.bindData("$dragPointer")}},{key:vr("$layerList .layer-item:not(.".concat("drag-start",")")),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.dataTransfer.getData("layer/id");if(e!==n){var r=this.$selection.currentProject,o=r.searchById(e),i=r.searchById(n);o&&o.hasParent(i.id)||(o.add(i,this.state.lastDragOverItemDirection),this.$selection.select(i),this.setState({hideDragPointer:!0}),this.emit("refreshAll"))}}},{key:fr("$layerList .layer-item"),value:function(t){this.startInputEditing(t.$dt.$(".name"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(n,r){var o=t.closest("layer-item").attr("data-layer-id"),i=e.$selection.currentProject.searchById(o);i&&i.reset({name:r})}))}},{key:yr("$layerList .layer-item .name")+Mr+Nr+Kr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:jr("$layerList .layer-item .name")+Nr+Kr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:"selectLayer",value:function(t){t&&this.$selection.select(t),this.refresh(),this.emit("refreshSelection")}},{key:"addLayer",value:function(t){t&&(this.$selection.select(t),this.emit("refreshArtboard"))}},{key:lr("$add"),value:function(t){this.emit("newComponent","rect",{"background-color":Mn.random(),width:R.px(200),height:R.px(100)})}},{key:lr("$layerList .layer-item label .name"),value:function(t){var e=t.$dt.closest("layer-item");e.onlyOneClass("selected");var n=e.attr("data-layer-id"),r=this.$selection.currentProject.searchById(n);this.$selection.select(r),this.emit("refreshSelection")}},{key:lr("$layerList .layer-item label .folder"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n);r.reset({collapsed:!r.collapsed}),this.refresh()}},{key:lr("$layerList .layer-item .visible"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n);t.$dt.attr("data-visible",!r.visible),this.command("setAttribute","change visible for layer",{visible:!r.visible},r.id)}},{key:lr("$layerList .layer-item .remove"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id");this.$selection.removeById(n),e.searchById(n).remove(),this.refresh(),this.emit("refreshArtboard")}},{key:lr("$layerList .layer-item .lock"),value:function(t){var e=this.$selection.currentProject,n=t.$dt.closest("layer-item").attr("data-layer-id"),r=e.searchById(n);t.$dt.attr("data-lock",!r.lock),this.command("setAttribute","change lock for layer",{lock:!r.lock},r.id)}},{key:gi("changeSelection"),value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&this.refs.$layerList){this.refs.$layerList.$$(".selected").forEach((function(t){t.removeClass("selected")}));var n=this.$selection.items.map((function(t){return'[data-layer-id="'.concat(t.id,'"]')})).join(",");n&&this.refs.$layerList.$$(n).forEach((function(e){e.addClass("selected");var n=t.$selection.itemKeys[e.attr("data-layer-id")];n.is("svg-path","svg-polygon")&&e.$(".icon").html(t.getIcon(n))}))}}},{key:gi("refreshSelection","history.refreshSelection"),value:function(){this.trigger("changeSelection",!0)}},{key:gi("refreshStylePosition","refreshSelectionStyleView","refreshCanvasForPartial"),value:function(){this.trigger("changeSelection")}},{key:gi("refreshLayerTreeView"),value:function(){this.refresh()}},{key:gi("changeItemLayout"),value:function(){this.refresh()}}])&&l3(e.prototype,n),r&&l3(e,r),i}(RQ);function m3(t){return(m3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g3(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return w3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w3(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S3(t,e){return(S3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j3(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R3(t);if(e){var o=R3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P3(this,n)}}function P3(t,e){return!e||"object"!==m3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R3(t){return(R3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $3=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S3(t,e)}(i,t);var e,n,r,o=j3(i);function i(){return O3(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getClassName",value:function(){return"artboard-size-list"}},{key:gi("refreshSelection"),value:function(){this.refreshShow(["project","artboard"])}},{key:"initState",value:function(){return{selectedIndex:0,sizeList:[{category:"Web",groups:[{group:"Landscape",devices:[{device:"Web Small",size:"1024x600"},{device:"Web Medium",size:"1280x800"},{device:"Web Large",size:"1440x900"},{device:"Web X Large",size:"1920x1200"}]},{group:"Portrait",devices:[{device:"Web Small",size:"600x1024"},{device:"Web Medium",size:"800x1280"},{device:"Web Large",size:"900x1440"},{device:"Web X Large",size:"1200x1920"}]}]},{category:"Apple Devices",groups:[{group:"iphone",devices:[{device:"iPhone 8",size:"375x667"},{device:"iPhone 8 Plus",size:"414x736"},{device:"iPhone SE",size:"320x568"},{device:"iPhone XS",size:"375x812"},{device:"iPhone XR",size:"414x896"},{device:"iPhone XS Max",size:"414x896"}]},{group:"ipad",devices:[{device:"iPad",size:"768x1024"},{device:"iPad Pro",size:"1024x1366"}]},{group:"apple watch",devices:[{device:"Apple Watch 38nm",size:"272x340"},{device:"Apple Watch 40nm",size:"326x394"},{device:"Apple Watch 42nm",size:"313x390"},{device:"Apple Watch 44nm",size:"368x448"}]},{group:"apple tv",devices:[{device:"Apple TV",size:"1920x1080"}]},{group:"MAC",devices:[{device:"Touch Bar",size:"1085x30"}]}]},{category:"Android Devices",groups:[{group:"android mobile",devices:[{device:"Android Mobile",size:"360x640"}]},{group:"android tablet",devices:[{device:"Android Tablet",size:"768x1024"}]}]}]}}},{key:"getTitle",value:function(){return"Preset"}},{key:"getTools",value:function(){var t=this.state.sizeList.map((function(t,e){return{category:t.category,index:e}}));return"\n      <SelectEditor ref='$select' value=\"".concat(t[0].category,'" options="').concat(t.map((function(t){return t.category})).join(","),"\" onchange='changeSizeIndex'/>\n    ")}},{key:gi("changeSizeIndex"),value:function(t,e){var n=this.state.selectedIndex;this.state.sizeList.forEach((function(t,r){t.category===e&&(n=r)})),this.state.selectedIndex=n,this.refresh()}},{key:"getBody",value:function(){return"\n      <div class='artboard-size-item' ref='$list'></div>\n    "}},{key:"makeDevice",value:function(t){return"\n      <div class='device-item' data-size='".concat(t.size,"'>\n        <div class='title'>").concat(t.device,"</div>\n        <div class='size'>").concat(t.size,"</div>\n      </div>\n    ")}},{key:lr("$list .device-item"),value:function(t){var e=t.$dt.attr("data-size");this.emit("resizeArtBoard",e)}},{key:"makeGroup",value:function(t){var e=this;return"\n      <div class='group-item'>\n        <div class='title'>".concat(t.group,"</div>\n      </div>\n      <div class='devices'>\n        ").concat(t.devices.map((function(t){return e.makeDevice(t)})).join(""),"\n      </div>\n    ")}},{key:"makeCategory",value:function(t){var e=this;return"\n      <div class='category'>\n        <div class='title'>".concat(t.category,"</div>\n      </div>\n      <div class='groups'>\n        ").concat(t.groups.map((function(t){return e.makeGroup(t)})).join(""),"\n      </div>\n    ")}},{key:Ur("$list")+Fr,value:function(){var t=this;return this.state.sizeList[this.state.selectedIndex].groups.map((function(e){return t.makeGroup(e)}))}},{key:gi("changeBoardSize"),value:function(t,e){var n=this.$selection.currentArtboard;if(n&&n.is("artboard")){if(!e.trim())return;var r=g3(e.split("x"),2),o=r[0],i=r[1];o=R.px(o),i=R.px(i),this.command("setAttributeForMulti","resize artboard",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n.id,{width:o,height:i}))}}}])&&k3(e.prototype,n),r&&k3(e,r),i}(RQ);function E3(t){return(E3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_3(Object(n),!0).forEach((function(e){T3(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D3(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return A3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A3(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L3(t,e){return(L3=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M3(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=B3(t);if(e){var o=B3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z3(this,n)}}function z3(t,e){return!e||"object"!==E3(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B3(t){return(B3=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F3=["","100x100","200x200","300x300","400x300","900x600","1024x762"],G3=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L3(t,e)}(i,t);var e,n,r,o=M3(i);function i(){return I3(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getClassName",value:function(){return"item"}},{key:"getTitle",value:function(){return this.$i18n("image.property.title")}},{key:"getBody",value:function(){return"<div ref='$body' style='padding-top: 3px;'></div>"}},{key:"getFooter",value:function(){return"\n      <div>\n        <label> ".concat(this.$i18n("image.property.origin")," </label> <span ref='$sizeInfo'></span> <button type=\"button\" ref='$resize'>").concat(vm.size,"</button>\n      </div>\n      <div>\n        <SelectEditor ref='$select' label=\"").concat(this.$i18n("image.property.size"),"\" key='size' value='' options='").concat(F3.join(","),"' onchange='changeImageSize' />\n      </div>\n    ")}},{key:gi("changeImageSize"),value:function(t,e){var n=D3(e.split("x").map((function(t){return R.px(t)})),2),r=n[0],o=n[1];this.command("setAttribute","resize image",{width:r,height:o})}},{key:lr("$resize"),value:function(){var t=this.$selection.current;if(t){var e={width:t.naturalWidth.clone(),height:t.naturalHeight.clone()};this.command("setAttribute","resize image",e)}}},{key:Jr("$sizeInfo"),value:function(){var t=this.$selection.current||{};return{innerHTML:"".concat(this.$i18n("image.property.width"),": ").concat(t.naturalWidth,", ").concat(this.$i18n("image.property.height"),": ").concat(t.naturalHeight)}}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{}).src||"";return"<ImageSelectEditor \n              ref='$1' \n              key='src' \n              value=\"".concat(t,'" \n              onchange="changeSelect" />')}},{key:gi("changeSelect"),value:function(t,e,n){var r=this.$selection.current;r&&(r.reset(C3({src:e},n)),this.bindData("$sizeInfo"),this.command("setAttribute","change image",C3({src:e},n),r.id))}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShow(["image"])}}])&&V3(e.prototype,n),r&&V3(e,r),i}(RQ),H3={title:"random",key:"random",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return Mn.randomByCount(t).map((function(t){return{color:t}}))}},X3=["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#f44336","#ff8a80","#ff5252","#ff1744","#d50000"].map((function(t){return{color:t}})),Y3={title:"material red",key:"material-red",execute:function(){return X3}},N3=["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#e91e63","#ff80ab","#ff4081","#f50057","#c51162"].map((function(t){return{color:t}})),K3={title:"material pink",key:"material-pink",execute:function(){return N3}},U3=["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#9c27b0","#ea80fc","#e040fb","#d500f9","#aa00ff"].map((function(t){return{color:t}})),W3={title:"material purple",key:"material-purple",execute:function(){return U3}},Z3=["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#673ab7","#b388ff","#7c4dff","#651fff","#6200ea"].map((function(t){return{color:t}})),q3={title:"material deep purple",key:"material-deeppurple",execute:function(){return Z3}},J3=["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#3f51b5","#8c9eff","#536dfe","#3d5afe","#304ffe"].map((function(t){return{color:t}})),Q3={title:"material indigo",key:"material-indigo",execute:function(){return J3}},t8=["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#2196f3","#82b1ff","#448aff","#2979ff","#2962ff"].map((function(t){return{color:t}})),e8={title:"material blue",key:"material-blue",execute:function(){return t8}},n8=["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#03a9f4","#80d8ff","#40c4ff","#00b0ff","#0091ea"].map((function(t){return{color:t}})),r8={title:"material light blue",key:"material-lightblue",execute:function(){return n8}},o8=["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#00bcd4","#84ffff","#18ffff","#00e5ff","#00b8d4"].map((function(t){return{color:t}})),i8={title:"material cyan",key:"material-cyan",execute:function(){return o8}},a8=["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#009688","#a7ffeb","#64ffda","#1de9b6","#00bfa5"].map((function(t){return{color:t}})),c8={title:"material teal",key:"material-teal",execute:function(){return a8}},u8=["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853"].map((function(t){return{color:t}})),s8={title:"material green",key:"material-green",execute:function(){return u8}},l8=["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17"].map((function(t){return{color:t}})),f8={title:"material lightgreen",key:"material-lightgreen",execute:function(){return l8}},p8=["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00"].map((function(t){return{color:t}})),y8={title:"material lime",key:"material-lime",execute:function(){return p8}},h8=["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600"].map((function(t){return{color:t}})),d8={title:"material yellow",key:"material-yellow",execute:function(){return h8}},v8=["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00"].map((function(t){return{color:t}})),b8={title:"material amber",key:"material-amber",execute:function(){return v8}},m8=["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00"].map((function(t){return{color:t}})),g8={title:"material orange",key:"material-orange",execute:function(){return m8}},w8=["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00"].map((function(t){return{color:t}})),O8={title:"material deep orange",key:"material-deeporange",execute:function(){return w8}},k8=["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723"].map((function(t){return{color:t}})),S8={title:"material brown",key:"material-brown",execute:function(){return k8}},j8=["#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121"].map((function(t){return{color:t}})),P8={title:"material gray",key:"material-gray",execute:function(){return j8}},x8=["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238"].map((function(t){return{color:t}})),R8={title:"material bluegray",key:"material-bluegray",execute:function(){return x8}},$8=["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"].map((function(t){return{color:t}})),E8=[H3,{title:"opencolor gray",resource:"https://yeun.github.io/open-color/",key:"opencolor-gray",execute:function(){return $8}},Y3,K3,W3,q3,Q3,e8,r8,i8,c8,s8,f8,y8,d8,b8,g8,O8,S8,P8,R8];function _8(t){return(_8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D8(t,e){return(D8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A8(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=V8(t);if(e){var o=V8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I8(this,n)}}function I8(t,e){return!e||"object"!==_8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V8(t){return(V8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L8=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D8(t,e)}(i,t);var e,n,r,o=A8(i);function i(){return C8(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("color.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"random"}}},{key:"getTools",value:function(){var t=E8.map((function(t){return"".concat(t.key,":").concat(t.title)}));return'\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    ')}},{key:gi("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"color-assets-property"}},{key:gi("refreshSelection")+Gr(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item color-assets'>\n        <div class='color-list' ref='$colorList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:dr("$colorList .color-item"),value:function(t){var e=t.$dt.attr("data-color");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/color",e)}},{key:Ur("$colorList"),value:function(){var t=this,e=E8.find((function(e){return e.key===t.state.preset}));if(!e)return"";var n=e.execute().map((function(t,e){return"\n        <div class='color-item' data-index=\"".concat(e,'" data-color="').concat(t.color,'" data-custom="').concat(t.custom,"\">\n          <div class='preview' title=\"").concat(t.color,'" data-index="').concat(e,"\" draggable=\"true\"><div class='color-view' style='background-color: ").concat(t.color,";'></div></div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(vm.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(vm.remove,"</button>\n          </div>\n        </div>\n      ")}));return e.edit&&n.push("<div class='add-color-item'><butto type=\"button\">".concat(vm.add,"</button></div>")),n}},{key:"executeColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshColorAssets")):alert("Please select a project.")}},{key:lr("$colorList .add-color-item"),value:function(){this.executeColor((function(t){t.createColor({color:Mn.random(),name:"",variable:""})}))}},{key:lr("$colorList .remove"),value:function(t){var e=+t.$dt.closest("color-item").attr("data-index");this.executeColor((function(t){t.removeColor(e)}))}},{key:lr("$colorList .copy"),value:function(t){var e=+t.$dt.closest("color-item").attr("data-index");this.executeColor((function(t){t.copyColor(e)}))}},{key:lr("$colorList .preview"),value:function(t){var e=t.$dt.$(".color-view").css("background-color");"CanvasView"===this.$editor.modeView?this.emit("addBackgroundColor",e):this.emit("setColorAsset",{color:e})}},{key:gi("changeColorAssets"),value:function(t,e){var n=this;this.executeColor((function(r){r.setColorValue(e.index,{color:t}),n.state.$el.css("background-color",t),n.state.$color.val(t)}),!1)}}])&&T8(e.prototype,n),r&&T8(e,r),i}(RQ);function M8(t){return(M8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F8(t,e){return(F8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G8(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=X8(t);if(e){var o=X8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H8(this,n)}}function H8(t,e){return!e||"object"!==M8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X8(t){return(X8=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y8=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F8(t,e)}(i,t);var e,n,r,o=G8(i);function i(){return z8(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("text.fill.property.title")}},{key:"afterRender",value:function(){this.show()}},{key:gi("refreshSelection"),value:function(){this.refresh()}},{key:"refresh",value:function(){var t=this.$selection.current;t&&(this.children.$fillColor.setValue(t["text-fill-color"]||"rgba(0, 0, 0, 1)"),this.children.$strokeColor.setValue(t["text-stroke-color"]||"rgba(0, 0, 0, 1)"),this.children.$width.setValue(t["text-stroke-width"]||"0px"))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-fill-color'></span>\n        </div>\n        <ColorViewEditor ref='$fillColor' label='".concat(this.$i18n("text.fill.property.fill"),"' key='text-fill-color' onchange=\"changeColor\" />\n      </div>           \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-color'></span>\n        </div>\n        <ColorViewEditor ref='$strokeColor' label='").concat(this.$i18n("text.fill.property.stroke"),"' key='text-stroke-color' onchange=\"changeColor\" />\n      </div>                 \n\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text-stroke-width'></span>\n        </div>\n        <RangeEditor \n          ref='$width' \n          label='").concat(this.$i18n("text.fill.property.strokeWidth"),'\' \n          key="text-stroke-width" \n          \n          max="50"\n          onchange="changeRangeEditor" />\n      </div>\n    \n    ')}},{key:gi("changeColor"),value:function(t,e,n){this.trigger("changeRangeEditor",t,e)}},{key:gi("changeRangeEditor"),value:function(t,e){this.command("setAttribute","change text fill",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&B8(e.prototype,n),r&&B8(e,r),i}(RQ),N8=["0deg","45deg","90deg"],K8=["0deg","45deg","90deg"],U8=["0deg","45deg","90deg"],W8=[{title:"Linear",key:"linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){return{gradient:"linear-gradient(".concat(ve.apply(void 0,N8),", ").concat(Nu.createColorStep(2),")")}}))}},{title:"Random Linear",key:"random-linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){return{gradient:"linear-gradient(".concat(ve.apply(void 0,K8),", ").concat(Nu.createColorStep(10),")")}}))}},{title:"Repeat Linear",key:"repeat-linear",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){return{gradient:"repeating-linear-gradient(".concat(ve.apply(void 0,U8),", ").concat(Nu.createRepeatColorStep(2,"10px"),")")}}))}},{title:"Radial",key:"radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){return{gradient:"radial-gradient(".concat("circle",", ").concat(Nu.createColorStep(2),")")}}))}},{title:"Random Radial",key:"random-radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){return{gradient:"radial-gradient(circle, ".concat(Nu.createColorStep(10),")")}}))}},{title:"Repeat Radial",key:"repeat-radial",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){return{gradient:"repeating-radial-gradient(".concat("circle",", ").concat(Nu.createRepeatColorStep(3,"6px"),")")}}))}},{title:"Conic",key:"conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){var e=b(45,55),n=b(45,55),r=b(0,360);return{gradient:"conic-gradient(from ".concat(r,"deg at ").concat(e,"% ").concat(n,"%, ").concat(Nu.createColorStep(2,360,"deg"),")")}}))}},{title:"Random Conic",key:"random-conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){return{gradient:"conic-gradient(from 0deg at 50% 50%, ".concat(Nu.createColorStep(10,360,"deg"),")")}}))}},{title:"Repeat Conic",key:"repeat-conic",execute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42;return de(t).map((function(t){return{gradient:"repeating-conic-gradient(from 0deg at 0% 50%, ".concat(Nu.createRepeatColorStep(10,"10deg"),")")}}))}}];function Z8(t){return(Z8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q8(t,e){return(Q8=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function t6(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=n6(t);if(e){var o=n6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return e6(this,n)}}function e6(t,e){return!e||"object"!==Z8(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function n6(t){return(n6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r6=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q8(t,e)}(i,t);var e,n,r,o=t6(i);function i(){return q8(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("gradient.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"linear"}}},{key:"getTools",value:function(){var t=W8.map((function(t){return"".concat(t.key,":").concat(t.title)}));return'\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    ')}},{key:gi("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"gradient-assets-property"}},{key:gi("refreshSelection")+Gr(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item gradient-assets'>\n        <div class='gradient-list' ref='$gradientList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:dr("$gradientList .gradient-item"),value:function(t){var e=t.$dt.attr("data-gradient");t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/gradient",e)}},{key:Ur("$gradientList"),value:function(){var t=this,e=W8.find((function(e){return e.key===t.state.preset}));if(!e)return"";var n=e.execute().map((function(t,e){return"\n        <div class='gradient-item' data-index=\"".concat(e,"\" data-gradient='").concat(t.gradient,"' data-custom=\"").concat(t.custom,"\">\n          <div class='preview' title=\"").concat(t.gradient,"\" draggable=\"true\">\n            <div class='gradient-view' style='background-image: ").concat(t.gradient,";'></div>\n          </div>\n        </div>\n      ")}));return e.edit&&n.push("<div class='add-gradient-item'><butto type=\"button\">".concat(vm.add,"</button></div>")),n}},{key:"executeGradient",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshGradientAssets")):alert("Please select a project.")}},{key:lr("$gradientList .add-gradient-item"),value:function(){this.executeGradient((function(t){t.createGradient({gradient:is.random(),name:"",variable:""})}))}},{key:lr("$gradientList .preview"),value:function(t){var e=t.$dt.closest("gradient-item").attr("data-gradient");this.emit("drop.asset",{gradient:e})}},{key:gi("changeGradientAssets"),value:function(t,e){var n=this;this.executeGradient((function(r){r.setGradientValue(e.index,{image:t}),n.state.$el.css("background-image",t),n.state.$item.attr("data-gradient",t)}),!1)}}])&&J8(e.prototype,n),r&&J8(e,r),i}(RQ);function o6(t){return(o6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c6(t,e){return(c6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u6(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l6(t);if(e){var o=l6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s6(this,n)}}function s6(t,e){return!e||"object"!==o6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l6(t){return(l6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f6=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c6(t,e)}(i,t);var e,n,r,o=u6(i);function i(){return i6(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("svg.item.property.title")}},{key:"getClassName",value:function(){return"item"}},{key:"isSVGItem",value:function(t){return t.is("svg-path","svg-brush","svg-polygon","svg-textpath","svg-text")}},{key:gi("refreshPathLayer","refreshStyleView"),value:function(){var t=this.$selection.current;t&&this.isSVGItem(t)&&this.refs.$length.text(t.totalLength||"")}},{key:gi("refreshSelection"),value:function(){var t=this.$selection.current;t&&this.isSVGItem(t)?(this.$el.isHide()&&this.$el.show(),this.refs.$length.text(t.totalLength||""),this.children.$fill.setValue(t.fill||"rgba(0, 0, 0, 0)"),this.children.$stroke.setValue(t.stroke||"rgba(0, 0, 0, 1)"),this.children.$fillOpacity.setValue(t["fill-opacity"]||R.number(1)),this.children.$strokeWidth.setValue(t["stroke-width"]||R.number(1)),this.children.$fillRule.setValue(t["fill-rule"]||"nonzero"),this.children.$strokeDashOffset.setValue(t["stroke-dashoffset"]||R.number(0)),this.children.$strokeDashArray.setValue(t["stroke-dasharray"]||" "),this.children.$strokeLineCap.setValue(t["stroke-linecap"]||"butt"),this.children.$strokeLineJoin.setValue(t["stroke-linejoin"]||"miter")):this.$el.hide()}},{key:"refresh",value:function(){}},{key:Jr("$svgProperty"),value:function(){return{style:{display:(this.$selection.current||{})["motion-based"]?"none":"block"}}}},{key:"getBody",value:function(){var t=this.$selection.current||{};return"\n\n      <div class='property-item'> \n        <label>\n          <input type='checkbox' ref='$motionBased' ".concat(Oe({checked:!!t["motion-based"]})," /> \n          ").concat(this.$i18n("svg.item.property.isMotionPath"),"\n        </label>\n      </div>      \n\n      <div ref='$svgProperty'>\n        <div class='property-item animation-property-item' ref='$path'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='d'></span>      \n          </div>            \n          <label>").concat(this.$i18n("svg.item.property.path")," - <span>").concat(this.$i18n("svg.item.property.totalLength"),"</span> <span ref='$length'></span> </label>\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill'></span>\n          </div>\n          <FillSingleEditor ref='$fill' label='").concat(this.$i18n("svg.item.property.fill"),"' key='fill' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-opacity'></span>\n          </div>            \n          <NumberRangeEditor \n            ref='$fillOpacity' \n            label='").concat(this.$i18n("svg.item.property.fillOpacity"),"' \n            key='fill-opacity' \n            value=\"1\" \n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            onchange=\"changeValue\" \n            />\n        </div>   \n\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='fill-rule'></span>\n          </div>\n          <SelectIconEditor \n            ref='$fillRule' \n            label='").concat(this.$i18n("svg.item.property.fillRule"),"' \n            key=\"fill-rule\" \n            options=\"nonzero,evenodd\" \n            onchange=\"changeValue\" />\n        </div>            \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke'></span>\n          </div>\n          <FillSingleEditor ref='$stroke' label='").concat(this.$i18n("svg.item.property.stroke"),"' key='stroke' onchange=\"changeValue\" />\n        </div>      \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-width'></span>\n          </div>\n          <RangeEditor \n            ref='$strokeWidth' \n            label='").concat(this.$i18n("svg.item.property.strokeWidth"),"' \n            key=\"stroke-width\" \n            onchange=\"changeValue\" />\n        </div>\n              \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dasharray'></span>      \n          </div>          \n          <label>").concat(this.$i18n("svg.item.property.dashArray"),"</label>\n        </div>\n        <div class='property-item'>\n          <StrokeDashArrayEditor ref='$strokeDashArray' key='stroke-dasharray' onchange=\"changeValue\" />\n        </div>\n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-dashoffset'></span>      \n          </div>          \n          <NumberRangeEditor \n            ref='$strokeDashOffset' \n            key='stroke-dashoffset' \n            label='").concat(this.$i18n("svg.item.property.dashOffset"),"'\n            value=\"0\" \n            min=\"-1000\"\n            max=\"1000\"\n            step=\"1\"\n            onchange=\"changeValue\" \n            />\n        </div>         \n\n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linecap'></span>      \n          </div>          \n          <SelectIconEditor \n            ref='$strokeLineCap' \n            label='").concat(this.$i18n("svg.item.property.lineCap"),"' \n            key=\"stroke-linecap\" \n            options=\"butt,round,square\" \n            onchange=\"changeValue\" \n          />\n        </div> \n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='stroke-linejoin'></span>      \n          </div>          \n          <SelectIconEditor \n            ref='$strokeLineJoin' \n            label='").concat(this.$i18n("svg.item.property.lineJoin"),"'             \n            key=\"stroke-linejoin\" \n            options=\"miter,bevel,round\" \n            onchange=\"changeValue\" \n          />\n        </div>        \n        <div class='property-item animation-property-item'>\n          <div class='group'>        \n            <span class='add-timeline-property' data-property='svgfilter'></span>      \n          </div>\n          <SVGFilterSelectEditor \n            ref='$svgFilter' \n            label='").concat(this.$i18n("svg.item.property.filter"),'\' \n            key="svgfilter" \n            onchange="changeValue" \n          />\n        </div>         \n      </div>\n   \n    ')}},{key:lr("$motionBased"),value:function(){this.command("setAttribute","set motion base",{"motion-based":this.refs.$motionBased.checked()})}},{key:gi("changeValue"),value:function(t,e,n){this.command("setAttribute","change svg item property : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),null,!0)}}])&&a6(e.prototype,n),r&&a6(e,r),i}(RQ);function p6(t){return(p6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d6(t,e){return(d6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v6(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m6(t);if(e){var o=m6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b6(this,n)}}function b6(t,e){return!e||"object"!==p6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m6(t){return(m6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g6=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d6(t,e)}(i,t);var e,n,r,o=v6(i);function i(){return y6(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("text.clip.property.title")}},{key:"isFirstShow",value:function(){return!1}},{key:"getClassName",value:function(){return"item"}},{key:"getTools",value:function(){return"<div ref='$textClip'></div>"}},{key:Ur("$textClip"),value:function(){var t=(this.$selection.current||{})["text-clip"]||"";return"\n      <SelectEditor ref='$1' key='text-clip' icon=\"true\" value=\"".concat(t,'" options=",text" onchange="changeSelect" />\n    ')}},{key:gi("changeSelect"),value:function(t,e){this.emit("setAttribute",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShow(["text"])}}])&&h6(e.prototype,n),r&&h6(e,r),i}(RQ);function w6(t){return(w6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S6(t,e){return(S6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j6(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x6(t);if(e){var o=x6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P6(this,n)}}function P6(t,e){return!e||"object"!==w6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x6(t){return(x6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R6=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S6(t,e)}(i,t);var e,n,r,o=j6(i);function i(){return O6(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("svgfilter.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"svgfilter-assets-property"}},{key:gi("refreshSelection")+Gr(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item svgfilter-assets'>\n        <div class='svgfilter-list' ref='$svgfilterList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:Ur("$svgfilterList"),value:function(){var t=(this.$selection.currentProject||{svgfilters:[]}).svgfilters.map((function(t,e){var n=t.filters.map((function(t){return t$.parse(t)}));return"\n        <div class='svgfilter-item' data-index=\"".concat(e,"\">\n          <div class='preview' data-index=\"").concat(e,'">\n            <svg width="0" height="0">\n              <filter id="svgfilter-').concat(e,'">\n                ').concat(n.join("")," \n              </filter>\n            </svg>\n            <div class='svgfilter-view' style='filter: url(#svgfilter-").concat(e,");'></div>\n          </div>\n          <div class='title'>\n            <div>\n              <input type='text' class='id' data-key='id' value='").concat(t.id,"' placeholder=\"id\" />\n            </div>\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(vm.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(vm.remove,"</button>\n          </div>\n        </div>\n      ")}));return t.push("<div class='add-svgfilter-item'><button type=\"button\">".concat(vm.add,"</button></div>")),t}},{key:"executeSVGFilter",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshSVGFilterAssets")):alert("Please select a project.")}},{key:lr("$svgfilterList .add-svgfilter-item"),value:function(){this.executeSVGFilter((function(t){t.createSVGFilter({id:J(),filters:[]})}))}},{key:lr("$svgfilterList .remove"),value:function(t){var e=+t.$dt.closest("svgfilter-item").attr("data-index");this.executeSVGFilter((function(t){t.removeSVGFilter(e)}))}},{key:lr("$svgfilterList .copy"),value:function(t){var e=+t.$dt.closest("svgfilter-item").attr("data-index");this.executeSVGFilter((function(t){t.copySVGFilter(e)}))}},{key:Or("$svgfilterList input"),value:function(t){var e=this,n=+t.$dt.closest("svgfilter-item").attr("data-index"),r=t.$dt.attrKeyValue("data-key");this.executeSVGFilter((function(t){t.setSVGFilterValue(n,r),e.emit("refreshSVGArea")}),!1)}},{key:lr("$svgfilterList .preview"),value:function(t){var e=t.$dt.closest("svgfilter-item"),n=+e.attr("data-index");this.state.$item=e,this.state.$el=t.$dt.$(".svgfilter-view");var r=(this.$selection.currentProject||{svgfilters:[]}).svgfilters[n];this.emit("showSVGFilterPopup",{changeEvent:"changeSVGFilterAssets",id:this.id,index:n,filters:r.filters})}},{key:gi("updateSVGFilterAssets"),value:function(t){var e=this;this.executeSVGFilter((function(n){n.setSVGFilterValue(t.index,{filters:t.filters}),e.state.$item.$("filter").html(t.filters.join("\n")),e.emit("refreshSVGArea")}),!1)}},{key:gi("changeSVGFilterAssets"),value:function(t){t.id===this.id&&this.trigger("updateSVGFilterAssets",t)}},{key:gi("refreshSVGFilterAssets"),value:function(){this.refresh()}}])&&k6(e.prototype,n),r&&k6(e,r),i}(RQ);function $6(t){return($6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C6(t,e){return(C6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T6(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A6(t);if(e){var o=A6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D6(this,n)}}function D6(t,e){return!e||"object"!==$6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A6(t){return(A6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I6=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C6(t,e)}(i,t);var e,n,r,o=T6(i);function i(){return E6(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return fQ}},{key:"afterRender",value:function(){this.show()}},{key:"getTitle",value:function(){return this.$i18n("alignment.property.title")}},{key:"isHideHeader",value:function(){return!0}},{key:"getBody",value:function(){return'\n      <div class="alignment-item" ref="$positionItem">\n        <LeftAlign />\n        <CenterAlign />\n        <RightAlign />\n\n        <TopAlign />\n        <MiddleAlign />\n        <BottomAlign />  \n\n        <SameWidth />\n        <SameHeight />\n      </div>\n    '}}])&&_6(e.prototype,n),r&&_6(e,r),i}(RQ);function V6(t){return(V6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z6(t,e){return(z6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B6(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=G6(t);if(e){var o=G6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F6(this,n)}}function F6(t,e){return!e||"object"!==V6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G6(t){return(G6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H6=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z6(t,e)}(i,t);var e,n,r,o=B6(i);function i(){return L6(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{OffsetPathListEditor:eF}}},{key:"getTitle",value:function(){return this.$i18n("motion.property.title")}},{key:gi("refreshSelection","refreshRect")+Gr(100),value:function(){this.refreshShowIsNot(["project"])}},{key:"refresh",value:function(){var t=this.$selection.current;t&&this.children.$offsetPathList.setValue(t["offset-path"])}},{key:"getBody",value:function(){var t=this.$selection.current||{"offset-path":""};return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='offset-path'></span>\n        </div>\n        <OffsetPathListEditor ref=\"$offsetPathList\" key=\"offset-path\" value=\"".concat(t["offset-path"],'" onchange="changRangeEditor" />\n      </div>\n    ')}},{key:gi("changRangeEditor"),value:function(t,e){this.command("setAttribute","change motion attribute : ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&M6(e.prototype,n),r&&M6(e,r),i}(RQ);function X6(t){URL.revokeObjectURL(t)}function Y6(t){return(Y6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N6(t){return function(t){if(Array.isArray(t))return K6(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return K6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K6(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K6(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z6(t,e){return(Z6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q6(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Q6(t);if(e){var o=Q6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J6(this,n)}}function J6(t,e){return!e||"object"!==Y6(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q6(t){return(Q6=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var t9=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z6(t,e)}(i,t);var e,n,r,o=q6(i);function i(){return U6(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("image.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"image-assets-property"}},{key:"afterRender",value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item image-assets'>\n        <div class='image-list' ref='$imageList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:Ur("$imageList")+Fr,value:function(){var t=(this.$selection.currentProject||{images:[]}).images.map((function(t,e){return"\n        <div class='image-item' data-index=\"".concat(e,'">\n          <div class=\'preview\' draggable="true">\n            <img src="').concat(t.local,"\" />\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(vm.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(vm.remove,"</button>\n          </div>\n        </div>\n      ")}));return"\n      <div class='loaded-list'>\n        ".concat(t.join(""),"\n        <div class='add-image-item'>\n          <input type='file' accept='image/*' ref='$file' />\n          <button type=\"button\">").concat(vm.add,"</button>\n        </div>        \n      </div>\n\n    ")}},{key:"executeImage",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshImageAssets")):alert("Please select a project.")}},{key:dr("$imageList .preview img"),value:function(t){var e=+t.$dt.closest("image-item").attr("data-index"),n=this.$selection.currentProject;if(n){var r=n.images[e];t.dataTransfer.setData("image/info",r.local)}}},{key:wr("$imageList .add-image-item input[type=file]"),value:function(t){var e=this;this.executeImage((function(n){N6(t.target.files).forEach((function(t){e.emit("updateImageAssetItem",t)}))}))}},{key:lr("$imageList .remove"),value:function(t){var e=t.$dt.closest("image-item"),n=+e.attr("data-index");this.executeImage((function(t){t.removeImage(n),X6(e.$(".preview img").attr("src"))}))}},{key:lr("$imageList .copy"),value:function(t){var e=+t.$dt.closest("image-item").attr("data-index");this.executeImage((function(t){t.copyImage(e)}))}},{key:gi("addImageAsset"),value:function(){this.refresh()}}])&&W6(e.prototype,n),r&&W6(e,r),i}(RQ);function e9(t){return(e9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n9(t){return function(t){if(Array.isArray(t))return r9(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r9(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a9(t,e){return(a9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c9(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s9(t);if(e){var o=s9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u9(this,n)}}function u9(t,e){return!e||"object"!==e9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s9(t){return(s9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l9=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a9(t,e)}(i,t);var e,n,r,o=c9(i);function i(){return o9(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("video.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid"}}},{key:"getClassName",value:function(){return"video-assets-property"}},{key:"afterRender",value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item video-assets'>\n        <div class='video-list' ref='$videoList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:Ur("$videoList")+Fr,value:function(){var t=(this.$selection.currentProject||{videos:[]}).videos.map((function(t,e){return"\n        <div class='video-item' data-index=\"".concat(e,'">\n          <div class=\'preview\' draggable="true">\n            <img src="').concat(t.local,"\" />\n          </div>\n          <div class='tools'>\n            <button type=\"button\" class='copy'>").concat(vm.copy,"</button>          \n            <button type=\"button\" class='remove'>").concat(vm.remove,"</button>\n          </div>\n        </div>\n      ")}));return"\n      <div class='loaded-list'>\n        ".concat(t.join(""),"\n        <div class='add-video-item'>\n          <input type='file' accept='video/*' ref='$file' />\n          <button type=\"button\">").concat(vm.add,"</button>\n        </div>        \n      </div>\n\n    ")}},{key:"executeVideo",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.$selection.currentProject;r?(t&&t(r),e&&this.refresh(),n&&this.emit("refreshVideoAssets")):alert("Please select a project.")}},{key:dr("$videoList .preview img"),value:function(t){var e=+t.$dt.closest("video-item").attr("data-index"),n=this.$selection.currentProject;if(n){var r=n.videos[e];t.dataTransfer.setData("video/info",r.local)}}},{key:wr("$videoList .add-video-item input[type=file]"),value:function(t){var e=this;this.executeVideo((function(n){n9(t.target.files).forEach((function(t){e.emit("updateVideoAssetItem",t)}))}))}},{key:lr("$videoList .remove"),value:function(t){var e=t.$dt.closest("video-item"),n=+e.attr("data-index");this.executeVideo((function(t){t.removeVideo(n),X6(e.$(".preview img").attr("src"))}))}},{key:lr("$videoList .copy"),value:function(t){var e=+t.$dt.closest("video-item").attr("data-index");this.executeVideo((function(t){t.copyVideo(e)}))}},{key:gi("addVideoAsset"),value:function(){this.refresh()}}])&&i9(e.prototype,n),r&&i9(e,r),i}(RQ);function f9(t){return(f9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y9(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p9(Object(n),!0).forEach((function(e){h9(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p9(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b9(t,e,n){return(b9="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O9(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m9(t,e){return(m9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g9(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O9(t);if(e){var o=O9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w9(this,n)}}function w9(t,e){return!e||"object"!==f9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O9(t){return(O9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k9=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m9(t,e)}(i,t);var e,n,r,o=g9(i);function i(){return d9(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Component"}},{key:"isShow",value:function(){var t=this.$selection.current;return!(!t||!t.is("component"))}},{key:"initState",value:function(){return{components:{}}}},{key:"components",value:function(){return y9(y9({},b9(O9(i.prototype),"components",this).call(this)),this.state.components)}},{key:gi("refreshSelection")+Gr(100),value:function(){var t=this;this.refreshShow((function(e){var n=t.$selection.current;return n&&n.is("component")}))}},{key:"refresh",value:function(){var t=this,e=this.$selection.current;e&&e.is("component")&&(this.setTitle(e.getDefaultTitle()||e.itemType||e.name),this.load(),e.getProps().forEach((function(n){t.children[n.key]&&t.children[n.key].setValue(e[n.key]||n.defaultValue)})))}},{key:"getBody",value:function(){return"\n      <div ref='$body'></div>\n    "}},{key:"initComponents",value:function(){var t=this.$selection.current,e={};t&&t.is("component")&&t.getProps().forEach((function(t){ce(t.editor)||(e=y9(y9({},e),t.editor))})),this.setState({components:e},!1),b9(O9(i.prototype),"initComponents",this).call(this)}},{key:"getPropertyEditor",value:function(t,e,n,r){return ce(n)?"<".concat(n," ").concat(Oe(y9(y9({},r),{},{onchange:"changeComponentProperty",ref:t,key:t,value:e}))," />"):Object.keys(n).map((function(n){return"<".concat(n," ").concat(Oe(y9(y9({},r),{},{onchange:"changeComponentProperty",ref:t,key:t,value:e}))," />")})).join("")}},{key:Ur("$body"),value:function(){var t=this,e=this.$selection.current;return e?e&&!e.is("component")?"":e.getProps().map((function(n){return ce(n)?"\n          <div class='property-item'> \n            <label>".concat(n,"</label>\n          </div>"):"\n          <div class='property-item animation-property-item'> \n            <div class='group'>\n              <span class='add-timeline-property' data-property='".concat(n.key,"' data-type=\"").concat(e.itemType,'" data-editor="').concat(n.editor,'"></span>\n            </div>\n            ').concat(t.getPropertyEditor(n.key,e[n.key]||n.defaultVallue,n.editor,n.editorOptions),"\n          </div>\n        ")})):""}},{key:gi("changeComponentProperty"),value:function(t,e){this.command("setAttribute","change component",h9({},t,e),null,!0)}}])&&v9(e.prototype,n),r&&v9(e,r),i}(RQ);function S9(t){return(S9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x9(t,e){return(x9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R9(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E9(t);if(e){var o=E9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $9(this,n)}}function $9(t,e){return!e||"object"!==S9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E9(t){return(E9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _9=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x9(t,e)}(i,t);var e,n,r,o=R9(i);function i(){return j9(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("timeline.animation.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"getTools",value:function(){return"\n      <button type='button' ref='$add' title=\"Add an animation\">".concat(vm.add,"</button>\n    ")}},{key:"getBody",value:function(){return'\n      <div class="timeline-animation-list" ref="$timelineAnimationList"></div>\n    '}},{key:Ur("$timelineAnimationList")+Fr,value:function(){var t=this.$selection.currentProject;return t?t.timeline.map((function(t,e){var n=t.selected?"selected":"";return"\n        <div class='timeline-animation-item ".concat(n,"'>\n          <div class='preview icon'>\n            ").concat(vm.local_movie,"\n          </div>\n          <div class='detail'>\n            <label data-id='").concat(t.id,"'>").concat(t.title,'</label>\n            <div class="tools">\n              <button type="button" class="remove" data-id="').concat(t.id,"\" title='Remove'>").concat(vm.remove2,"</button>\n            </div>\n          </div>\n        </div>\n      ")})):""}},{key:fr("$timelineAnimationList .timeline-animation-item"),value:function(t){this.startInputEditing(t.$dt.$("label"))}},{key:"modifyDoneInputEditing",value:function(t){var e=this;this.endInputEditing(t,(function(n,r){var o=t.attr("data-id"),i=e.$selection.currentProject;i&&i.setTimelineTitle(o,r)}))}},{key:yr("$timelineAnimationList .timeline-animation-item label")+Mr+Nr+Kr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:jr("$timelineAnimationList .timeline-animation-item label")+Nr+Kr,value:function(t){this.modifyDoneInputEditing(t.$dt)}},{key:lr("$add"),value:function(t){this.emit("addTimelineItem")}},{key:lr("$timelineAnimationList .timeline-animation-item .remove"),value:function(t){var e=t.$dt.attr("data-id");this.emit("removeAnimationItem",e)}},{key:lr("$timelineAnimationList .timeline-animation-item label"),value:function(t){var e=t.$dt.attr("data-id"),n=this.$selection.currentProject;n&&(n.selectTimeline(e),t.$dt.closest("timeline-animation-item").onlyOneClass("selected"),this.emit("refreshTimeline"),this.emit("selectTimeline"))}},{key:gi("addTimeline","removeTimeline","removeAnimation"),value:function(){this.refresh()}},{key:gi("refreshTimeline","refreshSelection","refreshArtboard")+Gr(100),value:function(){this.refresh()}}])&&P9(e.prototype,n),r&&P9(e,r),i}(RQ);function C9(t){return(C9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A9(t,e){return(A9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I9(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=L9(t);if(e){var o=L9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V9(this,n)}}function V9(t,e){return!e||"object"!==C9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L9(t){return(L9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M9=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A9(t,e)}(i,t);var e,n,r,o=I9(i);function i(){return T9(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{BorderEditor:SF}}},{key:"getTitle",value:function(){return this.$i18n("border.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"border"}},{key:"getBody",value:function(){return"<div class=\"property-item full border-item\" ref='$body'></div>"}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{}).border||"";return"\n      <BorderEditor ref='$1' key='border' value='".concat(t,"' onchange='changeKeyValue' />\n    ")}},{key:gi("refreshSelection")+Gr(100),value:function(){this.refreshShow(["rect","circle","text","cube","cylinder"])}},{key:gi("changeKeyValue"),value:function(t,e){this.command("setAttribute","change border",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&D9(e.prototype,n),r&&D9(e,r),i}(RQ);function z9(t){return(z9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G9(t,e){return(G9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H9(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Y9(t);if(e){var o=Y9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return X9(this,n)}}function X9(t,e){return!e||"object"!==z9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y9(t){return(Y9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N9=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G9(t,e)}(i,t);var e,n,r,o=H9(i);function i(){return B9(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("project.information.property.title")}},{key:"getClassName",value:function(){return"full"}},{key:"refresh",value:function(){var t=this.$selection.currentProject||{name:"",description:""};this.refs.$name.val(t.name),this.refs.$description.val(t.description)}},{key:"getBody",value:function(){var t=this.$selection.currentProject||{name:"",description:""};return'\n      <div class="project-info" ref="$info">\n        <div class=\'project-info-item\'>\n          <label>'.concat(this.$i18n("project.information.property.name"),"</label>\n          <div class='input'><input type='text' value='").concat(t.name,"' ref='$name' /></div>\n        </div>\n        <div class='project-info-item'>\n          <label>").concat(this.$i18n("project.information.property.description"),"</label>\n          <div class='input'>\n            <textarea  value='").concat(t.description,"' ref='$description'></textarea>\n          </div>\n        </div>\n      </div>\n    ")}},{key:gi("refreshProjectList"),value:function(){this.refresh()}}])&&F9(e.prototype,n),r&&F9(e,r),i}(RQ);function K9(t){return(K9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z9(t,e){return(Z9=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q9(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Q9(t);if(e){var o=Q9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J9(this,n)}}function J9(t,e){return!e||"object"!==K9(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Q9(t){return(Q9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var t7=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z9(t,e)}(i,t);var e,n,r,o=q9(i);function i(){return U9(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("path.data.property.title")}},{key:"getClassName",value:function(){return"item path-data-property"}},{key:"isSVGItem",value:function(t){return t.is("svg-path","svg-brush","svg-textpath")}},{key:"components",value:function(){return{PathDataEditor:LB}}},{key:gi("refreshPathLayer","refreshStyleView","refreshRect")+Gr(100),value:function(){this.refresh()}},{key:gi("refreshSelection"),value:function(){this.refreshShow(["svg-path","svg-brush","svg-textpath"])}},{key:"refresh",value:function(){var t=this.$selection.current||{};this.children.$pathData.setValue(t.d)}},{key:"getBody",value:function(){var t=this.$selection.current||{};return"\n      <div>\n        <PathDataEditor ref='$pathData' key='d' value='".concat(t.d,"' onchange='changeValue' />\n      </div>\n    ")}},{key:gi("changeValue"),value:function(t,e,n){this.emit("updatePathItem",function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}}])&&W9(e.prototype,n),r&&W9(e,r),i}(RQ);function e7(t){return(e7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o7(t,e){return(o7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i7(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c7(t);if(e){var o=c7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a7(this,n)}}function a7(t,e){return!e||"object"!==e7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c7(t){return(c7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u7=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o7(t,e)}(i,t);var e,n,r,o=i7(i);function i(){return n7(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("svg.text.property.title")}},{key:gi("refreshSelection"),value:function(){this.refreshShow(["svg-textpath","svg-text","svg-tspan"])}},{key:"refresh",value:function(){this.$selection.current&&this.setAllValue(["lengthAdjust","textLength","startOffset","text-anchor","text"])}},{key:"setAllValue",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.$selection.current;n&&e.forEach((function(e){t.children["$".concat(e)].setValue(n[e])}))}},{key:"getBody",value:function(){return"\n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='text'></span>\n        </div>\n        <TextAreaEditor \n          ref='$text' \n          label='".concat(this.$i18n("svg.text.property.textarea"),"' \n          key=\"text\"\n          onchange=\"changeTextValue\" />\n      </div>        \n      <div class='property-item'>\n        <SelectIconEditor \n          ref='$text-anchor' \n          label='").concat(this.$i18n("svg.text.property.anchor"),"' \n          key=\"text-anchor\" \n          options=\"start,middle,end\" \n          onchange=\"changeTextValue\" />\n      </div>            \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='lengthAdjust'></span>\n        </div>\n        <SelectEditor \n          ref='$lengthAdjust' \n          label='").concat(this.$i18n("svg.text.property.length.adjust"),"' \n          key='lengthAdjust' \n          value='spacing' \n          options=\"spacing,spacingAndGlyphs\" \n          onchange='changeTextValue' />        \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='textLength'></span>\n        </div>\n        <RangeEditor \n          ref='$textLength' \n          label='").concat(this.$i18n("svg.text.property.text.length"),"' \n          key='textLength'\n          min=\"0\"\n          max='1000'\n          step=\"0.1\"\n          onchange='changeTextValue' />                \n      </div>        \n      <div class='property-item animation-property-item'>\n        <div class='group'>\n          <span class='add-timeline-property' data-property='startOffset'></span>\n        </div>\n        <RangeEditor \n          ref='$startOffset' \n          label='").concat(this.$i18n("svg.text.property.start.offset"),"' \n          key='startOffset' \n          min=\"0\"\n          max='1000'\n          step=\"0.1\"          \n          onchange='changeTextValue' />        \n      </div>                    \n    ")}},{key:gi("changeTextValue"),value:function(t,e){this.command("setAttribute","change svg text property: ".concat(t),function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),null,!0)}}])&&r7(e.prototype,n),r&&r7(e,r),i}(RQ);function s7(t){return(s7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p7(t,e){return(p7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y7(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d7(t);if(e){var o=d7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h7(this,n)}}function h7(t,e){return!e||"object"!==s7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d7(t){return(d7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v7=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p7(t,e)}(i,t);var e,n,r,o=y7(i);function i(){return l7(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("export.property.title")}},{key:gi("refreshSelection","refreshContent")+Gr(100),value:function(){this.refreshShowIsNot("project")}},{key:"getClassName",value:function(){return"export-property"}},{key:"getBody",value:function(){return"\n        <div class='export-item svg'>\n          <label>SVG</label>\n          <button ref='$svg'>".concat(vm.archive," ").concat(this.$i18n("export.property.download"),"</button>\n        </div>\n        <div class='export-item png'>\n          <label>PNG</label>\n          <button ref='$png'>").concat(vm.archive," ").concat(this.$i18n("export.property.download"),"</button>\n        </div> \n      ")}},{key:lr("$svg"),value:function(){this.emit("downloadSVG")}},{key:lr("$png"),value:function(){this.emit("downloadPNG")}}])&&f7(e.prototype,n),r&&f7(e,r),i}(RQ);function b7(t){return(b7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O7(t,e){return(O7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k7(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j7(t);if(e){var o=j7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S7(this,n)}}function S7(t,e){return!e||"object"!==b7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j7(t){return(j7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P7=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O7(t,e)}(i,t);var e,n,r,o=k7(i);function i(){return g7(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("layout.property.title")}},{key:"getLayoutOptions",value:function(){var t=this;return["default","flex","grid"].map((function(e){return"".concat(e,":").concat(t.$i18n("layout.property.".concat(e)))})).join(",")}},{key:"getClassName",value:function(){return"layout-property"}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$layoutType'></div>\n      "}},{key:Ur("$layoutType"),value:function(){var t=this.$selection.current||{layout:"default"};return"\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(t.layout,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        colors=\",green,red\"\n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList'>\n        <div data-value='default' class='").concat("default"===t.layout?"selected":"","'></div>\n        <div data-value='flex' class='").concat("flex"===t.layout?"selected":"","'>\n          <FlexLayoutEditor ref='$flex' key='flex-layout' value=\"").concat(t["flex-layout"]||"","\" onchange='changeLayoutInfo' />\n        </div>\n        <div data-value='grid' class='").concat("grid"===t.layout?"selected":"","'>\n          <GridLayoutEditor ref='$grid' key='grid-layout' value=\"").concat(t["grid-layout"]||"","\" onchange='changeLayoutInfo' />\n        </div>\n      </div>\n    ")}},{key:gi("changeLayoutInfo"),value:function(t,e){var n=this;this.command("setAttribute","change layout info",m7({},t,e),null,!1,!0),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:gi("changeLayoutType"),value:function(t,e){var n=this;this.$selection.reset(m7({},t,e)),this.command("setAttribute","change layout type",m7({},t,e),null,!1,!0),this.refresh(),this.nextTick((function(){n.emit("refreshAllElementBoundSize"),n.emit("changeItemLayout")}))}},{key:gi("refreshSelection"),value:function(){this.refreshShow(["rect","circle","artboard"],!0)}}])&&w7(e.prototype,n),r&&w7(e,r),i}(RQ);function x7(t){return(x7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E7(t,e){return(E7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _7(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T7(t);if(e){var o=T7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C7(this,n)}}function C7(t,e){return!e||"object"!==x7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T7(t){return(T7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D7=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E7(t,e)}(i,t);var e,n,r,o=_7(i);function i(){return R7(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("flex.layout.item.property.title")}},{key:"getClassName",value:function(){return"flex-layout-item-property"}},{key:"getLayoutOptions",value:function(){var t=this;return["none","auto","value"].map((function(e){return"".concat(e,":").concat(t.$i18n("flex.layout.item.property.".concat(e)))})).join(",")}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$body'></div>\n      "}},{key:Ur("$body"),value:function(){var t=this.$selection.current||{"flex-layout-item":"none"},e=t["flex-layout-item"]||"none",n=[];return!1===["none","auto"].includes(e)&&(n=e.split(" ")),n.length>0&&(e="value"),"\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(e,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='").concat(t.layout,"'>\n        <div data-value='none'></div>\n        <div data-value='auto'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <RangeEditor ref='$grow' label='").concat(this.$i18n("flex.layout.item.property.grow"),'\' key="flex-grow" value="').concat(n[0],"\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <RangeEditor ref='$shrink' label='").concat(this.$i18n("flex.layout.item.property.shrink"),'\' key="flex-shrink" value="').concat(n[1],"\" min='0' max='1' step='0.01' units=\",auto\" onchange='changeFlexItem' />\n          </div>\n          <div class='value-item'>\n            <RangeEditor ref='$basis' label='").concat(this.$i18n("flex.layout.item.property.basis"),'\' key="flex-basis" value="').concat(n[2],"\" min='0' units=\"px,em,%,auto\" onchange='changeFlexItem' />\n          </div>                    \n        </div>\n      </div>\n    ")}},{key:"getFlexItemValue",value:function(t){return"auto"===t.unit?"auto":t+""}},{key:"getFlexValue",value:function(){var t=this.children.$grow.getValue(),e=this.children.$shrink.getValue(),n=this.children.$basis.getValue();return t=this.getFlexItemValue(t),e=this.getFlexItemValue(e),n=this.getFlexItemValue(n),ge({flex:"".concat(t," ").concat(e," ").concat(n)})}},{key:gi("changeFlexItem"),value:function(t,e){var n=this;this.command("setAttribute","change flex layout",{"flex-layout-item":this.getFlexValue()}),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:gi("changeLayoutType"),value:function(t,e){var n=this,r=this.children.$layout.getValue();e=r,"value"===r&&(e=this.getFlexValue()),this.command("setAttribute","change flex layout",{"flex-layout-item":e}),this.refs.$layoutList.attr("data-selected-value",r),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:gi("refreshSelection")+Gr(100),value:function(){var t=this;this.refreshShow((function(){var e=t.$selection.current;return e&&e.isInFlex()}))}}])&&$7(e.prototype,n),r&&$7(e,r),i}(RQ);function A7(t){return(A7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L7(t,e){return(L7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M7(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=B7(t);if(e){var o=B7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z7(this,n)}}function z7(t,e){return!e||"object"!==A7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B7(t){return(B7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F7=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L7(t,e)}(i,t);var e,n,r,o=M7(i);function i(){return I7(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("grid.layout.item.property.title")}},{key:"getLayoutOptions",value:function(){var t=this;return["none","value"].map((function(e){return"".concat(e,":").concat(t.$i18n("grid.layout.item.property.".concat(e)))})).join(",")}},{key:"getClassName",value:function(){return"grid-layout-item-property"}},{key:"getBody",value:function(){return"\n        <div class='property-item' ref='$body'></div>\n      "}},{key:Ur("$body"),value:function(){var t=this.$selection.current||{"grid-layout-item":"none"},e=t["grid-layout-item"]||"none",n={};return!1===["none"].includes(e)&&(n=we(t["grid-layout-item"])),Object.keys(n).length>0&&(e="value"),"\n      <div class='layout-select'>\n        <SelectIconEditor \n        ref='$layout' \n        key='layout' \n        icon=\"true\" \n        value=\"".concat(e,'"\n        options="').concat(this.getLayoutOptions(),"\"  \n        onchange=\"changeLayoutType\" />\n      </div>\n      <div class='layout-list' ref='$layoutList' data-selected-value='").concat(e,"'>\n        <div data-value='none'></div>\n        <div data-value='value'>\n          <div class='value-item'>\n            <label></label>\n            <div>").concat(this.$i18n("grid.layout.item.property.start"),"</div>\n            <div>").concat(this.$i18n("grid.layout.item.property.end"),"</div>\n          </div>\n          <div class='value-item'>\n            <label>").concat(this.$i18n("grid.layout.item.property.column"),'</label>\n            <div>\n              <NumberInputEditor ref=\'$columnStart\' key="grid-column-start" value="').concat(n["grid-column-start"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <NumberInputEditor ref='$columnEnd' key=\"grid-column-end\" value=\"").concat(n["grid-column-end"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>\n          <div class='value-item'>\n            <label>").concat(this.$i18n("grid.layout.item.property.row"),'</label>\n            <div>\n              <NumberInputEditor ref=\'$rowStart\' key="grid-row-start" value="').concat(n["grid-row-start"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>\n            <div>\n              <NumberInputEditor ref='$rowEnd' key=\"grid-row-end\" value=\"").concat(n["grid-row-end"]||"0","\" min='0' onchange='changeGridItem' />\n            </div>            \n          </div>          \n        </div>\n      </div>\n    ")}},{key:"getGridValue",value:function(){return ge({"grid-column-start":this.children.$columnStart.getValue(),"grid-column-end":this.children.$columnEnd.getValue(),"grid-row-start":this.children.$rowStart.getValue(),"grid-row-end":this.children.$rowEnd.getValue()})}},{key:gi("changeGridItem"),value:function(t,e){var n=this;this.command("setAttribute","change grid layout item",{"grid-layout-item":this.getGridValue()}),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:gi("changeLayoutType"),value:function(t,e){var n=this,r=this.children.$layout.getValue();e=r,"value"===r&&(e=this.getGridValue()),this.command("setAttribute","change grid layout item",{"grid-layout-item":e}),this.refs.$layoutList.attr("data-selected-value",r),this.nextTick((function(){n.emit("refreshAllElementBoundSize")}))}},{key:gi("refreshSelection")+Gr(100),value:function(){var t=this;this.refreshShow((function(){var e=t.$selection.current;return e&&e.isInGrid()}))}}])&&V7(e.prototype,n),r&&V7(e,r),i}(RQ);function G7(t){return(G7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H7(t){return function(t){if(Array.isArray(t))return X7(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return X7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X7(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X7(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K7(t,e){return(K7=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U7(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Z7(t);if(e){var o=Z7(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W7(this,n)}}function W7(t,e){return!e||"object"!==G7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z7(t){return(Z7=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var q7=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K7(t,e)}(i,t);var e,n,r,o=U7(i);function i(){return Y7(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("pattern.property.title")}},{key:"hasKeyframe",value:function(){return!0}},{key:"getKeyframeProperty",value:function(){return"pattern"}},{key:"getTitleClassName",value:function(){return"pattern"}},{key:"getBody",value:function(){return"<div class='full pattern-property' ref='$body'></div>"}},{key:"getTools",value:function(){return'\n      <select ref="$patternSelect">      \n      </select>\n      <button type="button" ref="$add" title="add Pattern">'.concat(vm.add,"</button>\n    ")}},{key:lr("$add"),value:function(){var t=this.refs.$patternSelect.value;this.children.$patternEditor.trigger("add",t)}},{key:Ur("$patternSelect"),value:function(){var t=this;return H7(OC.map((function(e){return{title:t.$i18n("pattern.property.".concat(e)),value:e}}))).map((function(t){var e=t.title,n=t.value;return"<option value='".concat(n,"'>").concat(e,"</option>")}))}},{key:Ur("$body"),value:function(){var t=(this.$selection.current||{}).pattern;return"<PatternEditor ref='$patternEditor' value='".concat(t,"' hide-label='true' onchange='changePatternEditor' />")}},{key:gi("changePatternEditor"),value:function(t,e){this.command("setAttribute","change pattern",{pattern:e})}},{key:gi("refreshSelection"),value:function(){this.refreshShow(["artboard","rect","circle","text","cube","cylinder"])}},{key:gi("refreshSVGArea")+Gr(1e3),value:function(){this.load("$patternSelect")}}])&&N7(e.prototype,n),r&&N7(e,r),i}(RQ);function J7(t){return(J7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ttt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ett(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ntt(t,e){return(ntt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rtt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=itt(t);if(e){var o=itt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ott(this,n)}}function ott(t,e){return!e||"object"!==J7(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function itt(t){return(itt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var att=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ntt(t,e)}(i,t);var e,n,r,o=rtt(i);function i(){return ttt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getClassName",value:function(){return"item video-property"}},{key:"getTitle",value:function(){return this.$i18n("video.property.title")}},{key:"initState",value:function(){return{$video:{el:{}},status:"play",volume:1}}},{key:"getBody",value:function(){return"<div ref='$body' style='padding-top: 3px;'></div>"}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:Ur("$body"),value:function(){var t=this.$selection.current||{playTime:"0:1:1"},e=t.currentTime||0,n=(t.playTime||"0:1:1").split(":").pop();return"\n        <div ref='$tools' class='play-control' data-selected-value=\"".concat(this.state.status,'">\n          <button type="button" data-value="play" >').concat(vm.play," ").concat(this.$i18n("video.property.play"),'</button>\n          <button type="button" data-value="pause">').concat(vm.pause,"  ").concat(this.$i18n("video.property.pause"),'</button>      \n          <div>\n            <NumberRangeEditor ref=\'$currentTime\' min="0" max="').concat(n,'" value="').concat(e,"\" step=\"0.001\" onchange=\"changeCurrentTime\" />\n          </div>\n        </div>    \n        <div class='divider'></div>\n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='volume'></span>\n            ").concat(this.$i18n("video.property.volume"),"\n          </div>\n          <div ref='$volume_control' class='volume-control' data-selected-value='").concat(this.volumeStatus,"'>\n            <span data-value='muted'>").concat(vm.volume_off,"</span>\n            <span data-value='down'>").concat(vm.volume_down,"</span>\n            <span data-value='up'>").concat(vm.volume_up,'</span>\n            <input type="range" ref=\'$volume\' min="0" max="1" step="0.001" value="').concat(this.state.volume,"\" />\n          </div>          \n        </div>\n        <div class='property-item animation-property-item has-label'>        \n          <div class='group'>\n            <span class='add-timeline-property' data-property='playbackRate'></span>\n            ").concat(this.$i18n("video.property.playbackRate"),'\n          </div>\n          <div>\n            <NumberRangeEditor ref=\'$playbackRate\' min="0.1" max="10" clamp="true" value="').concat(this.state.playbackRate,"\" step=\"0.001\" onchange=\"changePlaybackRate\" />\n          </div>\n        </div>        \n        <div class='property-item animation-property-item full'>\n          <div class='group'>\n            <span class='add-timeline-property' data-property='playTime'></span>\n            ").concat(this.$i18n("video.property.playTime"),"\n          </div>\n          <MediaProgressEditor ref='$progress'  key='playTime' value=\"").concat(t.playTime,'" onchange="changeSelect" />\n        </div>\n      ')}},{key:gi("changeCurrentTime"),value:function(t,e){this.setState({currentTime:e},!1),this.command("setAttribute","change video property",{currentTime:e},null,!0)}},{key:gi("changePlaybackRate"),value:function(t,e){this.setState({playbackRate:e},!1),this.command("setAttribute","change video property",{playbackRate:e},null,!0)}},{key:Tr("$volume"),value:function(t){var e=Number(this.refs.$volume.value);this.setState({volume:e},!1),this.bindData("$volume_control"),this.command("setAttribute","change video property",{volume:e},null,!0)}},{key:Jr("$volume_control"),value:function(){return{"data-selected-value":this.volumeStatus}}},{key:Jr("$tools"),value:function(){return{"data-selected-value":this.state.status}}},{key:lr("$tools button"),value:function(t){switch(t.$dt.attr("data-value")){case"play":this.setState({status:"pause"},!1),this.play();break;case"pause":this.setState({status:"play"},!1),this.pause()}this.bindData("$tools")}},{key:gi("changeValue")+Gr(100),value:function(t,e){this.state.$video&&this.command("setAttribute","change video property",Q7({},t,e),null,!0)}},{key:gi("changeSelect"),value:function(t,e){this.command("setAttribute","change video property",Q7({},t,e))}},{key:gi("updateVideoEvent"),value:function(t){this.video.paused&&(this.setState({status:"play",currentTime:this.video.currentTime},!1),this.bindData("$tools")),this.children.$currentTime.setValue(this.video.currentTime)}},{key:gi("refreshSelection")+Gr(100),value:function(){var t=this,e=this.$selection.current;this.refreshShow(["video"]),e&&e.is("video")&&this.emit("refElement",e.id,(function(n){var r=n.$("video");t.state.$video=r,t.setState({volume:e.volume,currentTime:e.currentTime,playbackRate:e.playbackRate},!1),t.video.ontimeupdate=function(e){t.trigger("updateVideoEvent",e)},t.video.onprogress=function(e){t.trigger("updateVideoEvent",e)},t.load("$body")}))}},{key:"video",get:function(){return this.state.$video.el}},{key:"volumeStatus",get:function(){return 0===this.state.volume?"muted":this.state.volume>.5?"up":"down"}}])&&ett(e.prototype,n),r&&ett(e,r),i}(RQ);function ctt(t){return(ctt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function utt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function stt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ltt(t,e){return(ltt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ftt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ytt(t);if(e){var o=ytt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ptt(this,n)}}function ptt(t,e){return!e||"object"!==ctt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ytt(t){return(ytt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var htt,dtt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ltt(t,e)}(i,t);var e,n,r,o=ftt(i);function i(){return utt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("pattern.asset.property.title")}},{key:"initState",value:function(){return{mode:"grid",preset:"check"}}},{key:"getTools",value:function(){var t=cK.map((function(t){return"".concat(t.key,":").concat(t.title)}));return'\n      <SelectEditor key="preset" value="'.concat(this.state.preset,'" options="').concat(t,'" onchange="changePreset"  />\n    ')}},{key:gi("changePreset"),value:function(t,e){this.setState(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"getClassName",value:function(){return"pattern-assets-property"}},{key:gi("refreshSelection")+Gr(100),value:function(){this.show()}},{key:"getBody",value:function(){return"\n      <div class='property-item pattern-assets'>\n        <div class='pattern-list' ref='$patternList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:dr("$patternList .pattern-item"),value:function(t){var e=cK[+t.$dt.attr("data-index")].execute();t.dataTransfer.effectAllowed="copy",t.dataTransfer.setData("text/pattern",e)}},{key:Ur("$patternList"),value:function(){var t=this,e=cK.find((function(e){return e.key===t.state.preset}));return e?e.execute().map((function(t,e){var n=ge(Jf.toCSS(t.pattern));return"\n        <div class='pattern-item' data-index=\"".concat(e,'" data-pattern="').concat(t.pattern,"\">\n          <div class='preview' title=\"").concat(t.title,"\" draggable=\"true\">\n            <div class='pattern-view' style='").concat(n,"'></div>\n          </div>\n        </div>\n      ")})):""}},{key:lr("$patternList .pattern-item"),value:function(t){var e=t.$dt.attr("data-pattern");"CanvasView"===this.$editor.modeView?this.emit("addBackgroundImagePattern",e):this.emit("setPatternAsset",e)}}])&&stt(e.prototype,n),r&&stt(e,r),i}(RQ);function vtt(t){return(vtt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function btt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mtt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gtt(t,e){return(gtt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wtt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ktt(t);if(e){var o=ktt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ott(this,n)}}function Ott(t,e){return!e||"object"!==vtt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ktt(t){return(ktt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Stt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jtt=(Stt(htt={HistoryProperty:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gtt(t,e)}(i,t);var e,n,r,o=wtt(i);function i(){return btt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"afterRender",value:function(){this.show()}},{key:"getTitle",value:function(){return"History"}},{key:"getBody",value:function(){return"\n      <div class=\"history-list-view\" ref='$body'></div>\n    "}},{key:Ur("$body"),value:function(){var t=this;return this.$editor.history.map((function(e,n){return"-"===e?"<div class='divider'>-</div>":"\n        <div class='history-item'>\n          <span>".concat(n===t.$editor.history.currentIndex?"->":"","</span>\n          <span>").concat(e.message,"</span>\n        </div>\n      ")}))}},{key:gi("refreshHistory"),value:function(){this.refresh()}}])&&mtt(e.prototype,n),r&&mtt(e,r),i}(RQ),PatternAssetsProperty:dtt,VideoProperty:att,PatternProperty:q7,GridLayoutItemProperty:F7,FlexLayoutItemProperty:D7,LayoutProperty:P7,ExportProperty:v7,SVGTextProperty:u7,PathDataProperty:t7,ProjectInformationProperty:N9,BorderNewProperty:M9,TimelineAnimationProperty:_9,ComponentProperty:k9,ImageAssetsProperty:t9,VideoAssetsProperty:l9,MotionProperty:H6,AlignmentProperty:I6,SVGFilterAssetsProperty:R6,TextClipProperty:g6,SVGItemProperty:f6,GradientAssetsProperty:r6,TextFillProperty:Y8,ColorAssetsProperty:L8,ImageProperty:G3,ArtBoardSizeProperty:$3,LayerTreeProperty:b3,ProjectProperty:K5,ArtBoardProperty:e3,PositionProperty:z5,SelectorProperty:C5,BackgroundClipProperty:k5,TransformOriginProperty:h5,PerspectiveProperty:a5,PerspectiveOriginProperty:J4,TransitionProperty:X4,ClipPathProperty:P4,TransformProperty:v4,BackdropFilterProperty:K2,CodeViewProperty:L2,FilterProperty:R2,BorderRadiusProperty:XQ,BackgroundImageProperty:d2,KeyframeProperty:o2,AnimationProperty:Z1,BorderImageProperty:R1,FontSpacingProperty:c1,TextProperty:Q0,TextShadowProperty:Y0,FontProperty:L0,ContentProperty:E0,BoxModelProperty:w0,BoxShadowProperty:a0,SizeProperty:JQ},"BorderRadiusProperty",XQ),Stt(htt,"BackgroundColorProperty",VQ),htt);function Ptt(t){return(Ptt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rtt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $tt(t,e){return($tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ett(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ctt(t);if(e){var o=Ctt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _tt(this,n)}}function _tt(t,e){return!e||"object"!==Ptt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ctt(t){return(Ctt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ttt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$tt(t,e)}(i,t);var e,n,r,o=Ett(i);function i(){return xtt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{selectedIndex:1}}},{key:"template",value:function(){return'\n      <div class="feature-control inspector">\n        <div>\n          <div class="tab number-tab" ref="$tab">\n            <div class="tab-header" ref="$header">\n              <div class="tab-item selected" data-value="1" title=\''.concat(this.$i18n("inspector.tab.title.style"),"'>\n                <label class='icon'>").concat(vm.palette,'</label>\n              </div>\n              <div class="tab-item" data-value="2" title=\'').concat(this.$i18n("inspector.tab.title.text"),"'>\n                <label class='icon'>").concat(vm.title,'</label>\n              </div>              \n              <div class="tab-item" data-value="3" title="').concat(this.$i18n("inspector.tab.title.transition"),'">\n                <label>').concat(vm.flash_on,'</label>\n              </div>\n              <div class="tab-item" data-value="5" title=\'').concat(this.$i18n("inspectortab.title.code"),"'>\n                <label class='icon'>").concat(vm.code,'</label>\n              </div>                                     \n            </div>\n            <div class="tab-body" ref="$body">\n\n              <div class="tab-content selected scrollbar" data-value="1">\n                <HistoryProperty />\n                <AlignmentProperty />\n\n                \x3c!-- Default Property --\x3e \n                <PositionProperty />\n                <SizeProperty /> \n                <BackgroundColorProperty />\n                \n                \x3c!-- SVG Item --\x3e \n                <SVGItemProperty />              \n\n                \x3c!-- Image --\x3e \n                <ImageProperty />\n\n                \x3c!-- Video --\x3e \n                <VideoProperty />\n\n                \x3c!-- Component --\x3e\n                <ComponentProperty />                \n                \n                \x3c!-- Appearance --\x3e \n\n                <BackgroundImageProperty />                \n                <PatternProperty />\n                <BorderNewProperty />\n                <BorderRadiusProperty />\n\n                <BoxModelProperty />                \n                <LayoutProperty />\n                <FlexLayoutItemProperty />\n                <GridLayoutItemProperty />      \n\n                \x3c!-- effect --\x3e\n                <BoxShadowProperty />\n                <FilterProperty />\n                <BackdropFilterProperty />\n                <ClipPathProperty />       \n\n                \x3c!-- transform --\x3e \n                <TransformProperty />                  \n                <TransformOriginProperty /> \n                \x3c!-- <PerspectiveProperty /> --\x3e\n                \x3c!-- <PerspectiveOriginProperty /> --\x3e \n\n                \x3c!-- ArtBoard --\x3e \n                <ArtBoardSizeProperty />    \n                \n                \x3c!-- SVG --\x3e\n                <PathDataProperty />                \n\n                \x3c!-- tool --\x3e                \n                <ExportProperty />\n\n\n                <div class=\'empty\'></div>\n              </div>     \n              <div class="tab-content scrollbar" data-value="2">\n\n                \x3c!-- <ContentProperty /> --\x3e    \n                <SVGTextProperty />                        \n                <FontProperty />\n                <TextProperty />\n                <TextShadowProperty />\n                <TextFillProperty />\n                <FontSpacingProperty />\n                <TextClipProperty />  \n                <div class=\'empty\'></div>\n              </div>                   \n              <div class=\'tab-content scrollbar\' data-value=\'3\'>\n                <MotionProperty />\n                \x3c!-- SelectorProperty /> --\x3e \n                <TransitionProperty />                            \n                <AnimationProperty />\n                <KeyframeProperty />    \n                <SelectorProperty />                              \n                <div class=\'empty\'></div>                \n              </div>                        \n              <div class="tab-content" data-value="5">\n                <CodeViewProperty />\n                <div class=\'empty\'></div>                           \n              </div>                       \n            </div>\n          </div>\n        </div>\n      </div>\n    ')}},{key:"components",value:function(){return jtt}},{key:lr("$header .tab-item:not(.empty-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}}])&&Rtt(e.prototype,n),r&&Rtt(e,r),i}(wi);function Dtt(t){return(Dtt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Att(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Itt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vtt(t,e){return(Vtt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ltt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ztt(t);if(e){var o=ztt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mtt(this,n)}}function Mtt(t,e){return!e||"object"!==Dtt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ztt(t){return(ztt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Btt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vtt(t,e)}(i,t);var e,n,r,o=Ltt(i);function i(){return Att(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return bK}},{key:"template",value:function(){return"\n        <div class='popup ".concat(this.getClassName(),"'>\n            <div class='popup-title' ref=\"$title\">\n                <label>").concat(this.getTitle(),'</label>\n                <span class="tools">\n                  ').concat(this.getTools(),"\n                  <button type='button' class='close' ref='$close'>").concat(vm.close,"</button>\n                </span>\n            </div>\n            <div class='popup-body'>").concat(this.getBody(),"</div>\n        </div>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:lr("$close"),value:function(){this.$el.hide()}},{key:Er("$title")+Xr("movePopupTitle")+Yr("endPopupTitle"),value:function(){this.x=R.parse(this.$el.css("left")),this.y=R.parse(this.$el.css("top"))}},{key:"movePopupTitle",value:function(t,e){var n=R.px(this.x.value+t),r=R.px(this.y.value+e);this.$el.css({left:n,top:r,right:"auto",bottom:"auto"})}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=28,n=320,r=this.$el.css("top"),o=this.$el.css("left"),i="auto"!==r?R.parse(r):R.px(110),a="auto"!==o?R.parse(o):R.px(document.body.clientWidth-n-e-t);this.$el.css({top:i,left:a,"z-index":this.$editor.zIndex}).show("inline-block")}},{key:"hide",value:function(){this.$el.hide()}},{key:gi("hidePropertyPopup"),value:function(){this.hide()}}])&&Itt(e.prototype,n),r&&Itt(e,r),i}(wi);function Ftt(t){return(Ftt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gtt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Htt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gtt(Object(n),!0).forEach((function(e){Xtt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gtt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xtt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ytt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ntt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ktt(t,e){return(Ktt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Utt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ztt(t);if(e){var o=Ztt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wtt(this,n)}}function Wtt(t,e){return!e||"object"!==Ftt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ztt(t){return(Ztt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qtt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ktt(t,e)}(i,t);var e,n,r,o=Utt(i);function i(){return Ytt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Box Shadow Editor"}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)",inset:!1,offsetX:R.z(),offsetY:R.z(),blurRadius:R.z(),spreadRadius:R.z()}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.changeEvent,t,this.state.params)}},{key:"getBody",value:function(){return"<div class='box-shadow-property-popup' ref='$popup'></div>"}},{key:Ur("$popup"),value:function(){return'\n      <div class="box">\n        <div class="type">\n          <label>Type</label>\n          <div\n            class="select"\n            data-selected-value="'.concat(this.state.inset?"inset":"outset",'"\n            ref="$type"\n          >\n            <button type="button" data-value="outset">Outset</button>\n            <button type="button" data-value="inset">Inset</button>\n          </div>\n        </div>\n        <div class="drag-board" ref="$dragBoard">\n          <div\n            class="pointer"\n            ref="$pointer"\n            style="left: ').concat(this.state.offsetX,";top: ").concat(this.state.offsetY,"\"\n          ></div>\n        </div>        \n        <div class=\"popup-item offset-x\">\n          <RangeEditor ref='$offsetX' label='X' key='offsetX' value=\"").concat(this.state.offsetX,"\" onchange='changeRangeEditor' />\n        </div>\n        <div class=\"popup-item offset-y\">\n          <RangeEditor ref='$offsetY' label='Y' key='offsetY' value=\"").concat(this.state.offsetY,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item blur-radius\">\n          <RangeEditor ref='$blurRadius' label='Blur' key='blurRadius' value=\"").concat(this.state.blurRadius,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class=\"popup-item spread-radius\">\n          <RangeEditor ref='$spreadRadius' label='Spread' key='spreadRadius' value=\"").concat(this.state.spreadRadius,"\" onchange='changeRangeEditor' />        \n        </div>\n        <div class='popup-item'>\n          <ColorViewEditor \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"").concat(this.state.color,'"\n              onchange="changeRangeEditor" />\n        </div>        \n      </div>\n    ')}},{key:lr("$popup .select button"),value:function(t){var e=t.$dt.attr("data-value");this.getRef("$type").attr("data-selected-value",e),this.updateData({inset:"inset"===e})}},{key:Er("$popup .drag-board")+Xr("movePointer"),value:function(t){this.offsetX=t.offsetX,this.offsetY=t.offsetY;var e=this.getRef("$dragBoard").rect();this.boardWidth=e.width,this.boardHeight=e.height}},{key:"refreshPointer",value:function(){this.getRef("$pointer").css({left:this.state.offsetX,top:this.state.offsetY})}},{key:"movePointer",value:function(t,e){var n=this.offsetX+t,r=this.offsetY+e,o=this.boardWidth/2,i=this.boardHeight/2,a=n-o,c=r-i;a<-o?a=-o:a>o&&(a=o),c<-i?c=-i:c>i&&(c=i),a=Math.floor(a),c=Math.floor(c),this.getRef("$offsetX").val(a),this.getRef("$offsetY").val(c),this.updateData({offsetX:R.px(a),offsetY:R.px(c)}),this.refreshPointer(),this.children.$offsetX.setValue(this.state.offsetX),this.children.$offsetY.setValue(this.state.offsetY)}},{key:gi("changeRangeEditor"),value:function(t,e){this.updateData(Xtt({},t,e)),"offsetX"!==t&&"offsetY"!==t||this.refreshPointer()}},{key:gi("showBoxShadowPropertyPopup"),value:function(t,e){this.changeEvent=t.changeEvent||"changeBoxShadowPropertyPopup",this.setState(Htt(Htt({},t),{},{params:e})),this.refresh(),this.show(432)}},{key:gi("hideBoxShadowPropertyPopup"),value:function(){this.hide()}}])&&Ntt(e.prototype,n),r&&Ntt(e,r),i}(Btt);function Jtt(t){return(Jtt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eet(t,e){return(eet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function net(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oet(t);if(e){var o=oet(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ret(this,n)}}function ret(t,e){return!e||"object"!==Jtt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oet(t){return(oet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var iet=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eet(t,e)}(i,t);var e,n,r,o=net(i);function i(){return Qtt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Text Shadow Editor"}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)",offsetX:R.z(),offsetY:R.z(),blurRadius:R.z()}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.changeEvent,t,this.params)}},{key:"getBody",value:function(){return"<div class='text-shadow-property-popup' ref='$popup'></div>"}},{key:Ur("$popup"),value:function(){return'\n      <div class=\'box\'>\n        <div class="drag-board" ref="$dragBoard">\n          <div\n            class="pointer"\n            ref="$pointer"\n            style="left: '.concat(this.state.offsetX,";top: ").concat(this.state.offsetY,"\"\n          ></div>\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$offsetX' label='Offset X' key='offsetX' min=\"-100\" max='100' value='").concat(this.state.offsetX,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$offsetY' label=\"Offset Y\" key='offsetY' min=\"-100\" max='100' value='").concat(this.state.offsetY,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <RangeEditor ref='$blurRadius' label=\"Blur Radius\" key='blurRadius' value='").concat(this.state.blurRadius,"' onchange='changeShadow' />\n        </div>\n        <div class='popup-item'>\n          <ColorViewEditor \n              ref='$foreColor' \n              label=\"color\" \n              key='color' \n              value=\"").concat(this.state.color,'"\n              onchange="changeShadow" />\n        </div>        \n      </div>\n    ')}},{key:gi("changeShadow"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e)),"offsetX"!==t&&"offsetY"!==t||this.refreshPointer()}},{key:Er("$popup .drag-board")+Xr("movePointer"),value:function(t){this.offsetX=t.offsetX,this.offsetY=t.offsetY;var e=this.getRef("$dragBoard").rect();this.boardWidth=e.width,this.boardHeight=e.height}},{key:"refreshPointer",value:function(){this.getRef("$pointer").css({left:this.state.offsetX,top:this.state.offsetY})}},{key:"movePointer",value:function(t,e){var n=this.offsetX+t,r=this.offsetY+e,o=this.boardWidth/2,i=this.boardHeight/2,a=n-o,c=r-i;a<-o?a=-o:a>o&&(a=o),c<-i?c=-i:c>i&&(c=i),a=Math.floor(a),c=Math.floor(c),this.updateData({offsetX:R.px(a),offsetY:R.px(c)}),this.children.$offsetX.setValue(this.state.offsetX),this.children.$offsetY.setValue(this.state.offsetY),this.refreshPointer()}},{key:gi("showTextShadowPropertyPopup"),value:function(t,e){this.changeEvent=t.changeEvent||"changeTextShadowPropertyPopup",this.params=e,this.setState(t,!1),this.refresh(),this.show(432)}},{key:gi("hideTextShadowPropertyPopup"),value:function(){this.hide()}}])&&tet(e.prototype,n),r&&tet(e,r),i}(Btt);function aet(t){return(aet="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cet(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uet(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cet(Object(n),!0).forEach((function(e){set(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cet(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function set(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yet(t,e){return(yet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function het(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vet(t);if(e){var o=vet(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return det(this,n)}}function det(t,e){return!e||"object"!==aet(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vet(t){return(vet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bet=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yet(t,e)}(i,t);var e,n,r,o=het(i);function i(){return fet(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("animation.property.popup.title")}},{key:"components",value:function(){return{SelectEditor:cL,CubicBezierEditor:JL,RangeEditor:vL,IterationCountEditor:ZM}}},{key:"initState",value:function(){return{changeEvent:"",instance:{},data:{}}}},{key:"updateData",value:function(t){this.state.data=uet(uet({},this.state.data),t),this.state.instance&&this.state.instance.trigger(this.state.changeEvent,this.state.data)}},{key:"getBody",value:function(){return"<div class='animation-property-popup' ref='$popup'></div>"}},{key:Ur("$popup"),value:function(){return'\n      <div class="box">\n        '.concat(this.templateForKeyframe(),"\n        ").concat(this.templateForTimingFunction(),"\n        ").concat(this.templateForIterationCount(),"\n        ").concat(this.templateForDelay(),"\n        ").concat(this.templateForDuration(),"\n        ").concat(this.templateForDirection(),"\n        ").concat(this.templateForFillMode(),"\n        ").concat(this.templateForPlayState(),"\n      </div>\n    ")}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <label>".concat(this.$i18n("animation.property.popup.timing.function"),'</label>\n      <CubicBezierEditor ref=\'$cubicBezierEditor\' key="timingFunction" value="').concat(this.state.data.timingFunction,"\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:"templateForKeyframe",value:function(){return"\n      <div class='name'>\n        <label>".concat(this.$i18n("animation.property.popup.keyframe"),"</label>\n        <div class='input grid-1'>\n          <select ref='$name'></select>\n        </div>\n      </div>\n    ")}},{key:Ur("$name"),value:function(){var t=this,e=this.$selection.currentProject,n=[];return e&&e.keyframes&&(n=e.keyframes.map((function(t){return{key:t.name,value:t.name}}))),n.unshift({key:"Select a keyframe",value:""}),n.map((function(e){var n=e.value===t.name?"selected":"",r=t.$i18n(e.key);return"<option value='".concat(e.value,"' ").concat(n,">").concat(r,"</option>")}))}},{key:wr("$name"),value:function(){this.updateData({name:this.refs.$name.value})}},{key:"templateForDirection",value:function(){var t=this,e="normal,reverse,alternate,alternate-reverse".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n(e))})).join(",");return"\n      <div class='direction'>\n        <SelectEditor \n            label='".concat(this.$i18n("animation.property.popup.direction"),"'\n            ref='$direction' \n            key='direction' \n            value=\"").concat(this.state.data.direction,"\"\n            options='").concat(e,"'\n            onChange='changeSelect'\n        /> \n      </div>\n    ")}},{key:gi("changeSelect"),value:function(t,e){this.updateData(set({},t,e))}},{key:"templateForPlayState",value:function(){return"\n    <div class='play-state'>\n      <SelectEditor \n          label='".concat(this.$i18n("animation.property.popup.play.state"),"'\n          ref='$playState' \n          key='playState' \n          value=\"").concat(this.state.data.playState,"\"\n          options='").concat(["paused","running"],"'\n          onChange='changeSelect'\n      /> \n    </div>\n  ")}},{key:"templateForFillMode",value:function(){var t=this,e="none,forwards,backwards,both".split(",").map((function(e){return"".concat(e,":").concat(t.$i18n(e))})).join(",");return"\n    <div class='fill-mode'>\n      <SelectEditor \n          label='".concat(this.$i18n("animation.property.popup.fill.mode"),"'\n          ref='$fillMode' \n          key='fillMode' \n          value=\"").concat(this.state.data.fillMode,"\"\n          options='").concat(e,"'\n          onChange='changeSelect'\n      /> \n    </div>\n  ")}},{key:"templateForDelay",value:function(){return"\n    <div class='delay'>\n      <RangeEditor \n        ref='$delay' \n        label='".concat(this.$i18n("animation.property.popup.delay"),"' \n        calc='false' \n        key='delay' \n        value='").concat(this.state.data.delay,"' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForDuration",value:function(){return"\n    <div class='duration'>\n      <RangeEditor \n        ref='$duration' \n        label='".concat(this.$i18n("animation.property.popup.duration"),"'  \n        key='duration' \n        value='").concat(this.state.data.duration,"' \n        units='s,ms' \n        onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForIterationCount",value:function(){return"\n      <div class='iteration-count'>\n        <IterationCountEditor \n          ref='$iterationCount' \n          label='".concat(this.$i18n("animation.property.popup.iteration"),"' \n          key='iterationCount' \n          value='").concat(this.state.iterationCount||"0","' \n          units='normal,infinite' \n          onChange=\"changeRangeEditor\" \n        />\n      </div>\n    ")}},{key:gi("changeRangeEditor"),value:function(t,e){"iterationCount"===t&&(e="normal"===e.unit?R.number(e.value):R.string(e.unit)),this.updateData(set({},t,e))}},{key:gi("changeCubicBezier"),value:function(t,e){this.updateData(set({},t,e))}},{key:gi("showAnimationPropertyPopup"),value:function(t){this.setState(t),this.show(250),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",t.data.timingFunction)}},{key:gi("hideAnimationPropertyPopup"),value:function(){this.$el.hide()}}])&&pet(e.prototype,n),r&&pet(e,r),i}(Btt);function met(t){return(met="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function get(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oet(t,e){return(Oet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ket(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pet(t);if(e){var o=Pet(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jet(this,n)}}function jet(t,e){return!e||"object"!==met(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pet(t){return(Pet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xet=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oet(t,e)}(i,t);var e,n,r,o=ket(i);function i(){return get(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("keyframe.popup.title")}},{key:"components",value:function(){return{OffsetEditor:qF}}},{key:"initState",value:function(){return{name:"none",offsets:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit("changeKeyframePopup",this.state)}},{key:"getBody",value:function(){return"\n    <div class='keyframe-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForName(),"\n        ").concat(this.templateForOffset(),"\n      </div>\n    </div>")}},{key:"templateForOffset",value:function(){return"\n      <div>\n        <OffsetEditor ref='$offsetEditor' />\n      </div>\n    "}},{key:"templateForName",value:function(){return"\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='".concat(this.state.name,"' ref='$name'/>\n        </div>\n      </div>\n    ")}},{key:Or("$name"),value:function(t){if(!this.refs.$name.value.match(/^[a-zA-Z0-9\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({name:this.refs.$name.value})}},{key:"getOffsetData",value:function(){return{offsets:this.state.offsets.map((function(t){return t}))}}},{key:"refresh",value:function(){this.refs.$name.val(this.state.name),this.emit("showOffsetEditor",this.getOffsetData())}},{key:gi("changeOffsetEditor"),value:function(t){this.updateData(t)}},{key:gi("showKeyframePopup"),value:function(t){this.setState(t),this.refresh(),this.show(240)}},{key:gi("hideKeyframePopup"),value:function(){this.$el.hide()}}])&&wet(e.prototype,n),r&&wet(e,r),i}(Btt);function Ret(t){return(Ret="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Eet(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eet(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eet(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tet(t,e){return(Tet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Det(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Iet(t);if(e){var o=Iet(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Aet(this,n)}}function Aet(t,e){return!e||"object"!==Ret(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Iet(t){return(Iet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vet=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tet(t,e)}(i,t);var e,n,r,o=Det(i);function i(){return _et(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{DirectionEditor:hX,RangeEditor:vL}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.split("round"),n=$et(e,2),r=n[0],o=n[1],i=Ab.parse(r),a=$et(i,5),c=a[0],u=a[1],s=a[2],l=a[3],f=a[4];if(o)var p=Ab.parse(o),y=$et(p,5),h=y[0],d=y[1],v=y[2],b=y[3],m=y[4];return{isAll:1===c,top:u,right:s,bottom:l,left:f,round:o,isAllRadius:1===h,topRadius:d,rightRadius:v,bottomRadius:b,leftRadius:m}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){var t=this.state,e=t.top,n=t.right,r=t.bottom,o=t.left,i=t.round,a=R.percent(Math.abs((o.value-(100-n.value))/2)).toPx(220),c=e.toPx(220),u=a.clone(),s=R.percent(100-r.value).toPx(220),l=R.percent(100-n.value).toPx(220),f=R.percent(Math.abs((e.value-(100-r.value))/2)).toPx(220),p=o.toPx(220),y=R.percent(Math.abs((e.value-(100-r.value))/2)).toPx(220),h=i?"checked":"";return"\n        <div class='clip-path-editor inset-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' data-type='top' ref='$top' style='left: ".concat(a,";top: ").concat(c,";'></div>\n                <div class='drag-pointer' data-type='right' ref='$right' style='left: ").concat(l,";top: ").concat(f,";'></div>\n                <div class='drag-pointer' data-type='bottom' ref='$bottom' style='left: ").concat(u,";top: ").concat(s,";'></div>\n                <div class='drag-pointer' data-type='left' ref='$left' style='left: ").concat(p,";top: ").concat(y,";'></div>\n                <div class='clip-area inset' ref='$clipAreaView' style='pointer-events: none;'></div>\n                <div class='clip-area-handle' ref='$clipArea' style='left: ").concat(p,";top: ").concat(c,";width: ").concat(R.px(l.value-o.value),";height: ").concat(R.px(s.value-c.value),";'></div>\n            </div>\n            <div class='round-area'>\n                <label><input type=\"checkbox\" ").concat(h," ref='$hasRound' /> Round </label>\n                <div ref='$round'></div>\n            </div>\n        </div>\n    ")}},{key:Jr("$clipAreaView"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:lr("$hasRound"),value:function(t){this.updateData({round:this.refs.$hasRound.checked()}),this.bindData("$clipAreaView")}},{key:Ur("$round"),value:function(){var t=this.state,e=[t.topRadius,t.rightRadius,t.bottomRadius,t.leftRadius].join(" ");return"<DirectionEditor ref='$borderRadius' value='".concat(e,"' onchange='changeBorderRadius' />")}},{key:gi("changeBorderRadius"),value:function(t){var e=$et(t,5),n=e[0],r=e[1],o=e[2],i=e[3],a=e[4];this.updateData({isAllRadius:1===n,topRadius:r,rightRadius:o,bottomRadius:i,leftRadius:a}),this.bindData("$clipAreaView")}},{key:"refreshPointer",value:function(){var t=this.state,e=t.top,n=t.right,r=t.bottom,o=t.left,i=Math.abs((o.value+(100-n.value))/2),a=Math.abs((e.value+(100-r.value))/2),c=R.percent(i).toPx(220),u=e.toPx(220),s=R.percent(i).toPx(220),l=R.percent(100-r.value).toPx(220),f=R.percent(100-n.value).toPx(220),p=R.percent(a).toPx(220),y=o.toPx(220),h=R.percent(a).toPx(220);this.refs.$top.css({left:c,top:u}),this.refs.$right.css({left:f,top:p}),this.refs.$bottom.css({left:s,top:l}),this.refs.$left.css({left:y,top:h}),this.refs.$clipArea.css({left:y,top:u,width:R.px(f.value-y.value),height:R.px(l.value-u.value)}),this.bindData("$clipAreaView")}},{key:Er("$area .clip-area-handle")+Xr("moveClipArea"),value:function(t){this.type=t.$dt.attr("data-type"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy,this.clipRect={left:R.parse(this.$target.css("left")),top:R.parse(this.$target.css("top")),width:R.parse(this.$target.css("width")),height:R.parse(this.$target.css("height"))}}},{key:"moveClipArea",value:function(t,e){var n=this.clipRect.width.value,r=this.clipRect.height.value,o=this.clipRect.left.value+t,i=this.clipRect.top.value+e;0>o?o=0:this.areaRect.width<o+n&&(o=this.areaRect.width-n),0>i?i=0:this.areaRect.height<i+r&&(i=this.areaRect.height-r);var a=R.px(o),c=R.px(i);this.updateData({top:c.toPercent(this.areaRect.height).round(100),bottom:R.px(this.areaRect.height-(i+r)).toPercent(this.areaRect.height).round(100),right:R.px(this.areaRect.width-(o+n)).toPercent(this.areaRect.width).round(100),left:a.toPercent(this.areaRect.width).round(100)}),this.refreshPointer()}},{key:Er("$area .drag-pointer")+Xr(),value:function(t){this.type=t.$dt.attr("data-type"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=R.px(n-this.areaRect.x),i=R.px(r-this.areaRect.y);"top"===this.type?this.updateData({top:i.toPercent(this.areaRect.height).round(100)}):"bottom"===this.type?this.updateData({bottom:R.px(this.areaRect.height-i.value).toPercent(this.areaRect.height).round(100)}):"right"===this.type?this.updateData({right:R.px(this.areaRect.width-o.value).toPercent(this.areaRect.width).round(100)}):"left"===this.type&&this.updateData({left:o.toPercent(this.areaRect.width).round(100)}),this.refreshPointer()}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.top,n=t.right,r=t.left,o=t.bottom,i=t.round,a=t.topRadius,c=t.leftRadius,u=t.bottomRadius,s=t.rightRadius,l=[e,n,o,r].join(" "),f=[a,s,u,c].join(" ");return"".concat(l," ").concat(i&&f.trim()?"round ".concat(f):"")}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}}])&&Cet(e.prototype,n),r&&Cet(e,r),i}(wi);function Let(t){return(Let="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Met(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zet(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Met(Object(n),!0).forEach((function(e){Bet(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Met(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bet(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fet(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Get(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Get(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Get(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Het(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yet(t,e){return(Yet=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Net(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Uet(t);if(e){var o=Uet(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ket(this,n)}}function Ket(t,e){return!e||"object"!==Let(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uet(t){return(Uet=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wet=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yet(t,e)}(i,t);var e,n,r,o=Net(i);function i(){return Het(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=220,n=220;return t.split(",").filter((function(t){return t.trim()})).map((function(t){var r=Fet(t.trim().split(" "),2),o=r[0],i=r[1];return{x:R.parse(o).toPx(e),y:R.parse(i).toPx(n)}}))}},{key:"initState",value:function(){return{value:this.parseValue(this.props.value)}}},{key:"template",value:function(){return"\n        <div class='clip-path-editor polygon-editor'>\n            <div class='drag-area' ref='$area'>\n                <div class='pointer-list' ref='$list'></div>\n                <div class='clip-area polygon' ref='$clipArea'></div>            \n            </div>\n            <div class='pointer-input' ref='$inputList'></div>\n        </div>\n    "}},{key:Ur("$inputList"),value:function(){return this.state.value.map((function(t,e){return"\n            <div class='pointer-item' data-index=\"".concat(e,"\">\n                <div class='input-item'>\n                    <label>X</label><input type='number' class='x' value=\"").concat(t.x.value.toString(),"\" /><span>%</span>\n                </div>\n                <div class='input-item'>\n                    <label>Y</label><input type='number' class='y' value=\"").concat(t.y.value.toString(),"\" /><span>%</span>\n                </div>\n                <div class='tools'>\n                    <button type=\"button\" class='copy' data-index=\"").concat(e,'">').concat(vm.copy,'</button>\n                    <button type="button" class=\'remove\' data-index="').concat(e,'">').concat(vm.remove2,"</button>\n                </div>\n            </div>\n            ")}))}},{key:lr("$area")+Nr,value:function(t){if(er.create(t.target).is(this.refs.$area)){this.areaRect=this.refs.$area.rect();var e=t.xy,n=e.x,r=e.y;this.appendValue({x:R.px(n-this.areaRect.left),y:R.px(r-this.areaRect.top)}),this.refresh()}}},{key:lr("$inputList .pointer-item .remove"),value:function(t){var e=+t.$dt.attr("data-index");this.removeValue(e),this.refresh()}},{key:lr("$inputList .pointer-item .copy"),value:function(t){var e=+t.$dt.attr("data-index");this.copyValue(e),this.refresh()}},{key:Jr("$clipArea"),value:function(){return{style:{"clip-path":"polygon(".concat(this.toClipPathValueString(),")")}}}},{key:Ur("$list"),value:function(){var t=this;return this.state.value.map((function(e,n){var r=[0===n?"first":"",n===t.state.value.length-1?"last":""].filter((function(t){return t})).join(" ");return"<div class='drag-pointer ".concat(r,"' data-index=\"").concat(n.toString(),"\" style='left: ").concat(e.x,";top: ").concat(e.y,";'></div>")}))}},{key:lr("$area .drag-pointer")+Br+Nr,value:function(t){var e=+t.$dt.attr("data-index");this.removeValue(e),this.refresh()}},{key:Er("$area .drag-pointer")+Xr(),value:function(t){this.selectedIndex=+t.$dt.attr("data-index"),this.$target=t.$dt,this.areaRect=this.refs.$area.rect(),this.startXY=t.xy,this.$value=this.state.value[this.selectedIndex];var e=this.refs.$inputList;this.$x=e.$('.pointer-item[data-index="'.concat(this.selectedIndex,'"] input.x')),this.$y=e.$('.pointer-item[data-index="'.concat(this.selectedIndex,'"] input.y'))}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=R.px(n-this.areaRect.x),i=R.px(r-this.areaRect.y);this.$target.css({left:o,top:i}),this.updateValue(this.selectedIndex,{x:o,y:i}),this.$x.val(o.toPercent(220).round(10).value),this.$y.val(i.toPercent(220).round(10).value),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){return this.state.value.map((function(t){return"".concat(t.x.toPercent(220).round(10)," ").concat(t.y.toPercent(220).round(10))})).join(",")}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"appendValue",value:function(t){this.state.value.push(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"removeValue",value:function(t){this.state.value.splice(t,1),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"copyValue",value:function(t){var e=this.state.value[t],n=e.x,r=e.y;this.state.value.splice(t+1,0,{x:R.px(n.value+10),y:R.px(r.value+10)}),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:"updateValue",value:function(t,e){this.state.value[t]=zet(zet({},this.state.value[t]),e),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}}])&&Xet(e.prototype,n),r&&Xet(e,r),i}(wi);function Zet(t){return(Zet="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qet(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Jet(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jet(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jet(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ent(t,e){return(ent=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nnt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ont(t);if(e){var o=ont(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rnt(this,n)}}function rnt(t,e){return!e||"object"!==Zet(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ont(t){return(ont=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var int=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ent(t,e)}(i,t);var e,n,r,o=nnt(i);function i(){return Qet(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{RangeEditor:vL}}},{key:"parseValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"50% 50%",e="50% 50%",n="";if((t=t||"50%").includes("at")){var r=t.split("at").map((function(t){return t.trim()})),o=qet(r,2);e=o[0],n=o[1]}else n=t.trim();var i=n.split(" "),a=qet(i,2),c=a[0],u=a[1];re(u)&&(u=c),c=R.parse(c),u=R.parse(u);var s=e.split(" "),l=qet(s,2),f=l[0],p=l[1];return re(p)&&(p=f),{radiusX:f=R.parse(f),radiusY:p=R.parse(p),x:c,y:u}}},{key:"initState",value:function(){return this.parseValue(this.props.value)}},{key:"template",value:function(){return"\n        <div class='clip-path-editor circle-editor'>\n            <div>\n                <RangeEditor \n                    ref='$rangeX' \n                    label='Radius X' \n                    key='radiusX' \n                    value='".concat(this.state.radiusX,"' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>\n            <div>\n                <RangeEditor \n                    ref='$rangeY' \n                    label='Radius Y' \n                    key='radiusY' \n                    value='").concat(this.state.radiusY,"' \n                    min=\"0\" \n                    max=\"100\" \n                    step=\"0.1\" \n                    units=\"%\" \n                    onchange='changeRangeEditor' \n                />\n            </div>            \n            <div class='drag-area' ref='$area'>\n                <div class='drag-pointer' ref='$pointer' style='left: ").concat(this.state.x,";top: ").concat(this.state.y,";'></div>\n                <div class='clip-area circle' ref='$clipArea'></div>\n            </div>\n        </div>\n    ")}},{key:Jr("$clipArea"),value:function(){return{style:{"clip-path":"".concat(this.props.key,"(").concat(this.toClipPathValueString(),")")}}}},{key:Er("$area")+Xr()+Yr(),value:function(t){this.areaRect=this.refs.$area.rect(),this.startXY=t.xy}},{key:"move",value:function(t,e){var n=this.startXY.x+t,r=this.startXY.y+e;this.areaRect.x>n?n=this.areaRect.x:this.areaRect.right<n&&(n=this.areaRect.right),this.areaRect.y>r?r=this.areaRect.y:this.areaRect.bottom<r&&(r=this.areaRect.bottom);var o=R.percent((n-this.areaRect.x)/this.areaRect.width*100).round(1),i=R.percent((r-this.areaRect.y)/this.areaRect.height*100).round(1);this.refs.$pointer.css({left:o,top:i}),this.updateData({x:o,y:i}),this.bindData("$clipArea")}},{key:"toClipPathValueString",value:function(){var t=this.state,e=t.x,n=t.y,r=t.radiusX,o=t.radiusY,i="".concat(e," ").concat(n),a="".concat(r," ").concat(o);return"".concat(a," at ").concat(i)}},{key:"updateData",value:function(t){this.setState(t),this.parent.trigger(this.props.onchange,this.props.key,this.toClipPathValueString(),this.props.params)}},{key:gi("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e.clone()))}}])&&tnt(e.prototype,n),r&&tnt(e,r),i}(wi);function ant(t){return(ant="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function unt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function snt(t,e){return(snt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lnt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pnt(t);if(e){var o=pnt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fnt(this,n)}}function fnt(t,e){return!e||"object"!==ant(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pnt(t){return(pnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ynt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&snt(t,e)}(i,t);var e,n,r,o=lnt(i);function i(){return cnt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"ClipPath"}},{key:"components",value:function(){return{EllipseEditor:int,PolygonEditor:Wet,InsetEditor:Vet,SelectEditor:cL,CircleEditor:cG}}},{key:"initState",value:function(){return{type:"none",value:""}}},{key:"toClipPathCSS",value:function(){return Wb.toCSS(this.state)}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent||"changeClipPathPopup",this.toClipPathCSS())}},{key:"getBody",value:function(){return"\n    <div class='clippath-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='clip-path-editor clip-path-type' ref='$clippathType'></div>\n        <div class='clip-path-editor' ref='$clippath'></div>\n      </div>\n    </div>"}},{key:Ur("$clippathType"),value:function(){return"\n      <div>".concat(this.state.type," Editor</div>\n    ")}},{key:Ur("$clippath"),value:function(){switch(this.state.type){case"circle":return"<CircleEditor ref='$circle' key='circle' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"ellipse":return"<EllipseEditor ref='$ellipse' key='ellipse' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"inset":return"<InsetEditor ref='$inset' key='inset' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"polygon":return"<PolygonEditor ref='$polygon' key='polygon' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"path":return"<PathEditor ref='$path' key='path' value='".concat(this.state.value,"' onchange='changeClipPath' />");case"svg":var t=(this.$selection.currentProject||{svg:[]}).svg.filter((function(t){return"clip-path"===t.type})).map((function(t){return t.name})).join(",");return t.length&&(t=","+t),"<SelectEditor ref='$svg' key='svg' value='".concat(this.state.value,"' options='").concat(t,"' onchange='changeClipPath' />");default:return"<div class='type none'></div>"}}},{key:gi("changeClipPath"),value:function(t,e){this.updateData({type:t,value:e})}},{key:gi("showClipPathPopup"),value:function(t){this.state.changeEvent=t.changeEvent,this.setState(Wb.parseStyle(t["clip-path"])),this.refresh(),this.show(220)}},{key:gi("hideClipPathPopup"),value:function(){this.hide()}}])&&unt(e.prototype,n),r&&unt(e,r),i}(Btt);function hnt(t){return(hnt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dnt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vnt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dnt(Object(n),!0).forEach((function(e){bnt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dnt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bnt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wnt(t,e){return(wnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ont(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Snt(t);if(e){var o=Snt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return knt(this,n)}}function knt(t,e){return!e||"object"!==hnt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Snt(t){return(Snt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jnt=["none","all","background-color","background-position","background-size","border","border-color","border-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-left","border-left-color","border-left-width","border-radius","border-right","border-right-color","border-right-width","border-spacing","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-width","bottom","box-shadow","color","filter","font-size","font-size-adjust","font-stretch","font-weight","height","left","letter-spacing","line-height","margin","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","opacity","padding","padding-bottom","padding-left","padding-right","padding-top","perspective","perspective-origin","right","text-decoration","text-decoration-color","text-indent","text-shadow","top","transform","vertical-align","visibility","width","word-spacing","z-index"],Pnt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wnt(t,e)}(i,t);var e,n,r,o=Ont(i);function i(){return mnt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Transition"}},{key:"components",value:function(){return{SelectEditor:cL,CubicBezierEditor:JL,RangeEditor:vL}}},{key:"initState",value:function(){return{changeEvent:"",instance:{},data:{timingFunction:"linear",duration:"0s",delay:"0s",name:"all"}}}},{key:"updateData",value:function(t){this.state.data=vnt(vnt({},this.state.data),t),this.state.instance&&this.state.instance.trigger(this.state.changeEvent,this.state.data)}},{key:"getBody",value:function(){return"<div class='transition-property-popup' ref='$popup'></div>"}},{key:Ur("$popup"),value:function(){return'\n      <div class="box">\n        '.concat(this.templateForProperty(),"\n        ").concat(this.templateForTimingFunction(),"\n        ").concat(this.templateForDelay(),"\n        ").concat(this.templateForDuration(),"\n      </div>\n    ")}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <label>Timing function</label>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timingFunction\" value=\"".concat(this.state.data.timingFunction,"\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:gi("changeTransition"),value:function(t,e){this.updateData(bnt({},t,e))}},{key:"templateForProperty",value:function(){return"\n      <div class='name'>\n        <SelectEditor ref='$property' icon=\"true\" label=\"Property\" key='name' value=\"".concat(this.state.data.name,'" options="').concat(jnt.join(","),"\" onChange='changeTransition' /> \n      </div>\n    ")}},{key:"templateForDelay",value:function(){return"\n    <div class='delay'>\n      <RangeEditor ref='$delay' label='Delay' calc='false' key='delay' value='".concat(this.state.data.delay,"' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:"templateForDuration",value:function(){return"\n    <div class='duration'>\n      <RangeEditor ref='$duration' label='Duration'  calc='false' key='duration' value='".concat(this.state.data.duration,"' units='s,ms' onChange=\"changeRangeEditor\" />\n    </div>\n    ")}},{key:gi("changeRangeEditor"),value:function(t,e){this.updateData(bnt({},t,e))}},{key:gi("changeCubicBezier"),value:function(t,e){this.updateData(bnt({},t,e))}},{key:gi("showTransitionPropertyPopup"),value:function(t){this.setState(t),this.show(250),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",t.data.timingFunction)}},{key:gi("hideTransitionPropertyPopup"),value:function(){this.$el.hide()}}])&&gnt(e.prototype,n),r&&gnt(e,r),i}(Btt);function xnt(t){return(xnt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ent(t,e){return(Ent=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tnt(t);if(e){var o=Tnt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cnt(this,n)}}function Cnt(t,e){return!e||"object"!==xnt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tnt(t){return(Tnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dnt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ent(t,e)}(i,t);var e,n,r,o=_nt(i);function i(){return Rnt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"SVG Property"}},{key:"components",value:function(){return{SVGFilterEditor:FH,SVGClipPathEditor:rX}}},{key:"initState",value:function(){return{changeEvent:"changeSVGPropertyPopup",name:"",type:"",value:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent,this.state)}},{key:"getBody",value:function(){return"\n    <div class='svg-property-editor-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForName(),"\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>")}},{key:Ur("$editor"),value:function(){switch(this.state.type){case"filter":return'\n          <SVGFilterEditor ref=\'$filter\' title="SVG Filter" key="filter" onchange=\'changeFilterEditor\'>\n            <property name="value" type="json">'.concat(JSON.stringify(this.state.value),"</property>\n          </SVGFilterEditor>\n        ");case"clip-path":return"\n          <SVGClipPathEditor ref='$clippath' title=\"SVG Clip Path\" key=\"clip-path\" onchange='changeClipPathEditor'>\n            <property name=\"value\" type='json'>".concat(JSON.stringify(this.state.value),"</property>\n          </SVGClipPathEditor>\n        ")}return""}},{key:gi("changeFilterEditor"),value:function(t,e){this.updateData({value:e})}},{key:gi("changeClipPathEditor"),value:function(t,e){this.updateData({value:e})}},{key:"templateForName",value:function(){return"\n      <div class='name'>\n        <label>Name</label>\n        <div class='input grid-1'>\n          <input type='text' value='".concat(this.state.name,"' ref='$name'/>\n        </div>\n      </div>\n    ")}},{key:Or("$name"),value:function(t){if(!this.refs.$name.value.match(/^[a-zA-Z0-9\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({name:this.refs.$name.value})}},{key:"refresh",value:function(){this.refs.$name.val(this.state.name),this.load()}},{key:gi("showSVGPropertyPopup"),value:function(t){this.setState(t),this.refresh(),this.show(250)}},{key:gi("hideSVGPropertyPopup"),value:function(){this.$el.hide()}}])&&$nt(e.prototype,n),r&&$nt(e,r),i}(Btt);function Ant(t){return(Ant="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Int(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lnt(t,e,n){return(Lnt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fnt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mnt(t,e){return(Mnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function znt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fnt(t);if(e){var o=Fnt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bnt(this,n)}}function Bnt(t,e){return!e||"object"!==Ant(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fnt(t){return(Fnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gnt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mnt(t,e)}(i,t);var e,n,r,o=znt(i);function i(){return Int(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("selector.popup.title")}},{key:"components",value:function(){return{CSSPropertyEditor:FF}}},{key:"initState",value:function(){return{selector:"",properties:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit("changeSelectorPopup",this.state)}},{key:"getBody",value:function(){return"\n    <div class='selector-popup' ref='$popup'>\n      <div class=\"box\">\n        ".concat(this.templateForSelector(),"\n        ").concat(this.templateForProperty(),"        \n      </div>\n    </div>")}},{key:"templateForProperty",value:function(){return"<CSSPropertyEditor ref='$propertyEditor' onchange='changePropertyEditor' />"}},{key:"templateForSelector",value:function(){return"\n      <div class='name'>\n        <label>".concat(this.$i18n("selector.popup.selector"),"</label>\n        <div class='input grid-1'>\n          <input type='text' value='").concat(this.state.selector,"' ref='$selector'/>\n        </div>\n      </div>\n    ")}},{key:Or("$selector"),value:function(t){if(!this.refs.$selector.value.match(/^[a-zA-Z0-9\:\_\-\.\b]+$/))return t.preventDefault(),t.stopPropagation(),!1;this.updateData({selector:this.refs.$selector.value})}},{key:"refresh",value:function(){Lnt(Fnt(i.prototype),"refresh",this).call(this),this.refs.$selector.val(this.state.selector),this.children.$propertyEditor.trigger("showCSSPropertyEditor",this.state.properties)}},{key:gi("changePropertyEditor"),value:function(t){this.updateData({properties:t})}},{key:gi("showSelectorPopup"),value:function(t){this.setState(t),this.refresh(),this.show(250)}}])&&Vnt(e.prototype,n),r&&Vnt(e,r),i}(Btt);function Hnt(t){return(Hnt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ynt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nnt(t,e){return(Nnt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Knt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wnt(t);if(e){var o=Wnt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Unt(this,n)}}function Unt(t,e){return!e||"object"!==Hnt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wnt(t){return(Wnt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Znt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nnt(t,e)}(i,t);var e,n,r,o=Knt(i);function i(){return Xnt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("colorpicker.popup.title")}},{key:"getClassName",value:function(){return"compact"}},{key:"components",value:function(){return{EmbedColorPicker:kX}}},{key:"initState",value:function(){return{color:"rgba(0, 0, 0, 1)"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEvent,this.state.color,this.params)}},{key:"updateEndData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.target&&this.state.target.trigger(this.state.changeEndEvent,this.state.color,this.params)}},{key:"getBody",value:function(){return"\n      <div class=\"color-picker-popup\">\n        <div class='box'>\n          <EmbedColorPicker ref='$color' value='".concat(this.state.color,"' onchange='changeColor' onchangeend=\"changeEndColor\" />\n        </div>\n      </div>\n    ")}},{key:Ur("$projectColors"),value:function(){return(this.$selection.currentProject||{colors:[]}).colors.map((function(t){return"\n      <div class='color-item' title='".concat(t.name,"'>\n        <div class='color-view' data-color='").concat(t.color,"' style='background-color: ").concat(t.color,"'></div>\n      </div>")}))}},{key:lr("$projectColors .color-view"),value:function(t){this.updateData({color:t.$dt.attr("data-color")}),this.children.$color.setValue(this.state.color)}},{key:gi("changeColor"),value:function(t){this.updateData({color:t})}},{key:gi("changeEndColor"),value:function(t){this.updateEndData({color:t})}},{key:gi("showColorPickerPopup"),value:function(t,e){if(t.changeEvent=t.changeEvent||"changeFillPopup",!(t.target instanceof wi))throw new Error("ColorPicker needs data.target");this.params=e,this.setState(t,!1),this.children.$color.setValue(this.state.color),this.show(232)}},{key:gi("hideColorPickerPopup"),value:function(){this.hide()}}])&&Ynt(e.prototype,n),r&&Ynt(e,r),i}(Btt);function qnt(t){return(qnt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qnt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function trt(t,e){return(trt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ert(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rrt(t);if(e){var o=rrt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nrt(this,n)}}function nrt(t,e){return!e||"object"!==qnt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rrt(t){return(rrt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ort=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&trt(t,e)}(i,t);var e,n,r,o=ert(i);function i(){return Jnt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return"Select a image"}},{key:"getClassName",value:function(){return"compact"}},{key:"initState",value:function(){return{value:""}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.state.context.trigger(this.state.changeEvent,this.state.value,{width:this.state.width,height:this.state.height,naturalWidth:this.state.naturalWidth,naturalHeight:this.state.naturalHeight})}},{key:"getBody",value:function(){return"\n      <div class=\"image-select-popup\">\n        <div class='box' ref='$imageBox'>\n          \n        </div>\n      </div>\n    "}},{key:Ur("$imageBox")+Fr,value:function(){return(this.$selection.currentProject||{images:[]}).images.map((function(t,e){return"<div class='image-item' ><img src= '".concat(t.local,"' /></div>")}))}},{key:lr("$imageBox .image-item"),value:function(t){var e=t.$dt.$("img");this.updateData({value:e.attr("src"),naturalWidth:R.px(e.naturalWidth),naturalHeight:R.px(e.naturalHeight),width:R.px(e.naturalWidth),height:R.px(e.naturalHeight)}),this.trigger("hideImageSelectPopup")}},{key:gi("showImageSelectPopup"),value:function(t,e){this.setState({context:t.context,changeEvent:t.changeEvent,value:t.value,params:e},!1),this.refresh(),this.show(500)}},{key:gi("hideImageSelectPopup"),value:function(){this.hide()}}])&&Qnt(e.prototype,n),r&&Qnt(e,r),i}(Btt);function irt(t){return(irt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function art(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function crt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function urt(t,e){return(urt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function srt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=frt(t);if(e){var o=frt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lrt(this,n)}}function lrt(t,e){return!e||"object"!==irt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function frt(t){return(frt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var prt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&urt(t,e)}(i,t);var e,n,r,o=srt(i);function i(){return art(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initState",value:function(){return{mode:"grid"}}},{key:"template",value:function(){return"\n      <div class='image-asset-picker'>\n        <div class='image-list' ref='$imageList' data-view-mode='".concat(this.state.mode,"'></div>\n      </div>\n    ")}},{key:Ur("$imageList")+Fr,value:function(){return(this.$selection.currentProject||{images:[]}).images.map((function(t){return"\n        <div class='image-item'>\n          <div class='preview'>\n            <img src=\"".concat(t.local,'" />\n          </div>\n        </div>\n      ')}))}},{key:lr("$imageList .image-item"),value:function(t){var e=t.$dt.$("img");this.updateData(e.attr("src"))}},{key:"updateData",value:function(t){this.parent.trigger(this.props.onchange,t)}},{key:gi("addImageAsset"),value:function(){this.refresh()}}])&&crt(e.prototype,n),r&&crt(e,r),i}(wi);function yrt(t){return(yrt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hrt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function drt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hrt(Object(n),!0).forEach((function(e){vrt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hrt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vrt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function brt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mrt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function grt(t,e,n){return(grt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Srt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wrt(t,e){return(wrt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ort(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Srt(t);if(e){var o=Srt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return krt(this,n)}}function krt(t,e){return!e||"object"!==yrt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Srt(t){return(Srt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jrt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wrt(t,e)}(i,t);var e,n,r,o=Ort(i);function i(){return brt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("gradient.picker.popup.title")}},{key:"components",value:function(){return{ImageAssetPicker:prt,EmbedColorPicker:kX,GradientEditor:MM}}},{key:"initState",value:function(){return{}}},{key:"initialize",value:function(){grt(Srt(i.prototype),"initialize",this).call(this),this.selectedTab="static-gradient"}},{key:"getBody",value:function(){return"\n      <div class=\"gradient-picker\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <EmbedColorPicker ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <ImageAssetPicker ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    "}},{key:gi("changeTabType"),value:function(t){this.refs.$body.attr("data-selected-editor",t)}},{key:"getColorString",value:function(){var t="";return this.state.image instanceof is&&(t=this.state.image.getColorString()),t}},{key:"getCurrentColor",value:function(){return this.state.image.colorsteps[this.state.selectColorStepIndex||0].color}},{key:Ur("$gradientEditor"),value:function(){return'<GradientEditor \n      ref="$g" \n      value="'.concat(this.state.image,'" \n      selectedIndex="').concat(this.state.selectColorStepIndex,"\" \n      onchange='changeGradientEditor'\n    />")}},{key:gi("changeGradientEditor"),value:function(t){this.state.image=t,this.updateData()}},{key:gi("changeColor"),value:function(t){this.children.$g.trigger("setColorStepColor",t)}},{key:gi("changeImageUrl"),value:function(t){this.children.$g.trigger("setImageUrl",t)}},{key:gi("showGradientPickerPopup"),value:function(t,e){t.changeEvent=t.changeEvent||"changeFillPopup",t.image=t.gradient,t.params=e,this.setState(t),this.show(432)}},{key:gi("selectColorStep"),value:function(t){this.children.$color.setValue(t)}},{key:gi("changeColorStep"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.image.reset(drt({},t)),this.updateData()}},{key:"updateData",value:function(){this.state.instance.trigger(this.state.changeEvent,this.state.image,this.state.params)}}])&&mrt(e.prototype,n),r&&mrt(e,r),i}(Btt);function Prt(t){return(Prt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rrt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $rt(t,e){return($rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ert(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Crt(t);if(e){var o=Crt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _rt(this,n)}}function _rt(t,e){return!e||"object"!==Prt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Crt(t){return(Crt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Trt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$rt(t,e)}(i,t);var e,n,r,o=Ert(i);function i(){return xrt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("svgfilter.popup.title")}},{key:"components",value:function(){return{SVGFilterEditor:FH}}},{key:"getClassName",value:function(){return"transparent"}},{key:"initState",value:function(){return{changeEvent:"changeSVGFilterPopup",id:"",preview:!0,filters:[]}}},{key:"updateData",value:function(t){this.setState(t,!1),this.emit(this.state.changeEvent,this.state)}},{key:"getBody",value:function(){return"\n    <div class='svg-property-editor-popup' ref='$popup'>\n      <div class=\"box\">\n        <div class='editor' ref='$editor'></div>\n      </div>\n    </div>"}},{key:Ur("$editor"),value:function(){return"\n      <SVGFilterEditor ref='$filter' title='Filter Type' key=\"filter\" onchange='changeFilterEditor'>\n        <property name=\"value\" type=\"json\">".concat(JSON.stringify(this.state.filters),"</property>\n      </SVGFilterEditor>\n    ")}},{key:gi("changeFilterEditor"),value:function(t,e){this.updateData({filters:e})}},{key:"refresh",value:function(){this.load()}},{key:gi("showSVGFilterPopup"),value:function(t){t.filters=t.filters.map((function(t){return t$.parse(t)})),t.preview=!oe(t.preview)||t.preview,this.setState(t),this.show(500)}},{key:gi("hideSVGFilterPopup"),value:function(){this.$el.hide()}}])&&Rrt(e.prototype,n),r&&Rrt(e,r),i}(Btt);function Drt(t){return(Drt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Art(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Irt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vrt(t,e){return(Vrt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lrt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zrt(t);if(e){var o=zrt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mrt(this,n)}}function Mrt(t,e){return!e||"object"!==Drt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zrt(t){return(zrt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Brt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vrt(t,e)}(i,t);var e,n,r,o=Lrt(i);function i(){return Art(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("background.image.position.popup.title")}},{key:"components",value:function(){return{EmbedColorPicker:kX,RangeEditor:vL,SelectEditor:cL,GradientEditor:MM}}},{key:"initState",value:function(){return{size:this.props.size||"auto",repeat:this.props.repeat||"repeat",x:this.props.x||R.z(),y:this.props.y||R.z(),width:this.props.width||R.z(),height:this.props.height||R.z(),blendMode:this.props.blendMode}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1),this.emit(this.state.changeEvent,t,this.state.params)}},{key:"templateForSize",value:function(){return"\n      <div class='popup-item'>\n        <SelectEditor label=\"".concat(this.$i18n("background.image.position.popup.size"),"\" ref='$size' key='size' value=\"").concat(this.state.size,'" options="contain,cover,auto" onchange="changeRangeEditor" />      \n      </div>\n    ')}},{key:gi("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"templateForX",value:function(){return'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="X"\n            calc="false"            \n            ref="$x" \n            key="x"\n            value="'.concat(this.state.x,'"\n            min="-1000" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForY",value:function(){return'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="Y" \n            calc="false"       \n            ref="$y" \n            key="y"\n            value="'.concat(this.state.y,'"            \n            min="-1000" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForWidth",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("background.image.position.popup.width"),'"   \n          calc="false"             \n          ref="$width" \n          key="width"\n          value="').concat(this.state.width,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForHeight",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("background.image.position.popup.height"),'"\n          calc="false"          \n          ref="$height" \n          key="height"\n          value="').concat(this.state.height,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForRepeat",value:function(){return"\n    <div class='popup-item grid-2'>\n      <label>".concat(this.$i18n("background.image.position.popup.repeat"),"</label>\n      <div class='repeat-list' ref=\"$repeat\" data-value='").concat(this.state.repeat,"'>\n          <button type=\"button\" value='no-repeat' title=\"").concat(this.$i18n("background.image.position.popup.type.no-repeat"),'"></button>\n          <button type="button" value=\'repeat\' title="').concat(this.$i18n("background.image.position.popup.type.repeat"),'"></button>\n          <button type="button" value=\'repeat-x\' title="').concat(this.$i18n("background.image.position.popup.type.repeat-x"),'"></button>\n          <button type="button" value=\'repeat-y\' title="').concat(this.$i18n("background.image.position.popup.type.repeat-y"),'"></button>\n          <button type="button" value=\'space\' title="').concat(this.$i18n("background.image.position.popup.type.space"),'"></button>\n          <button type="button" value=\'round\' title="').concat(this.$i18n("background.image.position.popup.type.round"),'"></button>\n      </div>\n    </div>\n    ')}},{key:lr("$repeat button"),value:function(t){var e=t.$dt;this.refs.$repeat.attr("data-value",e.value),this.updateData({repeat:e.value})}},{key:"templateForBlendMode",value:function(){return"\n    <div class='popup-item'>\n      <SelectEditor label=\"".concat(this.$i18n("background.image.position.popup.blend"),"\" ref='$blend' key='blendMode' value=\"").concat(this.state.blendMode,'" options="').concat(kC,'" onchange="changeRangeEditor" />\n    </div>\n    ')}},{key:"getBody",value:function(){return"\n      <div class=\"background-image-position-picker\" ref='$picker'></div>\n    "}},{key:Ur("$picker"),value:function(){return"\n      \n      <div class='box'>\n\n        <div class='background-property'>\n          ".concat(this.templateForSize(),"        \n          ").concat(this.templateForX(),"\n          ").concat(this.templateForY(),"\n          ").concat(this.templateForWidth(),"\n          ").concat(this.templateForHeight(),"\n          ").concat(this.templateForRepeat(),"\n        </div>\n      </div>\n    ")}},{key:gi("showBackgroundImagePositionPopup"),value:function(t,e){this.state.changeEvent=t.changeEvent||"changeFillPopup",this.state.params=e,this.setState(t.data),this.show(460)}}])&&Irt(e.prototype,n),r&&Irt(e,r),i}(Btt);function Frt(t){return(Frt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Grt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hrt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Grt(Object(n),!0).forEach((function(e){Xrt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Grt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xrt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nrt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Krt(t,e,n){return(Krt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qrt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Urt(t,e){return(Urt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wrt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qrt(t);if(e){var o=qrt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zrt(this,n)}}function Zrt(t,e){return!e||"object"!==Frt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qrt(t){return(qrt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jrt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Urt(t,e)}(i,t);var e,n,r,o=Wrt(i);function i(){return Yrt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("fill.picker.popup.title")}},{key:"components",value:function(){return{ImageAssetPicker:prt,EmbedColorPicker:kX,FillEditor:jY}}},{key:"initState",value:function(){return{image:__.create()}}},{key:"initialize",value:function(){Krt(qrt(i.prototype),"initialize",this).call(this),this.selectedTab="static-gradient"}},{key:"getBody",value:function(){return"\n      <div class=\"gradient-picker\" ref='$body' data-selected-editor=''>\n        <div class='box'>\n          <div ref='$gradientEditor'></div>\n        </div>\n        <div class='box'>\n          <div class='colorpicker'>\n            <EmbedColorPicker ref='$color' onchange='changeColor' />                    \n          </div>\n          <div class='assetpicker'>\n            <ImageAssetPicker ref='$asset' onchange='changeImageUrl' />\n          </div>\n        </div>\n      </div>\n     \n    "}},{key:gi("changeTabType"),value:function(t){this.refs.$body.attr("data-selected-editor",t)}},{key:"getColorString",value:function(){var t="";return this.state.image instanceof is&&(t=this.state.image.getColorString()),t}},{key:"getCurrentColor",value:function(){return this.state.image.colorsteps[this.state.selectColorStepIndex||0].color}},{key:Ur("$gradientEditor"),value:function(){return'<FillEditor \n      ref="$g" \n      value="'.concat(this.state.image,'" \n      selectedIndex="').concat(this.state.selectColorStepIndex,"\" \n      onchange='changeFillEditor'\n    />")}},{key:gi("changeFillEditor"),value:function(t){this.state.image=t,this.updateData()}},{key:gi("changeColor"),value:function(t){this.children.$g.trigger("setColorStepColor",t)}},{key:gi("changeImageUrl"),value:function(t){this.children.$g.trigger("setImageUrl",t)}},{key:gi("showFillPickerPopup"),value:function(t,e){this.show(432),t.changeEvent=t.changeEvent||"changeFillPopup",t.params=e,this.setState(t)}},{key:gi("selectColorStep"),value:function(t){this.children.$color.setValue(t)}},{key:gi("changeColorStep"),value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.image.reset(Hrt({},t)),this.updateData()}},{key:"updateData",value:function(){this.state.instance.trigger(this.state.changeEvent,this.state.image,this.state.params)}}])&&Nrt(e.prototype,n),r&&Nrt(e,r),i}(Btt);function Qrt(t){return(Qrt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function not(t,e){return(not=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=iot(t);if(e){var o=iot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oot(this,n)}}function oot(t,e){return!e||"object"!==Qrt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iot(t){return(iot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var aot={PatternInfoPopup:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&not(t,e)}(i,t);var e,n,r,o=rot(i);function i(){return tot(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getTitle",value:function(){return this.$i18n("pattern.info.popup.title")}},{key:"initState",value:function(){return{type:this.props.type||"grid",x:this.props.x||R.z(),y:this.props.y||R.z(),width:this.props.width||R.z(),height:this.props.height||R.z(),lineWidth:this.props.lineWidth||R.px(1),lineHeight:this.props.lineHeight||R.px(1),foreColor:this.props.foreColor||"black",backColor:this.props.backColor||"transparent",blendMode:this.props.blendMode||"normal"}}},{key:"updateData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(t,!1);var e=this.state,n=e.x,r=e.y,o=e.width,i=e.height,a=e.foreColor,c=e.backColor,u=e.blendMode,s=e.lineWidth,l=e.lineHeight;this.state.instance.trigger(this.state.changeEvent,{x:n,y:r,width:o,height:i,foreColor:a,backColor:c,blendMode:u,lineWidth:s,lineHeight:l},this.state.params)}},{key:gi("changeRangeEditor"),value:function(t,e){this.updateData(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e))}},{key:"templateForX",value:function(){if(this.hasNotX())return"";var t="X",e="";return"diagonal-line"===this.state.type&&(t=this.$i18n("pattern.info.popup.rotate"),e="deg"),"\n      <div class='popup-item'>\n        <RangeEditor \n            label=\"".concat(t,'"\n            calc="false"            \n            ref="$x" \n            key="x"\n            value="').concat(this.state.x,'"\n            min="0" max="1000" step="1"\n            units="').concat(e,'"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForY",value:function(){return this.hasNotY()?"":'\n      <div class=\'popup-item\'>\n        <RangeEditor \n            label="Y" \n            calc="false"       \n            ref="$y" \n            key="y"\n            value="'.concat(this.state.y,'"            \n            min="0" max="1000" step="1"\n            onchange="changeRangeEditor"\n        />\n      </div>\n    ')}},{key:"templateForWidth",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.width"),'"   \n          calc="false"             \n          ref="$width" \n          key="width"\n          value="').concat(this.state.width,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForHeight",value:function(){return"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.height"),'"\n          calc="false"          \n          ref="$height" \n          key="height"\n          value="').concat(this.state.height,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"hasNotLineWidth",value:function(){return["check"].includes(this.state.type)}},{key:"hasNotLineHeight",value:function(){return["cross-dot","dot","check","diagonal-line","horizontal-line"].includes(this.state.type)}},{key:"hasNotX",value:function(){return["grid","dot","horizontal-line"].includes(this.state.type)}},{key:"hasNotY",value:function(){return["grid","dot","diagonal-line","vertical-line"].includes(this.state.type)}},{key:"templateForLineWidth",value:function(){return this.hasNotLineWidth()?"":"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.lineWidth"),'"   \n          calc="false"             \n          ref="$lineWidth" \n          key="lineWidth"\n          value="').concat(this.state.lineWidth,'"          \n          min="0" max="500" step="1" \n          onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForLineHeight",value:function(){return this.hasNotLineHeight()?"":"\n    <div class='popup-item'>\n      <RangeEditor \n          label=\"".concat(this.$i18n("pattern.info.popup.lineHeight"),'"\n          calc="false"          \n          ref="$lineHeight" \n          key="lineHeight"\n          value="').concat(this.state.lineHeight,'"          \n          min="0" max="500" step="1" onchange="changeRangeEditor"\n      />\n    </div>\n    ')}},{key:"templateForForeColor",value:function(){return"\n      <div class='popup-item'>\n        <ColorViewEditor \n            ref='$foreColor' \n            label=\"".concat(this.$i18n("pattern.info.popup.foreColor"),"\" \n            key='foreColor' \n            value=\"").concat(this.state.foreColor,'"\n            onchange="changeRangeEditor" />\n      </div>\n    ')}},{key:"templateForBackColor",value:function(){return"\n      <div class='popup-item'>\n        <ColorViewEditor \n            ref='$backColor' \n            label=\"".concat(this.$i18n("pattern.info.popup.backColor"),"\" \n            key='backColor' \n            value=\"").concat(this.state.backColor,'"\n            onchange="changeRangeEditor" />\n      </div>\n    ')}},{key:"templateForBlendMode",value:function(){return"\n    <div class='popup-item'>\n      <BlendSelectEditor \n            ref='$blend' \n            key='blendMode' \n            label=\"".concat(this.$i18n("pattern.info.popup.blend"),'"\n            value="').concat(this.state.blendMode,'" \n            onchange="changeRangeEditor" \n        />\n    </div>\n    ')}},{key:"getBody",value:function(){return"\n      <div class=\"background-image-position-picker\" ref='$picker'></div>\n    "}},{key:Ur("$picker"),value:function(){return"\n      \n      <div class='box'>\n\n        <div class='background-property'>      \n          ".concat(this.templateForWidth(),"\n          ").concat(this.templateForHeight(),"        \n          ").concat(this.templateForLineWidth(),"\n          ").concat(this.templateForLineHeight(),"                  \n          ").concat(this.templateForX(),"\n          ").concat(this.templateForY(),"\n          ").concat(this.templateForForeColor(),"\n          ").concat(this.templateForBackColor(),"\n          ").concat(this.templateForBlendMode(),"\n        </div>\n      </div>\n    ")}},{key:gi("showPatternInfoPopup"),value:function(t,e){this.state.changeEvent=t.changeEvent||"changePatternInfoPopup",this.state.params=e,this.state.instance=t.instance,this.setState(t.data),this.show(460)}}])&&eot(e.prototype,n),r&&eot(e,r),i}(Btt),FillPickerPopup:Jrt,BackgroundImagePositionPopup:Brt,SVGFilterPopup:Trt,GradientPickerPopup:jrt,ImageSelectPopup:ort,ColorPickerPopup:Znt,SelectorPopup:Gnt,SVGPropertyPopup:Dnt,ClipPathPopup:ynt,KeyframePopup:xet,AnimationPropertyPopup:bet,TransitionPropertyPopup:Pnt,TextShadowPropertyPopup:iet,BoxShadowPropertyPopup:qtt};function cot(t){return(cot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lot(t,e){return(lot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yot(t);if(e){var o=yot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pot(this,n)}}function pot(t,e){return!e||"object"!==cot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yot(t){return(yot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lot(t,e)}(i,t);var e,n,r,o=fot(i);function i(){return uot(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{ArtBoardProperty:e3,LayerTreeProperty:b3}}},{key:"template",value:function(){return"\n      <div class='object-items'>\n        <div>\n          <ArtBoardProperty />          \n        </div>\n        <div>\n          <LayerTreeProperty />\n        </div>\n      </div>\n    "}}])&&sot(e.prototype,n),r&&sot(e,r),i}(wi),dot={heart:'<svg viewBox="0 0 20 20">\n<path d="M9.719,17.073l-6.562-6.51c-0.27-0.268-0.504-0.567-0.696-0.888C1.385,7.89,1.67,5.613,3.155,4.14c0.864-0.856,2.012-1.329,3.233-1.329c1.924,0,3.115,1.12,3.612,1.752c0.499-0.634,1.689-1.752,3.612-1.752c1.221,0,2.369,0.472,3.233,1.329c1.484,1.473,1.771,3.75,0.693,5.537c-0.19,0.32-0.425,0.618-0.695,0.887l-6.562,6.51C10.125,17.229,9.875,17.229,9.719,17.073 M6.388,3.61C5.379,3.61,4.431,4,3.717,4.707C2.495,5.92,2.259,7.794,3.145,9.265c0.158,0.265,0.351,0.51,0.574,0.731L10,16.228l6.281-6.232c0.224-0.221,0.416-0.466,0.573-0.729c0.887-1.472,0.651-3.346-0.571-4.56C15.57,4,14.621,3.61,13.612,3.61c-1.43,0-2.639,0.786-3.268,1.863c-0.154,0.264-0.536,0.264-0.69,0C9.029,4.397,7.82,3.61,6.388,3.61"></path>\n</svg>'};function vot(t){return(vot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return mot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mot(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function got(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oot(t,e){return(Oot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jot(t);if(e){var o=jot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sot(this,n)}}function Sot(t,e){return!e||"object"!==vot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jot(t){return(jot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oot(t,e)}(i,t);var e,n,r,o=kot(i);function i(){return got(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{}}},{key:"template",value:function(){return"\n      <div class='library-items'>\n        <div class='group  path'>\n          <div class='title'><label>ClipArt</label></div>\n          <div class='list'>\n            ".concat(Object.keys(dot).map((function(t){return"<div class='path-item'>".concat(dot[t],"</div>")})).join(""),"\n          </div>\n        </div>\n      </div>\n    ")}},{key:lr("$el .path-item"),value:function(t){var e=t.$dt.$("svg"),n=e.$("path"),r=bot(e.attr("viewBox").split(" "),4),o=r[0],i=r[1],a=r[2],c=r[3],u=n.attr("d"),s={x:+o,y:+i,width:+a,height:+c};this.emit("convertPath",u,s)}}])&&wot(e.prototype,n),r&&wot(e,r),i}(wi);function xot(t){return(xot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eot(t,e){return(Eot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tot(t);if(e){var o=Tot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cot(this,n)}}function Cot(t,e){return!e||"object"!==xot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tot(t){return(Tot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eot(t,e)}(i,t);var e,n,r,o=_ot(i);function i(){return Rot(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return fQ}},{key:"template",value:function(){return"\n      <div class='component-items'>\n        <div class='group'>\n          <label>".concat(this.$i18n("component.items.canvas"),"</label>\n          <div class='list'>\n            <SelectTool title='Select' />\n            <AddArtboard title='Artboard' />            \n          </div>\n        </div>              \n        <div class='group'>\n        <label>").concat(this.$i18n("component.items.layer"),"</label>\n          <div class='list'>\n            <AddRect title='Rect' />\n            <AddCircle title='Circle' />         \n            <AddText title='Text' />\n            <AddImage title='Image' />\n            <AddVideo title='Video' />\n          </div>\n        </div>\n        <div class='group'>\n         <label>").concat(this.$i18n("component.items.drawing"),"</label>\n          <div class='list'>            \n            \x3c!--<AddDrawBrush title='Brush' />--\x3e\n            <AddDrawPath title='Draw' />\n            <AddPath title='Path' />\n            <AddSVGRect title='Rect' />\n            <AddSVGCircle title='Circle' />\n            \x3c!-- <AddSVGText title='Text' /> --\x3e\n            <AddSVGTextPath title='Text Path' />\n          </div>          \n        </div>\n        <div class='group'>\n         <label>").concat(this.$i18n("component.items.custom"),"</label>\n          <div class='list'>            \n            <AddCube title='Cube' />\n            <AddCylinder title='Cylinder' />          \n          </div>          \n        </div>          \n      </div>\n    ")}},{key:lr("$el button"),value:function(t){var e=this.refs.$el.$(".selected");e&&e.removeClass("selected"),t.$dt.addClass("selected")}}])&&$ot(e.prototype,n),r&&$ot(e,r),i}(wi);function Aot(t){return(Aot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Iot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lot(t,e){return(Lot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bot(t);if(e){var o=Bot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zot(this,n)}}function zot(t,e){return!e||"object"!==Aot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bot(t){return(Bot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lot(t,e)}(i,t);var e,n,r,o=Mot(i);function i(){return Iot(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return fQ}},{key:"template",value:function(){return"\n      <div class='preview-tool-menu'>\n        <div class='items'>\n          <KeyBoard />      \n          <Fullscreen />      \n          <ExportView />\n          <ExportCodePen />\n          <div class='divdier'></div>\n          <Download />\n          <Save />\n          <Github />\n          <Manual />          \n        </div>                \n      </div>\n    "}}])&&Vot(e.prototype,n),r&&Vot(e,r),i}(wi);function Got(t){return(Got="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yot(t,e){return(Yot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Not(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Uot(t);if(e){var o=Uot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kot(this,n)}}function Kot(t,e){return!e||"object"!==Got(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uot(t){return(Uot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wot={option:"",cmd:"",shift:"",alt:"",ctrl:"",enter:"",escape:"",arrowdown:"",arrowup:"",arrowleft:"",arrowright:"",backspace:"Delete",minus:"-",equal:"+"};var Zot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yot(t,e)}(i,t);var e,n,r,o=Not(i);function i(){return Hot(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n      <div class='shortcut-items'></div>\n    "}},{key:Ur("$el"),value:function(){var t=Dp();return Ap.map((function(e){return"\n        <div class='shortcut-item'>\n          <div class='command'>\n            <label>".concat(e.description,"</label>\n            <span><kbd>").concat((n=e[t]||e.key,n.toLowerCase().split("+").map((function(t){return Wot[t]||t})).join(" + ")),"</kbd></span>\n          </div>\n          <div class='when'>").concat(e.when,"</div>\n        </div>\n      ");var n}))}}])&&Xot(e.prototype,n),r&&Xot(e,r),i}(wi);function qot(t){return(qot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jot(Object(n),!0).forEach((function(e){tit(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tit(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rit(t,e){return(rit=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oit(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ait(t);if(e){var o=ait(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iit(this,n)}}function iit(t,e){return!e||"object"!==qot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ait(t){return(ait=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cit=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rit(t,e)}(i,t);var e,n,r,o=oit(i);function i(){return eit(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return Qot(Qot({ShortCutItems:Zot},jtt),{},{ObjectItems:hot,ComponentItems:Dot,LibraryItems:Pot,PreviewToolMenu:Fot})}},{key:"initState",value:function(){return{selectedIndex:2}}},{key:"template",value:function(){return"\n      <div class='layer-tab'>\n        <div class=\"tab number-tab side-tab side-tab-left\" data-selected-value=\"2\" ref=\"$tab\">\n          <div class=\"tab-header full\" ref=\"$header\">\n            <div class='logo-item'>\n              <label class='logo' title='EasyLogic Studio'></label>\n            </div>                  \n            <div class='tab-item' data-value='4' title=\"".concat(this.$i18n("app.tab.title.components"),'">\n              <label>').concat(vm.add,'</label>\n            </div>          \n            <div class="tab-item selected" data-value="2" title="').concat(this.$i18n("app.tab.title.layers"),'">\n              <label>').concat(vm.account_tree,'</label>\n            </div>            \n            <div class="tab-item" data-value="1" title="').concat(this.$i18n("app.tab.title.projects"),'">\n              <label>').concat(vm.note,"</label>\n            </div>         \n            <div class='tab-item' data-value='5' title=\"").concat(this.$i18n("app.tab.title.assets"),'">\n              <label>').concat(vm.apps,"</label>\n            </div>   \n            <div class='tab-item extra-item' >\n              <PreviewToolMenu />\n            </div>               \n          </div>\n          <div class=\"tab-body\" ref=\"$body\">\n            <div class=\"tab-content project-content\" data-value=\"1\">\n              <ProjectProperty />\n              <ProjectInformationProperty />\n            </div>\n            <div class=\"tab-content selected\" data-value=\"2\">\n              <ObjectItems />\n            </div>\n            <div class='tab-content' data-value='3'>\n              <LibraryItems />\n            </div>\n            <div class='tab-content' data-value='4'>\n              <ComponentItems />\n            </div>    \n            <div class='tab-content' data-value='5'>\n              <div class='assets'>\n                <ColorAssetsProperty />\n                <GradientAssetsProperty />    \n                <PatternAssetsProperty />    \n                <ImageAssetsProperty />      \n                <VideoAssetsProperty />       \n                <SVGFilterAssetsProperty />                \n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:lr("$header .tab-item:not(.extra-item)"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}}])&&nit(e.prototype,n),r&&nit(e,r),i}(wi);function uit(t){return(uit="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fit(t,e){return(fit=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pit(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hit(t);if(e){var o=hit(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yit(this,n)}}function yit(t,e){return!e||"object"!==uit(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hit(t){return(hit=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dit=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fit(t,e)}(i,t);var e,n,r,o=pit(i);function i(){return sit(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{LayerTab:cit}}},{key:"template",value:function(){return'\n      <div class="feature-control object-list">\n        <LayerTab />\n      </div>\n    '}}])&&lit(e.prototype,n),r&&lit(e,r),i}(wi);function vit(t){return(vit="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function git(t,e){return(git=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wit(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kit(t);if(e){var o=kit(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oit(this,n)}}function Oit(t,e){return!e||"object"!==vit(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kit(t){return(kit=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sit=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&git(t,e)}(i,t);var e,n,r,o=wit(i);function i(){return bit(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n      <div class='logo'>\n        <div class='text'>EASY</div>\n        <div class='extra-text'>LOGIC</div>\n        <div class='image'></div>\n      </div>    \n    "}}])&&mit(e.prototype,n),r&&mit(e,r),i}(wi);function jit(t){return(jit="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rit(t,e){return(Rit=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_it(t);if(e){var o=_it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eit(this,n)}}function Eit(t,e){return!e||"object"!==jit(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _it(t){return(_it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cit=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rit(t,e)}(i,t);var e,n,r,o=$it(i);function i(){return Pit(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return fQ}},{key:"template",value:function(){return"\n      <div class='external-tool-menu  right'>\n        <div class='items'>\n          <Download />\n          <Save />\n          <Github />\n          <Manual />\n          \x3c!-- LoginButton /--\x3e\n          \x3c!-- SignButton /--\x3e\n        </div>                \n      </div>\n    "}}])&&xit(e.prototype,n),r&&xit(e,r),i}(wi);function Tit(t){return(Tit="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ait(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iit(t,e){return(Iit=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vit(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mit(t);if(e){var o=Mit(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lit(this,n)}}function Lit(t,e){return!e||"object"!==Tit(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mit(t){return(Mit=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zit=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iit(t,e)}(i,t);var e,n,r,o=Vit(i);function i(){return Dit(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n      <div class='window-background'>\n        <div class='window ".concat(this.getClassName(),"'>\n            <div class='window-title' ref=\"$title\">\n                <label>").concat(this.getTitle(),'</label>\n                <span class="tools">\n                  ').concat(this.getTools(),"\n                  <button type='button' class='close' ref='$close'>").concat(vm.close,"</button>\n                </span>\n            </div>\n            <div class='window-body'>").concat(this.getBody(),"</div>\n        </div>\n      </div>\n        ")}},{key:"getClassName",value:function(){return""}},{key:"getTitle",value:function(){return""}},{key:"getTools",value:function(){return""}},{key:"getBody",value:function(){return""}},{key:lr("$close"),value:function(){this.$el.hide()}},{key:"show",value:function(){this.$el.show("block")}},{key:"hide",value:function(){this.$el.hide()}}])&&Ait(e.prototype,n),r&&Ait(e,r),i}(wi);function Bit(t){return(Bit="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Git(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hit(t,e){return(Hit=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xit(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nit(t);if(e){var o=Nit(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yit(this,n)}}function Yit(t,e){return!e||"object"!==Bit(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nit(t){return(Nit=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kit=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hit(t,e)}(i,t);var e,n,r,o=Xit(i);function i(){return Fit(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getClassName",value:function(){return"export-window"}},{key:"getTitle",value:function(){return"Export"}},{key:"initState",value:function(){return{selectedIndex:1}}},{key:"getBody",value:function(){return'\n        <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n                <div class="tab-item selected" data-value="1">\n                    <label>HTML</label>\n                </div>\n                <div class="tab-item" data-value="2">\n                    <label>CSS</label>\n                </div>   \n                <div class="tab-item" data-value="3">\n                    <label>SVG</label>\n                </div>                                     \n                <div class="tab-item" data-value="4">\n                    <label>Assets</label>\n                </div>\n                <div class="tab-item" data-value="5">\n                    <label>Animation Player</label>\n                </div>                                                                                  \n                <div class="tab-item" data-value="6">\n                    <label>SVG Image</label>\n                </div>     \n                <div class="tab-item" data-value="7">\n                    <label>SVG Image Preview</label>\n                </div>                        \n            </div>\n            <div class="tab-body" ref="$body">\n                <div class="tab-content selected" data-value="1">\n                    <pre ref=\'$html\'></pre>\n                </div>\n                <div class=\'tab-content\' data-value=\'2\'>\n                    <pre ref=\'$css\'></pre>\n                </div>                        \n                <div class=\'tab-content\' data-value=\'3\'>\n                    <pre ref=\'$svg\'></pre>\n                </div>\n                <div class="tab-content" data-value="4">\n                    <pre ref=\'$assets\'></pre>\n                </div>\n                <div class="tab-content" data-value="5">\n                    <pre ref=\'$js\'></pre>\n                </div>     \n                <div class="tab-content" data-value="6">\n                    <pre ref=\'$svgimage\'></pre>\n                </div>                                                                       \n                <div class="tab-content" data-value="7">\n                    <div ref=\'$svgimagePreview\'></div>\n                </div>                                                       \n            </div>\n      </div>\n        '}},{key:gi("showExportWindow"),value:function(){this.show(),this.refresh()}},{key:"refresh",value:function(){var t=this,e=this.$selection.currentProject||{layers:[]},n="\n".concat(this.makeStyle(e),"\n").concat(e.artboards.map((function(e){return t.makeStyle(e).replace(/\n/g,"\n\t")})).join("\n"),"\n");this.refs.$css.text(n);var r="\n".concat(e.artboards.map((function(t){return t.html})).join("\n"),"\n        ");this.refs.$html.text(r);var o=Uc.generate(this.$editor);if(this.refs.$js.text(o.js),this.$selection.currentArtboard){var i=Uc.generateSVG(this.$editor,this.$selection.currentArtboard);this.refs.$svgimage.text(i),this.refs.$svgimagePreview.html(er.createByHTML(i))}else this.refs.$svgimage.empty(),this.refs.$svgimagePreview.empty()}},{key:"makeProjectStyle",value:function(t){var e=t.toKeyframeString(),n=t.toRootVariableCSS();return"\n        :root {\n            ".concat(ge(n),"\n        }\n\n        /* keyframe */\n        ").concat(e,"\n        ")}},{key:"makeStyle",value:function(t){var e=this;if(t.is("project"))return this.makeProjectStyle(t);var n=t.generateView("[data-id='".concat(t.id,"']"));return"\n        ".concat(n,"\n        ")+t.layers.map((function(t){return e.makeStyle(t)})).join("")}},{key:lr("$header .tab-item"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1))}},{key:gi("showExportWindow"),value:function(){this.show(),this.refresh()}}])&&Git(e.prototype,n),r&&Git(e,r),i}(zit);function Uit(t){return(Uit="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qit(t,e){return(qit=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jit(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tat(t);if(e){var o=tat(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qit(this,n)}}function Qit(t,e){return!e||"object"!==Uit(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tat(t){return(tat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eat=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qit(t,e)}(i,t);var e,n,r,o=Jit(i);function i(){return Wit(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getClassName",value:function(){return"login-window"}},{key:"getTitle",value:function(){return"Login"}},{key:"getBody",value:function(){return'\n            <div >\n                <label>email <input type="text" ref="$email" /></label>\n                <label>password <input type="text" ref="$password" /></label>\n                <button type="button" ref=\'$login\'>Login</button>\n            </div>\n        '}},{key:lr("$login"),value:function(t){var e=this,n=this.refs.$email.value,r=this.refs.$password.value;firebase.auth().signInWithEmailAndPassword(n,r).then((function(t){e.$editor.setUser(t),e.hide()})).catch((function(t){t.code,t.message,console.log(t)}))}},{key:gi("showLoginWindow"),value:function(){this.show()}}])&&Zit(e.prototype,n),r&&Zit(e,r),i}(zit);function nat(t){return(nat="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iat(t,e){return(iat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aat(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=uat(t);if(e){var o=uat(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cat(this,n)}}function cat(t,e){return!e||"object"!==nat(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uat(t){return(uat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sat=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iat(t,e)}(i,t);var e,n,r,o=aat(i);function i(){return rat(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getClassName",value:function(){return"sign-window"}},{key:"getTitle",value:function(){return"Sign"}},{key:"getBody",value:function(){return'\n            <div >\n                <label>fullname <input type="text" ref="$fullname" /></label>\n                <label>email <input type="text" ref="$email" /></label>\n                <label>password <input type="text" ref="$password" /></label>\n                <button type="button" ref=\'$register\'>Register</button>\n            </div>\n        '}},{key:lr("$register"),value:function(){console.log(firebase);var t=this.refs.$email.value,e=this.refs.$password.value;firebase.auth().createUserWithEmailAndPassword(t,e).catch((function(t){t.code,t.message,console.log(t)}))}},{key:gi("showSignWindow"),value:function(){this.show()}}])&&oat(e.prototype,n),r&&oat(e,r),i}(zit);function lat(t){return(lat="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yat(t,e){return(yat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hat(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vat(t);if(e){var o=vat(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dat(this,n)}}function dat(t,e){return!e||"object"!==lat(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vat(t){return(vat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bat=new Set;Ap.forEach((function(t){bat.add(t.category)}));var mat={};bat.forEach((function(t){Ap.filter((function(e){return e.category===t})).forEach((function(t){mat[t.category]||(mat[t.category]=[]),mat[t.category].push(t)}))}));var gat={ARROWRIGHT:"",ARROWLEFT:"",ARROWUP:"",ARROWDOWN:"",BACKSPACE:"",CMD:""},wat=Dp(),Oat={ShortcutWindow:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yat(t,e)}(i,t);var e,n,r,o=hat(i);function i(){return fat(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getClassName",value:function(){return"shortcut-window"}},{key:"getTitle",value:function(){return"ShortCuts"}},{key:"getKeyString",value:function(t,e){return(e[t]||e.key).split("+").map((function(t){return t.trim()})).map((function(t){var e=t.toUpperCase();return"<span>".concat(gat[e]||e,"</span>")})).join(" + ")}},{key:"getTemplateForShortcutItem",value:function(t){return"\n            <div class='shortcut-view-item'>\n                <div class='title'>".concat(t.description,"</div>\n                <div class='os-item'>").concat(this.getKeyString(wat,t),"</div>\n            </div>                        \n        ")}},{key:"getTemplateForCategory",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"\n            <div class='item'>\n                <h2>".concat(t,"</h2>\n                <div>\n                    ").concat(n.map((function(t){return e.getTemplateForShortcutItem(t)})).join(""),"\n                </div>\n            </div>\n        ")}},{key:"getTemplateForLayer",value:function(){return"\n            <div class='item'>\n                <h2>Layer</h2>\n                <div>\n                    <div class='shortcut-view-item'>\n                        <div class='title'>\n                            Add Rect\n                            <span class='description'>fdsafdsfdf</span>\n                        </div>\n\n                        <div class='os-item mac'><span>CTRL</span>+<span>R</span></div>\n                        <div class='os-item win'>R</div>\n                        <div class='os-item linux'>R</div>\n                    </div>\n                </div>\n            </div>\n        "}},{key:"getBody",value:function(){var t=this;return'\n        <div class="list">\n            '.concat(Object.keys(mat).map((function(e){return t.getTemplateForCategory(e,mat[e])})).join(""),"\n        </div>\n        ")}},{key:gi("showShortcutWindow"),value:function(){this.show()}}])&&pat(e.prototype,n),r&&pat(e,r),i}(zit),SignWindow:sat,LoginWindow:eat,ExportWindow:Kit};function kat(t){return(kat="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pat(t,e){return(Pat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xat(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$at(t);if(e){var o=$at(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rat(this,n)}}function Rat(t,e){return!e||"object"!==kat(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $at(t){return($at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Eat=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pat(t,e)}(i,t);var e,n,r,o=xat(i);function i(){return Sat(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n        <div class='add-image-button'>\n            <input type='file' accept='image/*' multiple=\"true\" ref='$file' class='embed-file-input'/>\n            <input type='file' accept='video/*' multiple=\"true\" ref='$video' class='embed-video-input'/>\n        </div>\n        "}},{key:wr("$file"),value:function(t){var e=this;this.refs.$file.files.forEach((function(t){e.emit("updateImage",t,e.state.rect)}))}},{key:wr("$video"),value:function(t){var e=this;this.refs.$video.files.forEach((function(t){e.emit("updateVideo",t,e.state.rect)}))}},{key:gi("openImage"),value:function(t){this.state.rect=t,this.refs.$file.click()}},{key:gi("openVideo"),value:function(t){this.state.rect=t,this.refs.$video.click()}}])&&jat(e.prototype,n),r&&jat(e,r),i}(wi);function _at(t){return(_at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cat(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Tat(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tat(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tat(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iat(t,e){return(Iat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vat(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mat(t);if(e){var o=Mat(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lat(this,n)}}function Lat(t,e){return!e||"object"!==_at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mat(t){return(Mat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zat={"stroke-dasharray":"Stroke Dash Array","stroke-dashoffset":"Stroke Dash Offset","stroke-linejoin":"Stroke Line Join"},Bat=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iat(t,e)}(i,t);var e,n,r,o=Vat(i);function i(){return Dat(this,i),o.apply(this,arguments)}return e=i,(n=[{key:gi("refreshCanvas","refreshSelection")+Gr(1e3),value:function(){this.refresh()}},{key:"makeTimelineObjectRow",value:function(t){var e=this,n=this.$selection.currentProject,r=n.searchById(t.id);if(r){var o=this.$timeline.checkLayer(r.id),i=n.searchById(r.id);return"\n        <div class='timeline-object' data-timeline-animation-id=\"".concat(r.id,"\">\n            <div class='timeline-object-row layer' data-selected='").concat(o,"' data-layer-id='").concat(r.id,"' data-property=''>\n                <div class='icon'>").concat(vm.chevron_right,"</div>\n                <div class='title'> ").concat(r.name,"</div>\n                <div class='tools'>\n                    <button type=\"button\" class='remove-timeline' data-layer-id='").concat(r.id,"'>").concat(vm.remove,"</button>\n                    <button type=\"button\" class='empty'></button>                    \n                </div>\n            </div>\n\n            ").concat(t.properties.map((function(t){var n=e.$timeline.checkProperty(r.id,t.property);return"\n                <div class='timeline-object-row layer-property' data-selected='".concat(n,"' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'>\n                  <div class='icon'></div>                    \n                    <div class='title'>").concat(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return zat[t]||e||t}(t.property),"</div>\n                    <div class='current-value'>\n                      ").concat("d"===t.property?i.totalLength:"","\n                      ").concat("points"===t.property?i.totalLength:"","\n                    </div>\n                    <div class='tools'>\n                        <button type=\"button\" class='remove' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'>").concat(vm.remove,"</button>\n                        <button type=\"button\" class='add' data-layer-id='").concat(r.id,"' data-property='").concat(t.property,"'></button>\n                    </div>\n                </div>")})).join(""),"                                                      \n        </div>\n        ")}}},{key:"template",value:function(){return"\n            <div class='timeline-object-list'></div>\n        "}},{key:Ur()+Fr,value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.getSelectedTimeline();return n?n.animations.map((function(e){return t.makeTimelineObjectRow(e)})):""}},{key:"refreshSelection",value:function(){var t=this;this.$el.$$('[data-selected="true"]').forEach((function(t){t.attr("data-selected","false")})),this.$timeline.each((function(e){var n=t.$el.$('[data-layer-id="'.concat(e.layerId,'"][data-property="').concat(e.property,'"]'));n&&n.attr("data-selected","true")}))}},{key:lr("$el .timeline-object-row.layer .title"),value:function(t){var e=t.$dt.closest("timeline-object");e.toggleClass("collapsed");var n=t.$dt.closest("timeline-object-row").attr("data-layer-id");this.$timeline.selectLayer(n),this.$timeline.toggleLayerContainer(e.attr("data-timeline-animation-id")),this.refreshSelection(),this.emit("toggleTimelineObjectRow",n,e.hasClass("collapsed"))}},{key:lr("$el .timeline-object-row.layer .add-property"),value:function(t){var e=t.$dt.closest("timeline-object-row").$(".property-select").val(),n=t.$dt.attr("data-layer-id");if(e){var r=this.$selection.current;this.emit("addTimelineProperty",{layerId:n,property:e,value:r[e]})}}},{key:lr("$el .timeline-object-row.layer .remove-timeline"),value:function(t){var e=t.$dt.attr("data-layer-id");e&&this.emit("removeTimeline",e)}},{key:lr("$el .timeline-object-row.layer-property .add"),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.$dt.attr("data-property");n&&this.emit("copyTimelineProperty",e,n)}},{key:lr("$el .timeline-object-row.layer-property .remove"),value:function(t){var e=t.$dt.attr("data-layer-id"),n=t.$dt.attr("data-property");n&&this.emit("removeTimelineProperty",e,n)}},{key:lr("$el .timeline-object-row.layer-property .title"),value:function(t){var e=Cat(t.$dt.closest("timeline-object-row").attrs("data-layer-id","data-property"),2),n=e[0],r=e[1];this.$timeline.selectProperty(n,r),this.refreshSelection(),this.emit("refreshTimeline")}},{key:gi("refreshTimeline"),value:function(){this.refresh()}}])&&Aat(e.prototype,n),r&&Aat(e,r),i}(wi);function Fat(t){return(Fat="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gat(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hat(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gat(Object(n),!0).forEach((function(e){Xat(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gat(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xat(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yat(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Nat(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nat(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nat(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wat(t,e){return(Wat=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zat(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jat(t);if(e){var o=Jat(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qat(this,n)}}function qat(t,e){return!e||"object"!==Fat(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jat(t){return(Jat=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qat=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wat(t,e)}(i,t);var e,n,r,o=Zat(i);function i(){return Kat(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"config",value:function(t){return this.parent.state[t]}},{key:"calculateTimeToPosition",value:function(t,e,n){var r=(t-e)/(n-e);return R.px(this.rect.totalWidth*r+10)}},{key:"makeSubOffset",value:function(t,e){var n=[];if("offset-path"===t){var r=Yat(e.split(",").map((function(t){return t.trim()})),1)[0],o=this.$selection.currentProject.searchById(r);o&&(e=o.d)}else e=null;if(e){var i=Aw(new ec(e).segments),a=i.totalLength,c=i.interpolateList,u=0;(n=c.map((function(t){var e={totalLength:a,length:t.length+u};return u+=t.length,e}))).pop()}return n}},{key:"makeKeyframe",value:function(t,e,n){var r=this,o=n.keyframes.filter((function(t){return e.displayStartTime<=t.time&&t.time<=e.displayEndTime})).map((function(t,o){var i=r.calculateTimeToPosition(t.time,e.displayStartTime,e.displayEndTime),a=r.makeSubOffset(n.property,t.value);return Hat(Hat({left:i},t),{},{subOffset:a,index:o})}));return"\n        <div class='keyframe-back'".concat(Oe({"data-layer-id":t,"data-property":n.property}),">\n\n            ").concat(o.map((function(e,i){var a=o[i+1];if(!a)return"";var c=R.px(e.left.value),u=R.px(a.left.value-e.left.value),s=r.$timeline.checked(e.id)&&r.$timeline.checked(a.id);return"\n                    <div ".concat(Oe({"data-selected":"".concat(s),class:{"offset-line":!0}})," style='left: ").concat(c,"; width: ").concat(u,"'} ></div>\n\n                    ").concat(e.subOffset.map((function(r,o){var i=R.px(e.left.value+r.length/r.totalLength*u.value);return"\n                        <div class='".concat(ke({"sub-offset":!0}),"' style='left: ").concat(i,"' ").concat(Oe({"data-offset-id":e.id,"data-layer-id":t,"data-property":n.property,"data-suboffset-index":o})," ></div>\n        \n                        ")})).join(""),"\n                ")})).join(""),"\n        </div>\n        <div class='keyframe'>\n\n            ").concat(o.map((function(e){var o=r.$timeline.checked(e.id);return"<div class='offset' style='left: ".concat(e.left,"' ").concat(Oe({"data-selected":"".concat(o),"data-offset-id":e.id,"data-layer-id":t,"data-property":n.property,"data-offset-index":e.index})," ></div>\n\n                ")})).join(""),"\n        </div>")}},{key:"makeTimelineKeyframeRow",value:function(t,e){var n=this,r=this.$selection.currentProject.searchById(e.id);if(r){var o={};e.properties.map((function(t){return t.keyframes.map((function(t){return t.time}))})).forEach((function(t){t.forEach((function(t){return o[t]=!0}))}));var i=Object.keys(o).map((function(t){return+t}));return"\n        <div class='timeline-keyframe ".concat(ke({collapsed:e.collapsed}),"' data-timeline-layer-id=\"").concat(r.id,"\">\n            <div class='timeline-keyframe-row layer'  ").concat(Oe({"data-row-index":this.state.rowIndex++,"data-layer-id":r.id})," >\n                <div class='keyframe-shadow'>\n                ").concat(i.map((function(e){var r=n.calculateTimeToPosition(e,t.displayStartTime,t.displayEndTime);return"<div class='offset' style='left: ".concat(r,"'></div>")})).join(""),"\n                </div>\n            </div>\n\n            ").concat(e.properties.map((function(e){return"\n                <div class='timeline-keyframe-row layer-property' ".concat(Oe({"data-row-index":n.state.rowIndex++,"data-property":e.property,"data-layer-id":r.id})," >\n                    ").concat(e.keyframes.length?n.makeKeyframe(r.id,t,e):"","\n                </div>")})).join(""),"                                                      \n        </div>\n        ")}}},{key:"template",value:function(){return"\n            <div class='timeline-keyframe-container' tabIndex=\"-1\">\n                <div ref='$keyframeList' class='timeline-keyframe-list'></div>\n                <div class='drag-area' ref='$dragArea'></div>\n            </div>\n        "}},{key:"hasDragPlace",value:function(t){var e=er.create(t.target);return!1===e.hasClass("offset")&&!1===e.hasClass("offset-line")}},{key:"getRowIndex",value:function(t){return t=re(t)?this.state.rowIndex:+t}},{key:hr("$el")+Lr("Backspace"),value:function(t){this.emit("deleteTimelineKeyframe")}},{key:"isNotMoved",value:function(t,e){return 0===t&&0===e}},{key:Er("$el")+Vr("hasDragPlace")+Xr("moveDragArea")+Yr("moveEndDragArea"),value:function(t){this.dragXY=this.getRealPosition(t),this.startRowIndex=this.getRowIndex(er.create(t.target).attr("data-row-index")),this.left=null,this.width=null}},{key:"moveDragArea",value:function(t,e){if(!this.isNotMoved(t,e)){var n=t<0?R.px(this.dragXY.x+t):R.px(this.dragXY.x),r=e<0?R.px(this.dragXY.y+e):R.px(this.dragXY.y),o=R.px(Math.abs(t)),i=R.px(Math.abs(e));this.refs.$dragArea.css({left:n,top:r,width:o,height:i}),this.left=n,this.width=o}}},{key:"getLayerList",value:function(){for(var t=this.getRowIndex(er.create(this.$config.get("bodyEvent").target).attr("data-row-index")),e=Math.min(t,this.startRowIndex),n=Math.max(t,this.startRowIndex),r=[],o=e;o<=n;o++)r.push('[data-row-index="'.concat(o,'"]'));return this.refs.$keyframeList.$$(r.join(",")).map((function(t){var e=Yat(t.attrs("data-layer-id","data-property"),2);return{layerId:e[0],property:e[1]}}))}},{key:"getTime",value:function(t,e,n){return t+(e-t)*n}},{key:"moveEndDragArea",value:function(t,e){if(!this.isNotMoved(t,e))if(this.left){this.refs.$dragArea.css({left:null,top:null,width:null,height:null});var n=this.$el.width(),r=this.getTimeRateByPosition(this.left.value/n),o=this.getTimeRateByPosition((this.left.value+this.width.value)/n);this.$timeline.selectBySearch(this.getLayerList(),r,o),this.refresh(),this.startRowIndex=null}else this.doubleClicked?this.doubleClicked=!1:(this.$timeline.empty(),this.refresh())}},{key:Ur("$keyframeList")+Fr,value:function(){var t=this,e=this.$selection.currentProject;if(!e)return"";var n=e.getSelectedTimeline();if(!n)return"";var r=this.$el.rect().width-20;return this.rect={totalWidth:r,startX:10},this.state.rowIndex=0,n.animations.map((function(e){return t.makeTimelineKeyframeRow(n,e)}))}},{key:lr("$el .timeline-keyframe-row.layer .title"),value:function(t){t.$dt.closest("timeline-keyframe").toggleClass("collapsed")}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"getRealPosition",value:function(t){var e=this.$el.rect(),n={x:t.xy.x-e.left,width:e.width,y:t.xy.y-e.top,height:e.height},r=n.width-10;return n.x<10&&(n.x=10),n.x>r&&(n.x=r),n.rate=(n.x-10)/(r-10),n}},{key:"getTimeRateByPosition",value:function(t){var e=this.currentTimeline;if(e){var n=e.displayStartTime,r=e.displayEndTime;return this.getTime(n,r,t)}return 0}},{key:fr("$el .layer-property"),value:function(t){var e=Yat(t.$dt.attrs("data-layer-id","data-property"),2),n=e[0],r=e[1],o=this.getTimeRateByPosition(this.getRealPosition(t).rate);this.emit("addTimelineKeyframe",{layerId:n,property:r,time:o}),this.doubleClicked=!0,this.refresh()}},{key:Er("$el .layer-property .offset")+Vr("hasCurrentTimeline")+Xr("moveOffset")+Yr("moveEndOffset"),value:function(t){var e=this;this.$offset=t.$dt;var n=this.$offset.attr("data-offset-id"),r=this.$offset.attr("data-property"),o=this.$offset.attr("data-layer-id");this.$keyframeBack=this.$offset.closest("timeline-keyframe-row").$(".keyframe-back");var i=this.$el.rect().width-20;this.rect={totalWidth:i,startX:10};var a=this.$selection.currentProject;a&&(this.offset=a.getTimelineKeyframeById(o,r,n),this.layerId=o,this.property=r,this.cachedOffsetTime=this.offset.time),this.timeline=this.currentTimeline,this.$timeline.checked(n)||this.$timeline.select(this.offset),this.cachedOffsetList={},this.$timeline.cachedList().forEach((function(t){e.cachedOffsetList[t.id]=t.time})),this.emit("refreshOffsetValue",this.offset)}},{key:"moveOffset",value:function(t,e){var n=this;if(!this.isNotMoved(t,e)){var r=this.timeline,o=r.displayStartTime,i=r.displayEndTime,a=r.fps,c=t<0?-1:1,u=Math.abs(t)/this.rect.totalWidth*(i-o);this.$timeline.each((function(t){var e=n.cachedOffsetList[t.id]+u*c;e=Math.max(e,o),e=Math.min(e,i);var r=pu(a,e);e=fu(a,r),t.time=e})),this.refresh(),this.emit("refreshOffsetValue",this.offset)}}},{key:gi("toggleTimelineObjectRow"),value:function(t,e){this.$el.$('.timeline-keyframe[data-timeline-layer-id="'.concat(t,'"]')).toggleClass("collapsed",e)}},{key:"moveEndOffset",value:function(t,e){if(this.isNotMoved(t,e))return this.refresh(),void this.emit("refreshOffsetValue",this.offset);var n=this.$selection.currentProject;n&&(this.$timeline.each((function(t){n.sortTimelineKeyframe(t.layerId,t.property)})),this.refresh())}},{key:gi("addTimeline","moveTimeline")+Gr(100),value:function(){this.refresh()}},{key:gi("refreshTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:gi("resize.window")+Gr(100),value:function(){this.refresh()}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}}])&&Uat(e.prototype,n),r&&Uat(e,r),i}(wi);function tct(t){return(tct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ect(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rct(t,e){return(rct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=act(t);if(e){var o=act(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ict(this,n)}}function ict(t,e){return!e||"object"!==tct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function act(t){return(act=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rct(t,e)}(i,t);var e,n,r,o=oct(i);function i(){return ect(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n        <div class='keyframe-time-control'>\n            <div class='time-manager'>\n                <button type=\"button\" ref='$timer'>".concat(vm.timer,'</button>\n                <label><input type="text" ref=\'$currentTime\' /></label>\n                <label>FPS <input type="number" ref=\'$fps\' min="0" max="999" /></label>\n                <label><input type="text" ref=\'$duration\' /></label>\n            </div>\n        </div>')}},{key:"refresh",value:function(){this.refreshTimeInfo()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"refreshTimeInfo",value:function(){var t=this.currentTimeline;t&&(this.refs.$currentTime.val(t.currentTimecode),this.refs.$duration.val(t.totalTimecode),this.refs.$fps.val(t.fps))}},{key:"refreshCurrentTime",value:function(){var t=this.currentTimeline;t&&this.refs.$currentTime.val(t.currentTimecode)}},{key:gi("playTimeline"),value:function(){this.refreshCurrentTime()}},{key:gi("refreshTimeline"),value:function(){this.refresh()}},{key:gi("moveTimeline","refreshSelection")+Hr(10),value:function(){this.refresh()}},{key:hr("$fps")+Mr,value:function(t){var e=+this.refs.$fps.val(),n=this.$selection.currentProject;n&&(n.setFps(e),this.emit("moveTimeline"))}},{key:"checkNumberOrTimecode",value:function(t){var e=t.target.value.trim();return+e+""===e||!!e.match(/^[0-9:]+$/)}},{key:"checkKey",value:function(t){return!!t.key.match(/^[0-9:]+$/)||"Backspace"===t.code||"ArrowRight"===t.code||"ArrowLeft"===t.code}},{key:lr("$timer"),value:function(){var t=this.$selection.currentProject;t&&(t.seek(this.refs.$currentTime.value,(function(t){return!0})),this.emit("playTimeline"))}},{key:yr("$currentTime"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:hr("$currentTime")+Mr+Vr("checkNumberOrTimecode")+Vr("hasCurrentTimeline")+Nr,value:function(t){var e=this.refs.$currentTime.value,n=this.$selection.currentProject;n&&n.setTimelineCurrentTime(e),this.refresh(),this.emit("moveTimeline")}},{key:yr("$duration"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:hr("$duration")+Mr+Vr("checkNumberOrTimecode")+Vr("hasCurrentTimeline")+Nr,value:function(t){var e=this.refs.$duration.value,n=this.$selection.currentProject;n&&n.setTimelineTotalTime(e),this.refresh(),this.emit("moveTimeline")}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;return t?t.getSelectedTimeline():null}}])&&nct(e.prototype,n),r&&nct(e,r),i}(wi);function uct(t){return(uct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fct(t,e){return(fct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hct(t);if(e){var o=hct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yct(this,n)}}function yct(t,e){return!e||"object"!==uct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hct(t){return(hct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fct(t,e)}(i,t);var e,n,r,o=pct(i);function i(){return sct(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{KeyframeTimeControl:cct}}},{key:"template",value:function(){return"\n            <div class='timeline-top-toolbar'>\n                <KeyframeTimeControl />\n            </div>\n        "}}])&&lct(e.prototype,n),r&&lct(e,r),i}(wi);function vct(t){return(vct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oct(t,e){return(Oct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jct(t);if(e){var o=jct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sct(this,n)}}function Sct(t,e){return!e||"object"!==vct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jct(t){return(jct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oct(t,e)}(i,t);var e,n,r,o=kct(i);function i(){return gct(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n        <div class='keyframe-time-view'>\n            <div class='time-duration'>\n                <div class='duration-handle-left'></div>\n                <div class='duration-handle-right'></div>\n                <div class='duration-slider' ref='$slider'>\n                    <div class='gauge' ref='$gauge'></div>\n                    <div class='start' ref='$start'></div>\n                    <div class='end' ref='$end'></div>\n                </div>\n            </div>\n            <canvas ref=\"$canvas\"></canvas>\n        </div>"}},{key:"refresh",value:function(){this.refreshTimeDisplay(),this.refreshCanvas()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline}},{key:"refreshTimeDisplay",value:function(){var t=this.currentTimeline;if(t){var e=R.percent(t.displayStartTime/t.totalTime*100),n=R.percent(t.displayEndTime/t.totalTime*100);this.refs.$start.css("left",e),this.refs.$end.css("left",n),this.refs.$gauge.css({left:e,width:R.percent(n.value-e.value)})}}},{key:Er("$start")+Vr("hasCurrentTimeline")+Xr("moveStartButton"),value:function(t){this.sliderRect=this.refs.$slider.rect(),this.endX=R.parse(this.refs.$end.css("left")).toPx(this.sliderRect.width)}},{key:"moveStartButton",value:function(){var t=this.$config.get("pos").x-this.sliderRect.x,e=this.endX;t=Math.max(t,0);var n=(t=Math.min(t,e))/this.sliderRect.width;this.$selection.currentProject.setDisplayStartTimeRate(n),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:Er("$end")+Vr("hasCurrentTimeline")+Xr("moveEndButton"),value:function(t){this.sliderRect=this.refs.$slider.rect(),this.startX=R.parse(this.refs.$start.css("left")).toPx(this.sliderRect.width)}},{key:"moveEndButton",value:function(){var t=this.$config.get("pos").x-this.sliderRect.x,e=this.startX,n=this.sliderRect.width;t=Math.max(t,e);var r=(t=Math.min(t,n))/this.sliderRect.width;this.$selection.currentProject.setDisplayEndTimeRate(r),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:Er("$gauge")+Vr("hasCurrentTimeline")+Xr("moveGaugeButton"),value:function(t){this.sliderRect=this.refs.$slider.rect();var e=this.currentTimeline,n=e.displayStartTime,r=e.displayEndTime;this.timelineStartTime=n,this.timelineEndTime=r}},{key:"moveGaugeButton",value:function(t,e){var n=t/this.sliderRect.width;this.$selection.currentProject.setDisplayTimeDxRate(n,this.timelineStartTime,this.timelineEndTime),this.refreshTimeDisplay(),this.refreshCanvas(),this.emit("moveTimeline")}},{key:"config",value:function(t){return this.parent.state[t]}},{key:"setConfig",value:function(t,e){this.parent.setState(mct({},t,e),!1)}},{key:"refreshCanvas",value:function(){var t=this.$theme("timeline_grid_font_color"),e=this.$theme("timeline_timeview_bottom_color"),n=this.$theme("timeline_line_color"),r=this.currentTimeline;if(r){var o=this.$el.rect(),i=o.width,a=(o.height,r.displayStartTime),c=r.displayEndTime,u=r.fps,s=r.currentTime,l=Math.floor(a*u),f=Math.floor(c*u),p=(i=o.width,f-l),y=5;p<100?y=10:p<1e3?y=100:p<1e4?y=1e3:p<1e5&&(y=1e4),l%y!=0&&(l+=y-l%y);var h={textAlign:"center",textBaseline:"middle",font:"10px sans-serif"};this.refs.$canvas.resize({width:i,height:24}),this.refs.$canvas.update((function(){var r=this.rect(),o=i-20;for(this.drawOption(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bct(Object(n),!0).forEach((function(e){mct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({strokeStyle:"rgba(204, 204, 204, 0.3)",lineWidth:.5},h));l<f;l+=y){var p=(fu(u,l)-a)/(c-a)*o;this.drawOption({fillStyle:t}),this.drawText(p+10,7,yu(u,l).replace(/00\:/g,"")+"f")}this.drawOption({strokeStyle:e,lineWidth:1}),this.drawLine(0,r.height-.5,r.width,r.height);var d=(s-a)/(c-a)*o;this.drawOption({strokeStyle:n,fillStyle:n,lineWidth:1}),this.drawPath([d-4+10,r.height-10],[d+4+10,r.height-10],[d+4+10,r.height-4],[d+10,r.height],[d-4+10,r.height-4],[d-4+10,r.height-10])}))}}},{key:Er("$canvas")+Vr("hasCurrentTimeline")+Xr()+Yr("moveEndCurrentTime"),value:function(t){this.selectedCanvasOffset=this.refs.$canvas.offset(),this.originalRect=this.$el.rect(),this.width=this.originalRect.width-20,this.emit("hideSelectionToolView"),this.$selection.empty(),this.emit("refreshSelection")}},{key:"move",value:function(){var t=this.width,e=t,n=this.$config.get("pos").x-this.selectedCanvasOffset.left;n=Math.max(n,0),n=Math.min(n,e),this.$selection.currentProject.setTimelineCurrentTimeRate(n/t),this.refresh(),this.$selection.currentProject.seek(),this.emit("moveTimeline")}},{key:"moveEndCurrentTime",value:function(){this.emit("resetSelection")}},{key:gi("resize.window")+Gr(100),value:function(){this.refresh()}},{key:gi("refreshTimeline","playTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:gi("moveTimeline","refreshSelection")+Hr(10),value:function(){this.refresh()}},{key:"currentTimeline",get:function(){var t=this.$selection.currentProject;return t?t.getSelectedTimeline():null}}])&&wct(e.prototype,n),r&&wct(e,r),i}(wi);function xct(t){return(xct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ect(t,e){return(Ect=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tct(t);if(e){var o=Tct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cct(this,n)}}function Cct(t,e){return!e||"object"!==xct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tct(t){return(Tct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ect(t,e)}(i,t);var e,n,r,o=_ct(i);function i(){return Rct(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='keyframe-time-grid-view'>\n                <canvas ref=\"$canvas\"></canvas>\n            </div>\n        "}},{key:"refresh",value:function(){this.refreshCanvas()}},{key:"currentTimeline",value:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}},{key:"hasCurrentTimeline",value:function(){return!!this.currentTimeline()}},{key:"refreshCanvas",value:function(){var t=this.$theme("timeline_line_color"),e=this.currentTimeline();if(e){var n=this.$el.rect().width,r=e.currentTime,o=e.displayStartTime,i=e.displayEndTime;this.refs.$canvas.resize(this.$el.rect()),this.refs.$canvas.update((function(){var e=this.rect(),a=(r-o)/(i-o)*(n-20);this.drawOption({strokeStyle:t,lineWidth:1}),this.drawLine(a+10,0,a+10,e.height)}))}}},{key:gi("resize.window")+Gr(100),value:function(){this.refresh()}},{key:gi("refreshTimeline","playTimeline","toggleFooterEnd"),value:function(){this.refresh()}},{key:gi("moveTimeline","refreshSelection")+Hr(50),value:function(){this.refresh()}}])&&$ct(e.prototype,n),r&&$ct(e,r),i}(wi);function Act(t){return(Act="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ict(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zct(t,e){return(zct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gct(t);if(e){var o=Gct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fct(this,n)}}function Fct(t,e){return!e||"object"!==Act(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gct(t){return(Gct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zct(t,e)}(i,t);var e,n,r,o=Bct(i);function i(){return Lct(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{CSSPropertyEditor:FF,CubicBezierEditor:JL}}},{key:"initState",value:function(){return{time:0,timing:"linear",selectedIndex:1}}},{key:"updateData",value:function(t){this.setState(t,!1),this.parent.trigger(this.props.onchange,this.state)}},{key:"getProperties",value:function(){return[{key:this.state.property,value:re(this.state.value)?"10px":this.state.value,editor:this.state.editor}].filter((function(t){return t.key}))}},{key:"refresh",value:function(){var t=this.$selection.currentProject,e="00:00:00:00";if(t){var n=t.getSelectedTimeline();n&&(e=pu(n.fps,this.state.time))}this.refs.$offsetTime.val(e),this.children.$propertyEditor.trigger("showCSSPropertyEditor",this.getProperties()),this.children.$cubicBezierEditor.trigger("showCubicBezierEditor",this.state.timing)}},{key:"template",value:function(){return'\n    <div class=\'timeline-value-editor\'>\n        <div class="tab number-tab" ref="$tab">\n            <div class="tab-header full" ref="$header">\n                <div class="tab-item selected" data-value="1">\n                    <label>'.concat(this.$i18n("timeline.value.editor.value"),'</label>\n                </div>          \n                <div class="tab-item" data-value="2">\n                    <label>').concat(this.$i18n("timeline.value.editor.timing"),'</label> \n                </div>                            \n            </div>\n            <div class="tab-body" ref="$body">\n                <div class="tab-content selected padding-zero" data-value="1">\n                    ').concat(this.templateForOffset(),"  \n                    ").concat(this.templateForProperty(),'  \n                </div>\n                <div class="tab-content" data-value="2">\n                    ').concat(this.templateForTimingFunction(),"\n                </div>\n            </div>\n        </div>\n    </div>\n    ")}},{key:lr("$header .tab-item"),value:function(t){var e=+t.$dt.attr("data-value");this.state.selectedIndex!==e&&(this.$el.$$('[data-value="'.concat(this.state.selectedIndex,'"]')).forEach((function(t){return t.removeClass("selected")})),this.$el.$$('[data-value="'.concat(e,'"]')).forEach((function(t){return t.addClass("selected")})),this.setState({selectedIndex:e},!1),this.refresh())}},{key:"checkNumberOrTimecode",value:function(t){var e=t.target.value.trim();return+e+""===e||!!e.match(/^[0-9:]+$/)}},{key:"checkKey",value:function(t){return!!t.key.match(/^[0-9:]+$/)||"Backspace"===t.code||"ArrowRight"===t.code||"ArrowLeft"===t.code}},{key:yr("$offsetTime"),value:function(t){if(!this.checkKey(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:hr("$offsetTime")+Mr+Vr("checkNumberOrTimecode")+Nr,value:function(t){var e=this.refs.$offsetTime.value,n=this.$selection.currentProject;if(n){var r=n.getSelectedTimeline();this.updateData({time:fu(r.fps,e)})}}},{key:"templateForOffset",value:function(){return"\n      <div class='offset-input'>\n        <label>".concat(this.$i18n("timeline.value.editor.time"),"</label>\n        <input type=\"text\" ref='$offsetTime' />\n        <button type=\"button\" ref='$seek' title='Seek timeline'>").concat(vm.gps_fixed,"</button>\n      </div>\n    ")}},{key:lr("$seek"),value:function(){var t=this,e=this.$selection.currentProject;e&&(e.seek(this.refs.$offsetTime.value,(function(e){return e.layer.id===t.state.layerId&&e.property===t.state.property})),this.emit("playTimeline"))}},{key:"templateForProperty",value:function(){return"\n      <CSSPropertyEditor ref='$propertyEditor' hide-title='true' onchange='changePropertyEditor' />\n    "}},{key:"templateForTimingFunction",value:function(){return"\n    <div class='timing-function'>\n      <CubicBezierEditor ref='$cubicBezierEditor' key=\"timing\" value=\"".concat(this.state.timingFunction,"\" onChange='changeCubicBezier' />\n    </div>\n    ")}},{key:gi("refreshPropertyValue"),value:function(){var t=this.$selection.currentProject;if(t){var e=t.searchById(this.state.layerId);if(e){var n=e[this.state.property]+"";this.trigger("refreshOffsetValue",{value:n}),this.updateData({value:n})}}}},{key:gi("refreshOffsetValue"),value:function(t){this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ict(Object(n),!0).forEach((function(e){Vct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ict(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),!1),this.refresh()}},{key:gi("changeCubicBezier"),value:function(t,e){this.updateData(Vct({},t,e+""))}},{key:gi("changePropertyEditor"),value:function(t){if(t.length){var e=t[0];this.updateData({value:e.value+""})}}}])&&Mct(e.prototype,n),r&&Mct(e,r),i}(wi);function Xct(t){return(Xct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kct(t,e){return(Kct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Uct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zct(t);if(e){var o=Zct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wct(this,n)}}function Wct(t,e){return!e||"object"!==Xct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zct(t){return(Zct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kct(t,e)}(i,t);var e,n,r,o=Uct(i);function i(){return Yct(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='timeline-play-control' >\n                <div class='row'>\n                    <div class='play-buttons' ref='$playButtons' data-status='".concat(this.state.status,"'>\n                        <button type=\"button\" data-value='play' class='play' title='").concat(this.$i18n("timeline.play.control.play"),"'>").concat(vm.play,"</button>\n                        <button type=\"button\" data-value='pause' class='pause' title='").concat(this.$i18n("timeline.play.control.pause"),"'>").concat(vm.pause,"</button>                \n                        <button type=\"button\" data-value='first' class='first' title='").concat(this.$i18n("timeline.play.control.first"),"'>").concat(vm.skip_prev,"</button>\n                        <button type=\"button\" data-value='prev' class='prev' title='").concat(this.$i18n("timeline.play.control.prev"),"'>").concat(vm.fast_rewind,"</button>                    \n                        <button type=\"button\" data-value='next' class='next' title='").concat(this.$i18n("timeline.play.control.next"),"'>").concat(vm.fast_forward,"</button>\n                        <button type=\"button\" data-value='last' class='last' title='").concat(this.$i18n("timeline.play.control.last"),"'>").concat(vm.skip_next,"</button>\n                    </div>\n                </div>\n                <div class='row'>            \n                    <label title='Speed'>").concat(this.$i18n("timeline.play.control.speed"),"</label>\n                    <div class='input speed-number' >\n                        <input type='number' min=\"0.1\" max=\"10\" step=\"0.1\" ref='$speed' value='").concat(this.state.speed,"' />\n                    </div>\n                </div>                \n                <div class='row'>            \n                    <label><span ref='$repeatStatus'>").concat(this.$i18n("timeline.play.control.repeat"),"</span></label>\n                    <div class='input' >\n                        <input type='number' min=\"0\" max=\"100\" step=\"1\" ref='$iteration' value='").concat(this.state.iterationCount,"' />\n                    </div> \n                </div>\n                <div class='row'>\n                    <label> ").concat(this.$i18n("timeline.play.control.direction"),"</label>\n                    <div class='direction-buttons' ref='$direction' data-selected-direction='").concat(this.state.direction,"'>\n                        <button type=\"button\" data-value='normal' title='").concat(this.$i18n("timeline.play.control.normal"),"'>").concat(vm.arrowRight,"</button>\n                        <button type=\"button\" data-value='alternate' title='").concat(this.$i18n("timeline.play.control.alternate"),"'>").concat(vm.alternate,"</button>\n                        <button type=\"button\" data-value='reverse' title='").concat(this.$i18n("timeline.play.control.reverse"),"' style='transform: rotateY(180deg)'>").concat(vm.arrowRight,"</button>\n                        <button type=\"button\" data-value='alternate-reverse' title='").concat(this.$i18n("timeline.play.control.alternate.reverse"),"' style='transform: rotateY(180deg)'>").concat(vm.alternate_reverse,"</button>\n                    </div>\n                </div>                                \n            </div>\n        ")}},{key:"initState",value:function(){var t=1,e=1,n="normal",r=this.getSelectedTimeline();return r&&(t=r.speed,e=r.iterationCount,n=r.direction),{status:"pause",speed:t,iterationCount:e,direction:n}}},{key:"getSelectedTimeline",value:function(){var t=this.$selection.currentProject;if(t)return t.getSelectedTimeline()}},{key:"updateData",value:function(t){this.setState(t,!1);var e=this.$selection.currentProject;e&&e.setTimelineInfo(t)}},{key:lr("$playButtons button"),value:function(t){var e=t.$dt.attr("data-value");this.setState({status:e}),"play"===e?this.play():"pause"===e?this.pause():"first"===e?this.first():"prev"===e?this.prev():"next"===e?this.next():"last"===e&&this.last()}},{key:"first",value:function(){this.emit("firstTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"prev",value:function(){this.emit("prevTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"next",value:function(){this.emit("nextTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"last",value:function(){this.emit("lastTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:"play",value:function(){this.emit("playTimelineItem",this.state.speed,this.state.iterationCount,this.state.direction)}},{key:"pause",value:function(){this.emit("pauseTimelineItem"),this.$editor.changeMode("SELECTION"),this.emit("afterChangeMode")}},{key:gi("stopTimeline"),value:function(){this.updateData({status:"pause"})}},{key:lr("$direction button"),value:function(t){this.updateData({direction:t.$dt.attr("data-value")}),this.refresh()}},{key:lr("$repeatStatus"),value:function(t){var e=0;0===this.refs.$iteration.value&&(e=1),this.updateData({iterationCount:e}),this.refs.$iteration.val(e),this.bindData("$repeatStatus")}},{key:Or("$iteration"),value:function(t){this.updateData({iterationCount:+this.refs.$iteration.value}),this.bindData("$repeatStatus")}},{key:Or("$speed"),value:function(t){this.updateData({speed:+this.refs.$speed.value})}},{key:Jr("$repeatStatus"),value:function(){return{text:0===this.state.iterationCount?this.$i18n("timeline.play.control.infinite"):this.$i18n("timeline.play.control.repeat")}}},{key:Jr("$playButtons"),value:function(){return{"data-status":this.state.status}}},{key:Jr("$direction"),value:function(){return{"data-selected-direction":this.state.direction}}},{key:gi("selectTimeline"),value:function(){this.refresh()}}])&&Nct(e.prototype,n),r&&Nct(e,r),i}(wi);function Jct(t){return(Jct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eut(t,e){return(eut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=out(t);if(e){var o=out(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rut(this,n)}}function rut(t,e){return!e||"object"!==Jct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function out(t){return(out=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var iut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eut(t,e)}(i,t);var e,n,r,o=nut(i);function i(){return Qct(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{TimelineAnimationProperty:_9,TimelinePlayControl:qct,TimelineValueEditor:Hct,KeyframeTimeView:Pct,TimelineKeyframeList:Qat,TimelineObjectList:Bat,TimelineTopToolbar:dct,KeyframeTimeGridView:Dct}}},{key:"isFirstShow",value:function(){return!1}},{key:"getTitle",value:function(){return this.$i18n("timeline.property.title")}},{key:"getTools",value:function(){return"\n      <TimelinePlayControl />\n      \n    "}},{key:"getClassName",value:function(){return"timeline full managed-tool"}},{key:"getBody",value:function(){return"\n      <div class='timeline-animation-area'>\n        <TimelineAnimationProperty />\n      </div>\n      <div class='timeline-area'>\n        <div class='timeline-header'>\n          <div class='timeline-object-toolbar'>\n            <TimelineTopToolbar />\n          </div>\n          <div class='timeline-keyframe-toolbar' ref='$keyframeToolBar'>\n            <KeyframeTimeView ref='$keyframeTimeView' /> \n          </div>\n        </div>\n        <div class='timeline-body'>\n          <div class='timeline-object-area' ref='$area'>\n            <TimelineObjectList />\n          </div>\n          <div class='timeline-keyframe-area' ref='$keyframeArea'>\n            <TimelineKeyframeList ref='$keyframeList' />          \n          </div>\n          <KeyframeTimeGridView ref='$keyframeTimeGridView' />            \n        </div>\n      </div>\n      <div class='timeline-value-area'>\n        <TimelineValueEditor ref='$valueEditor' onchange='changeKeyframeValue' />\n      </div>\n    "}},{key:Rr("$keyframeArea"),value:function(t){this.refs.$area.setScrollTop(this.refs.$keyframeArea.scrollTop())}},{key:Rr("$area"),value:function(t){this.refs.$keyframeArea.setScrollTop(this.refs.$area.scrollTop())}},{key:gi("refreshValueEditor")+Gr(100),value:function(){this.children.$valueEditor.refresh()}},{key:"afterRender",value:function(){this.trigger("refreshValueEditor")}},{key:gi("changeKeyframeValue"),value:function(t){this.emit("setTimelineOffset",t)}},{key:br("$area")+Nr,value:function(t){}},{key:vr("$area")+Nr,value:function(t){this.emit("addTimelineItem",t.dataTransfer.getData("layer/id"))}},{key:"onToggleShow",value:function(){this.emit("toggleFooter",this.isPropertyShow())}}])&&tut(e.prototype,n),r&&tut(e,r),i}(RQ);function aut(t){return(aut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sut(t,e){return(sut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=put(t);if(e){var o=put(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fut(this,n)}}function fut(t,e){return!e||"object"!==aut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function put(t){return(put=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yut=Object.keys(Oi),hut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sut(t,e)}(i,t);var e,n,r,o=lut(i);function i(){return cut(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectEditor:cL}}},{key:"template",value:function(){var t=this,e=yut.map((function(e){var n=t.$i18n("app.lang.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.lang"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e.join(","),'" \n                        value="').concat(this.$editor.locale,'" \n                        onchange="changeLocale"\n                    /> \n                </div>\n            </div>\n        ')}},{key:gi("changeLocale"),value:function(t,e){this.emit("setLocale",e)}}])&&uut(e.prototype,n),r&&uut(e,r),i}(wi);function dut(t){return(dut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function but(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mut(t,e){return(mut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Out(t);if(e){var o=Out(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wut(this,n)}}function wut(t,e){return!e||"object"!==dut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Out(t){return(Out=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kut=["dark","light","toon"],Sut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mut(t,e)}(i,t);var e,n,r,o=gut(i);function i(){return vut(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectEditor:cL}}},{key:"template",value:function(){var t=this,e=kut.map((function(e){var n=t.$i18n("app.theme.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.theme"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e.join(","),'" \n                        value="').concat(this.$editor.theme,'" \n                        onchange="changeItem"\n                    /> \n                </div>\n            </div>\n        ')}},{key:gi("changeItem"),value:function(t,e){this.emit("switchTheme",e)}}])&&but(e.prototype,n),r&&but(e,r),i}(wi);function jut(t){return(jut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Put(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rut(t,e){return(Rut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_ut(t);if(e){var o=_ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eut(this,n)}}function Eut(t,e){return!e||"object"!==jut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _ut(t){return(_ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rut(t,e)}(i,t);var e,n,r,o=$ut(i);function i(){return Put(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{SelectEditor:cL}}},{key:"template",value:function(){var t=this,e=["all","css","svg"].map((function(e){var n=t.$i18n("app.layout.".concat(e));return"".concat(e,":").concat(n)}));return"\n            <div class='status-selector'>\n                <label>".concat(this.$i18n("app.label.layout"),"</label>\n                <div class='item'>\n                    <SelectEditor \n                        ref='$locale' \n                        options=\"").concat(e,'" \n                        value="').concat(this.$editor.layout,'" \n                        onchange="changeEditorLayoutValue"\n                    /> \n                </div>\n            </div>\n        ')}},{key:gi("changeEditorLayoutValue"),value:function(t,e){this.emit("setEditorLayout",e)}}])&&xut(e.prototype,n),r&&xut(e,r),i}(wi);function Tut(t){return(Tut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iut(t,e){return(Iut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mut(t);if(e){var o=Mut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lut(this,n)}}function Lut(t,e){return!e||"object"!==Tut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mut(t){return(Mut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iut(t,e)}(i,t);var e,n,r,o=Vut(i);function i(){return Dut(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"components",value:function(){return{LayoutSelector:Cut,LanguageSelector:hut,ThemeSwitcher:Sut}}},{key:"template",value:function(){return"\n            <div class='status-bar'>\n                <div class='message-view' ref='$msg'></div>\n                <div class='tool-view' ref='$tool'>\n                    <LayoutSelector />\n                    <ThemeSwitcher />\n                    <LanguageSelector />\n                </div>\n            </div>\n        "}},{key:"initState",value:function(){return{msg:""}}},{key:Jr("$msg"),value:function(){return{text:this.state.msg}}},{key:gi("addStatusBarMessage"),value:function(t){this.setState({msg:t})}}])&&Aut(e.prototype,n),r&&Aut(e,r),i}(wi);function But(t){return(But="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hut(t,e){return(Hut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nut(t);if(e){var o=Nut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yut(this,n)}}function Yut(t,e){return!e||"object"!==But(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nut(t){return(Nut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hut(t,e)}(i,t);var e,n,r,o=Xut(i);function i(){return Fut(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"template",value:function(){return"\n            <div class='notification-view'>\n            </div>\n        "}},{key:Dr("$el"),value:function(t){er.create(t.target).remove()}},{key:lr("$el .item > .icon"),value:function(t){t.$dt.parent().remove()}},{key:"getMessageTemplate",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return"\n        <div class='item ".concat(t,"' style='transition-duration: ").concat(r,"ms;'>\n            <div class='title'>").concat(e,"</div> \n            <div class='description'>").concat(n,"</div>\n            <span class='icon'>").concat(vm.close,"</span>\n        </div>\n    ")}},{key:gi("notify"),value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3,o=er.createByHTML(this.getMessageTemplate(t,e,n,r));this.$el.prepend(o),setTimeout((function(t){t.css("opacity",0)}),100,o)}}])&&Gut(e.prototype,n),r&&Gut(e,r),i}(wi);function Uut(t){return(Uut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wut(Object(n),!0).forEach((function(e){qut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tst(t,e,n){return(tst="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ost(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function est(t,e){return(est=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nst(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ost(t);if(e){var o=ost(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rst(this,n)}}function rst(t,e){return!e||"object"!==Uut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ost(t){return(ost=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ist=["TEXTAREA"],ast=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&est(t,e)}(i,t);var e,n,r,o=nst(i);function i(){return Jut(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"initialize",value:function(){tst(ost(i.prototype),"initialize",this).call(this);var t=er.body();t.attr("data-theme",this.$editor.theme),t.addClass(navigator.userAgent.includes("Windows")?"ua-window":"ua-default")}},{key:"initState",value:function(){return{hideLeftPanel:!1,hideRightPanel:!1,leftSize:340,rightSize:260}}},{key:gi("changed.locale"),value:function(){this.rerender()}},{key:"template",value:function(){return"\n      <div class=\"layout-main\">\n        <div class='layout-top' ref='$top'>\n\n        </div>\n        <div class=\"layout-middle\" ref='$middle'>\n          <div class=\"layout-header\" ref='$headerPanel'>\n              <ToolMenu />    \n              <PageSubEditor />      \n          </div>        \n          <div class=\"layout-body\" ref='$bodyPanel'>\n            <CanvasView />        \n          </div>                           \n          <div class='layout-left' ref='$leftPanel'>\n            <ObjectList />\n          </div>\n          <div class=\"layout-right\" ref='$rightPanel'>\n            <Inspector />\n          </div>\n\n          <div class='layout-footer'>\n            <TimelineProperty />\n          </div>   \n          <div class='splitter' ref='$splitter'></div>\n          <button type=\"button\" class='toggleLeft' ref='$toggleLeftButton'></button>\n          <button type=\"button\" class='toggleRight' ref='$toggleRightButton'></button>\n        </div>\n        \n        <StatusBar />\n\n        <FillPopup />\n        <ColorPickerPopup  />\n        <BoxShadowPropertyPopup />\n        <BackgroundImagePositionPopup />\n        <TextShadowPropertyPopup />\n        <AnimationPropertyPopup />\n        <TransitionPropertyPopup />\n        <KeyframePopup />\n        <ClipPathPopup />\n        <SVGPropertyPopup />\n        <SelectorPopup />\n        <ImageSelectPopup />\n        <GradientPickerPopup />\n        <FillPickerPopup />\n        <PatternInfoPopup />\n        <SVGFilterPopup />\n        <ExportWindow />\n        <ShortcutWindow />\n        \x3c!-- LoginWindow / --\x3e\n        \x3c!-- SignWindow / --\x3e\n        <ImageFileView />\n        <NotificationView />\n      </div>\n    "}},{key:Jr("$headerPanel"),value:function(){var t="".concat(this.state.leftSize,"px"),e="".concat(this.state.rightSize,"px");return this.state.hideLeftPanel&&(t="0px"),this.state.hideRightPanel&&(e="0px"),{style:{left:t,right:e}}}},{key:Jr("$splitter"),value:function(){var t="".concat(this.state.leftSize,"px");return this.state.hideLeftPanel&&(t="0px"),{style:{left:t}}}},{key:Jr("$leftPanel"),value:function(){var t="0px",e=R.px(this.state.leftSize);return this.state.hideLeftPanel&&(t="-".concat(this.state.leftSize,"px")),{style:{left:t,width:e}}}},{key:Jr("$toggleLeftButton"),value:function(){var t="0px",e=vm.arrowRight;return!1===this.state.hideLeftPanel&&(t="".concat(this.state.leftSize,"px"),e=vm.arrowLeft),{style:{left:t},html:e}}},{key:Jr("$toggleRightButton"),value:function(){var t="0px",e=vm.arrowLeft;return!1===this.state.hideRightPanel&&(t="".concat(this.state.rightSize,"px"),e=vm.arrowRight),{style:{right:t},html:e}}},{key:Jr("$rightPanel"),value:function(){var t="0px";return this.state.hideRightPanel&&(t="-".concat(this.state.rightSize,"px")),{style:{right:t}}}},{key:Jr("$bodyPanel"),value:function(){var t="".concat(this.state.leftSize,"px"),e="".concat(this.state.rightSize,"px");return this.state.hideLeftPanel&&(t="0px"),this.state.hideRightPanel&&(e="0px"),{style:{left:t,right:e}}}},{key:"components",value:function(){return Zut(Zut(Zut({},Oat),aot),{},{ObjectList:dit,Inspector:Ttt,ToolMenu:gQ,PageSubEditor:YK,CanvasView:QK,LogoView:Sit,ExternalToolMenu:Cit,ImageFileView:Eat,StatusBar:zut,TimelineProperty:iut,PreviewToolMenu:Fot,NotificationView:Kut})}},{key:Er("$splitter")+Xr("moveSplitter")+Yr("moveEndSplitter"),value:function(){this.minSize=this.$theme("left_size"),this.maxSize=this.$theme("left_max_size"),this.leftSize=R.parse(this.refs.$splitter.css("left")).value}},{key:"moveSplitter",value:function(t){this.setState({leftSize:Math.max(Math.min(this.leftSize+t,this.maxSize),this.minSize)})}},{key:"refresh",value:function(){this.bindData("$splitter"),this.bindData("$headerPanel"),this.bindData("$leftPanel"),this.bindData("$rightPanel"),this.bindData("$toggleRightButton"),this.bindData("$toggleLeftButton"),this.bindData("$bodyPanel"),this.emit("resizeEditor")}},{key:lr("$toggleRightButton"),value:function(){this.toggleState("hideRightPanel")}},{key:lr("$toggleLeftButton"),value:function(){this.toggleState("hideLeftPanel")}},{key:gi("changeTheme"),value:function(){er.body().attr("data-theme",this.$editor.theme)}},{key:gi("toggleFooter"),value:function(t){this.$el.toggleClass("show-footer",t)}},{key:Dr("$el .layout-footer"),value:function(t){this.emit("toggleFooterEnd")}},{key:gi("refreshAll"),value:function(){this.emit("refreshProjectList"),this.trigger("refreshAllSelectProject")}},{key:gi("refreshAllSelectProject"),value:function(){this.emit("refreshArtBoardList"),this.emit("refreshArtboard")}},{key:br("$middle")+Nr,value:function(t){}},{key:vr("$middle")+Nr,value:function(t){this.emit("fileDropItems",gC.getAllDropItems(t))}},{key:"isNotFormElement",value:function(t){var e=t.target.tagName;return!ist.includes(e)&&"true"!==er.create(t.target).attr("contenteditable")&&("INPUT"!==e||"text"!==t.target.type)}},{key:yr("document")+Vr("isNotFormElement"),value:function(t){this.emit("keymap.keydown",t)}},{key:hr("document")+Vr("isNotFormElement"),value:function(t){this.emit("keymap.keyup",t)}}])&&Qut(e.prototype,n),r&&Qut(e,r),i}(wi);function cst(t){return(cst="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ust(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function sst(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ust(Object(n),!0).forEach((function(e){lst(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ust(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lst(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pst(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yst(t,e,n){return(yst="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bst(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hst(t,e){return(hst=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dst(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bst(t);if(e){var o=bst(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vst(this,n)}}function vst(t,e){return!e||"object"!==cst(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bst(t){return(bst=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mst=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hst(t,e)}(i,t);var e,n,r,o=dst(i);function i(){return fst(this,i),o.apply(this,arguments)}return e=i,r=[{key:"parse",value:function(t){return new i(t)}},{key:"parseStyle",value:function(t){var e=null;if(t["border-image"]){var n=vn(t["border-image"]);n.str.match(/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi).forEach((function(r,o){var a=null;r=mn(r,n.matches);var c=t["border-image"].replace(r,"").split(" ").map((function(t){return R.parse(t)}));r.includes("repeating-linear-gradient")?a=ol.parse(r):r.includes("linear-gradient")?a=Us.parse(r):r.includes("repeating-radial-gradient")?a=Cl.parse(r):r.includes("radial")?a=Ol.parse(r):r.includes("repeating-conic-gradient")?a=of.parse(r):r.includes("conic")?a=Wl.parse(r):r.includes("url")&&(a=Ts.parse(r)),e=new i({type:a.type,image:a});var u=c.filter((function(t){return fe(t.value)}));1===u.length?e.reset({slice:{top:u[0].clone(),bottom:u[0].clone(),left:u[0].clone(),right:u[0].clone()}}):2===u.length?e.reset({slice:{top:u[0].clone(),bottom:u[0].clone(),left:u[1].clone(),right:u[1].clone()}}):3===u.length?e.reset({slice:{top:u[0].clone(),bottom:u[2].clone(),left:u[1].clone(),right:u[1].clone()}}):4===u.length&&e.reset({slice:{top:u[0].clone(),bottom:u[2].clone(),left:u[3].clone(),right:u[1].clone()}})}))}return e}}],(n=[{key:"addImageResource",value:function(t){return this.clear("image-resource"),this.addItem("image-resource",t)}},{key:"addGradient",value:function(t){return this.addImageResource(t)}},{key:"setImageUrl",value:function(t){t.images&&t.images.length&&this.reset({type:"image",image:this.createImage(t.images[0])})}},{key:"createImage",value:function(t){return new Ts({url:t})}},{key:"setGradient",value:function(t){this.reset({type:t.type,image:this.createGradient(t,this.json.image)})}},{key:"createGradient",value:function(t,e){var n=t.colorsteps,r=t.angle,o=t.radialType,i=t.radialPosition,a=e.toJSON();switch(delete a.itemType,delete a.type,t.type){case"static-gradient":return new bs(sst(sst({},a),{},{colorsteps:n}));case"linear-gradient":return new Us(sst(sst({},a),{},{colorsteps:n,angle:r}));case"repeating-linear-gradient":return new ol(sst(sst({},a),{},{colorsteps:n,angle:r}));case"radial-gradient":return new Ol(sst(sst({},a),{},{colorsteps:n,radialType:o,radialPosition:i}));case"repeating-radial-gradient":return new Cl(sst(sst({},a),{},{colorsteps:n,radialType:o,radialPosition:i}));case"conic-gradient":return new Wl(sst(sst({},a),{},{colorsteps:n,angle:r,radialPosition:i}));case"repeating-conic-gradient":return new of(sst(sst({},a),{},{colorsteps:n,angle:r,radialPosition:i}))}return new is}},{key:"getDefaultObject",value:function(){return yst(bst(i.prototype),"getDefaultObject",this).call(this,{itemType:"border-image",checked:!1,repeat:"stretch",slice:{},width:{},image:bs.create()})}},{key:"convert",value:function(t){return Object.keys(t.slice).forEach((function(e){t.slice[e]=R.parse(t.slice[e])})),t}},{key:"toBorderImageOffsetCSS",value:function(){var t=this;return Object.keys(this.json.offset).map((function(e){return t.json.offset[e].toString()})).join(" ")}},{key:"toBorderImageCSS",value:function(){if(!this.json.image)return{};var t=this.json.image.toString();return{"border-image-source":"".concat(t)}}},{key:"toBorderImageRepeatCSS",value:function(){return this.json.repeat?{"border-image-repeat":"".concat(this.json.repeat)}:{}}},{key:"toBorderImageWidthCSS",value:function(){var t=this;if(!this.json.width)return{};if(0===Object.keys(this.json.width).filter((function(e){return t.json.width[e].value>0})).length)return{};var e=Object.keys(this.json.width).map((function(e){return t.json.width[e].toString()})).join(" ");return{"border-image-width":"".concat(e)}}},{key:"toBorderImageSliceCSS",value:function(){var t=this;if(!this.json.slice)return{};var e=Object.keys(this.json.slice).map((function(e){var n=t.json.slice[e];return n.isPercent()?n.toString():n.value})).join(" ");return{"border-image-slice":"".concat(e)}}},{key:"toCSS",value:function(){return sst(sst(sst(sst({},this.toBorderImageCSS()),this.toBorderImageRepeatCSS()),this.toBorderImageSliceCSS()),this.toBorderImageWidthCSS())}},{key:"toString",value:function(){return Qt(this.toCSS(),(function(t,e){return"".concat(t,": ").concat(e)})).join(";")}},{key:"image",get:function(){return this.json.image},set:function(t){this.json.image=t}}])&&pst(e.prototype,n),r&&pst(e,r),i}(Ui);function gst(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wst(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gst(Object(n),!0).forEach((function(e){Ost(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gst(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ost(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kst=wst(wst(wst({},up),ow),{},{BackgroundImage:Of,BorderImage:mst,BoxShadow:Um}),Sst={ColorStep:Nu,ConicGradient:Wl,LinearGradient:Us,RadialGradient:Ol,RepeatingConicGradient:of,RepeatingLinearGradient:ol,RepeatingRadialGradient:Cl,URLImageResource:Ts},jst={AssetParser:zc,PathGenerator:HA,PathParser:ec,PathStringManager:sc,Point:Ya,SegmentManager:$A,PolygonParser:Pw};function Pst(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xst(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pst(Object(n),!0).forEach((function(e){Rst(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pst(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rst(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $st=xst(xst(xst(xst(xst({createCSSEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"white"};return uy(xst({components:{CSSEditor:ast},template:"<div><CSSEditor /></div>"},t))},CSSEditor:ast},kst),Sst),RD),jst),{},{Length:R});function Est(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Est(Object(n),!0).forEach((function(e){Cst(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Est(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cst(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tst(){return new $st.createCSSEditor}e.default=_st(_st(_st(_st({version:"0.10.0"},sy),fb),$st),{},{startEditor:Tst});window.EasylogicEditor=Tst(),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(t){console.log("SW registered: ",t)})).catch((function(t){console.log("SW registration failed: ",t)}))}))}])}));